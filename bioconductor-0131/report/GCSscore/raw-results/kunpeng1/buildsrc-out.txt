##############################################################################
##############################################################################
###
### Running command:
###
###   /home/biocbuild/bbs-3.17-bioc/R/bin/R CMD build --keep-empty-dirs --no-resave-data GCSscore
###
##############################################################################
##############################################################################


* checking for file ‘GCSscore/DESCRIPTION’ ... OK
* preparing ‘GCSscore’:
* checking DESCRIPTION meta-information ... OK
* installing the package to build vignettes
* creating vignettes ... ERROR
--- re-building ‘GCSscore.Rnw’ using Sweave
GCSscore supports the selected chip-type: Clariom_S_Mouse
Bioconductor platform design (.pd) package needs to be installed for chip-type: Clariom_S_Mouse
installing .pd package: pd.clariom.s.mouse
Bioconductor version 3.17 (BiocManager 1.30.19), R Under development (unstable)
  (2023-01-14 r83615)
Installing package(s) 'pd.clariom.s.mouse'
trying URL 'https://bioconductor.org/packages/3.17/data/annotation/src/contrib/pd.clariom.s.mouse_3.14.1.tar.gz'
Content type 'application/x-gzip' length 41186290 bytes (39.3 MB)
==================================================
downloaded 39.3 MB

* installing *source* package ‘pd.clariom.s.mouse’ ...
** using staged installation
** R
** data
** inst
** byte-compile and prepare package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded from temporary location
** testing if installed package can be loaded from final location
** testing if installed package keeps a record of temporary installation path
* DONE (pd.clariom.s.mouse)

The downloaded source packages are in
	‘/tmp/RtmphyKJy6/downloaded_packages’
GCS-score analysis initiated for chip-type: Clariom_S_Mouse
GCS-score 'probeFile' package needs to be installed for chip-type: Clariom_S_Mouse
typeFilter set to (0) by default for best .CEL file scaling and normalization statistics 
 all probe_id types (including control probe_ids and bgp probe_ids) will be for GCS-score calculation.
it is generally recommended to leave the typeFilter option set to (0)
** Checking if Bioconductor annotation (.db) packages are installed chip-type: Clariom_S_Mouse **  

transcriptcluster annotation (.db) package not installed for chip-type: Clariom_S_Mouse
installing (.db) package: clariomsmousetranscriptcluster.db
Bioconductor version 3.17 (BiocManager 1.30.19), R Under development (unstable)
  (2023-01-14 r83615)
Installing package(s) 'clariomsmousetranscriptcluster.db'
trying URL 'https://bioconductor.org/packages/3.17/data/annotation/src/contrib/clariomsmousetranscriptcluster.db_8.8.0.tar.gz'
Content type 'application/x-gzip' length 1504532 bytes (1.4 MB)
==================================================
downloaded 1.4 MB

* installing *source* package ‘clariomsmousetranscriptcluster.db’ ...
** using staged installation
** R
** inst
** byte-compile and prepare package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded from temporary location
** testing if installed package can be loaded from final location
** testing if installed package keeps a record of temporary installation path
* DONE (clariomsmousetranscriptcluster.db)

The downloaded source packages are in
	‘/tmp/RtmphyKJy6/downloaded_packages’


 ** Generating probeFile package for chip-type: Clariom_S_Mouse **
*This package will only be generated once for each chip-type*
*Or if probeFile version for the chip-type needs to be updated*
writing intermediary .probe_tab file to temporary directory
GCSscore 'probeFile' created from BioConductor platform design (pd) package: pd.clariom.s.mouse
GCSscore 'probeFile' package installed for chip: clariomsmouse
DONE
transcript-level netaffx-based annotation package needs to be installed for chip-type: Clariom_S_Mouse

 ** Generating transcript-level annotation package for chip-type: Clariom_S_Mouse **
Building full transcriptclusterid-based annotation file from Bioconductor sources
This transcriptcluster/TCid annotation package contains data parsed from the following source: 
  (1) The nettaffx annotations from BioConductor platform design (pd) package: pd.clariom.s.mouse
  (2) The concise list of well annotated genes from BioConductor annotation data (.db) package: clariomsmousetranscriptcluster.db
transcriptcluster/TCid annotation package installing for chip: clariomsmouse
DONE
 *NOTE: 'method' is automatically set to (1) (transcript_cluster_id-level) for all ClariomS arrays
 *Performing gene-level analysis (by 'transcript_cluster_id')

loading probeFile from package: clariomsmouse.probeFile
loading annotations from package: clariomsmouse.TC.netaffx.annot
cannot disable removal of outliers and masked probes for non 3'-IVT chip types

*********************************
**** begin GCS-score analysis ***
*********************************

reading .CEL files
calculating scaling factors (SF1 & SF2)
calculating rawQ and SDT values
calculating and normalizing GCS-score results

** GCS-score analysis complete **
*********************************
GCSscore supports the selected chip-type: Clariom_S_Mouse
Bioconductor platform design (.pd) package already installed for: Clariom_S_Mouse
GCS-score analysis initiated for chip-type: Clariom_S_Mouse
The latest verison (0.0.5) of the GCS-score 'probeFile' package already installed for chip-type: Clariom_S_Mouse
typeFilter set to (0) by default for best .CEL file scaling and normalization statistics 
 all probe_id types (including control probe_ids and bgp probe_ids) will be for GCS-score calculation.
it is generally recommended to leave the typeFilter option set to (0)
** Checking if Bioconductor annotation (.db) packages are installed chip-type: Clariom_S_Mouse **  

Annotation package (clariomsmousetranscriptcluster.db) already installed for chip-type: Clariom_S_Mouse
The latest verison (0.0.5) of the transcript-level netaffx-based annotation package already installed for chip-type: Clariom_S_Mouse
 *NOTE: 'method' is automatically set to (1) (transcript_cluster_id-level) for all ClariomS arrays
 *Performing gene-level analysis (by 'transcript_cluster_id')

loading probeFile from package: clariomsmouse.probeFile
loading annotations from package: clariomsmouse.TC.netaffx.annot
cannot disable removal of outliers and masked probes for non 3'-IVT chip types

*********************************
**** begin GCS-score analysis ***
*********************************

reading .CEL files
calculating scaling factors (SF1 & SF2)
calculating rawQ and SDT values
calculating and normalizing GCS-score results

*custom run name (column name) for BATCH job:

    example01

 **** run completed ****
 ***********************

reading .CEL files
calculating scaling factors (SF1 & SF2)
calculating rawQ and SDT values
calculating and normalizing GCS-score results

*custom run name (column name) for BATCH job:

    example02

 **** run completed ****
 ***********************

reading .CEL files
calculating scaling factors (SF1 & SF2)
calculating rawQ and SDT values
calculating and normalizing GCS-score results

*custom run name (column name) for BATCH job:

    example03

 **** run completed ****
 ***********************

reading .CEL files
calculating scaling factors (SF1 & SF2)
calculating rawQ and SDT values
calculating and normalizing GCS-score results

*custom run name (column name) for BATCH job:

    example04

 **** run completed ****
 ***********************

reading .CEL files
calculating scaling factors (SF1 & SF2)
calculating rawQ and SDT values
calculating and normalizing GCS-score results

*custom run name (column name) for BATCH job:

    example05

 **** run completed ****
 ***********************

reading .CEL files
calculating scaling factors (SF1 & SF2)
calculating rawQ and SDT values
calculating and normalizing GCS-score results

*custom run name (column name) for BATCH job:

    example06

 **** run completed ****
 ***********************

** GCS-score analysis complete **
*********************************
Setting options('download.file.method.GEOquery'='auto')
Setting options('GEOquery.inmemory.gpl'=FALSE)
trying URL 'https://ftp.ncbi.nlm.nih.gov/geo/samples/GSM2769nnn/GSM2769665/suppl//GSM2769665_01_N-1_Naive_08-23-16_S2_Clariom_S_Mouse_.CEL.gz?tool=geoquery'
Content type 'application/x-gzip' length 1018304 bytes (994 KB)
==================================================
downloaded 994 KB

trying URL 'https://ftp.ncbi.nlm.nih.gov/geo/samples/GSM2769nnn/GSM2769666/suppl//GSM2769666_02_NM-2_repl_Naive_08-23-16_S2_Clariom_S_Mouse_.CEL.gz?tool=geoquery'
Content type 'application/x-gzip' length 1032015 bytes (1007 KB)
====================================
downloaded 736 KB


Error: processing vignette 'GCSscore.Rnw' failed with diagnostics:
 chunk 10 
Error in GEOquery::getGEOSuppFiles(GEO = x, makeDirectory = FALSE, baseDir = dir.geo,  : 
  Failed to download /tmp/RtmphyKJy6/GSE103380/GSM2769666_02_NM-2_repl_Naive_08-23-16_S2_Clariom_S_Mouse_.CEL.gz!

--- failed re-building ‘GCSscore.Rnw’

SUMMARY: processing the following file failed:
  ‘GCSscore.Rnw’

Error: Vignette re-building failed.
Execution halted
