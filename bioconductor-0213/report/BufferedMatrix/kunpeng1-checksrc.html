<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>Build/check report for BioC 3.17 - CHECK results for BufferedMatrix on kunpeng1</TITLE>
<LINK rel="stylesheet" href="../report.css" type="text/css">
<SCRIPT type="text/javascript" src="../report.js"></SCRIPT>
</HEAD>
<BODY onLoad="initialize();">
<TABLE class="grid_layout" style="width: 100%; background: #EEE;"><TR><TD style="text-align: left; padding: 5px; vertical-align: middle;"><I><A href="../index.html">Back to <B>Build/check report for BioC 3.17</B></A></I></TD><TD><TABLE class="abc_dispatcher"><TR><TD><A href="../index.html#A">A</A></TD><TD><B>[<A href="../index.html#B">B</A>]</B></TD><TD><A href="../index.html#C">C</A></TD><TD><A href="../index.html#D">D</A></TD><TD><A href="../index.html#E">E</A></TD><TD><A href="../index.html#F">F</A></TD><TD><A href="../index.html#G">G</A></TD><TD><A href="../index.html#H">H</A></TD><TD><A href="../index.html#I">I</A></TD><TD><A href="../index.html#J">J</A></TD><TD><A href="../index.html#K">K</A></TD><TD><A href="../index.html#L">L</A></TD><TD><A href="../index.html#M">M</A></TD><TD><A href="../index.html#N">N</A></TD><TD><A href="../index.html#O">O</A></TD><TD><A href="../index.html#P">P</A></TD><TD><A href="../index.html#Q">Q</A></TD><TD><A href="../index.html#R">R</A></TD><TD><A href="../index.html#S">S</A></TD><TD><A href="../index.html#T">T</A></TD><TD><A href="../index.html#U">U</A></TD><TD><A href="../index.html#V">V</A></TD><TD><A href="../index.html#W">W</A></TD><TD><A href="../index.html#X">X</A></TD><TD><A href="../index.html#Y">Y</A></TD><TD><A href="../index.html#Z">Z</A></TD></TR></TABLE></TD></TR></TABLE>
<P class="time_stamp">
This page was generated on 2023-02-13 06:49:17 -0000 (Mon, 13 Feb 2023).
</P>
<TABLE class="node_specs">
<TR><TH>Hostname</TH><TH>OS</TH><TH>Arch&nbsp;(*)</TH><TH>R&nbsp;version</TH><TH style="text-align: right;">Installed&nbsp;pkgs</TH></TR>
<TR class="kunpeng1"><TD><B><A href="../kunpeng1-NodeInfo.html"><B>kunpeng1</B></A></B></TD><TD>Linux&nbsp;(Ubuntu&nbsp;22.04.1&nbsp;LTS)</TD><TD>aarch64</TD><TD>R&nbsp;Under&nbsp;development&nbsp;(unstable)&nbsp;(2023-01-14&nbsp;r83615)&nbsp;--&nbsp;"Unsuffered&nbsp;Consequences"
</TD><TD style="text-align: right;"><A href="../kunpeng1-R-instpkgs.html">4222</A></TD></TR>
<TR><TD COLSPAN="5" style="font-size: smaller;"><I>Click on any hostname to see more info about the system (e.g. compilers) &nbsp;&nbsp;&nbsp;&nbsp; (*) as reported by 'uname -p', except on Windows and Mac OS X</I></TD></TR>
</TABLE>
<BR>
<H2><SPAN class="kunpeng1">CHECK results for BufferedMatrix on kunpeng1</SPAN></H2>
<BR>
<DIV class="motd">
<TABLE><TR><TD>
To the developers/maintainers of the BufferedMatrix package:<BR>
- Please allow up to 24 hours (and sometimes 48 hours) for your latest push to git@git.bioconductor.org:packages/BufferedMatrix.git to<BR>reflect on this report. See <A href="https://bioconductor.org/developers/how-to/troubleshoot-build-report/">How and When does the builder pull? When will my changes propagate?</A> for more information.<BR>
- Make sure to <A href="../Renviron.bioc">use the following settings</A> in order to reproduce any error or warning you see on this page.<BR>
</TD></TR></TABLE>
</DIV>
<P style="text-align: center;"><A href="raw-results/">raw results</A><P>
<TABLE class="gcard_list">
<TBODY class="gcard ok">
<TR class="header"><TD class="leftmost top_left_corner"></TD><TD>Package <B>228</B>/2164</TD><TD style="width: 75px;">Hostname</TD><TD style="width: 225px;">OS&nbsp;/&nbsp;Arch</TD><TD class="STAGE install">INSTALL</TD><TD class="STAGE buildsrc">BUILD</TD><TD class="STAGE checksrc selected">CHECK</TD><TD class="STAGE buildbin">BUILD BIN</TD><TD style="width: 12px;"></TD><TD class="rightmost top_right_corner"></TD></TR>
<TR class="selected_row"><TD ROWSPAN="2" class="leftmost bottom_left_corner"></TD><TD ROWSPAN="1" style="vertical-align: top;"><B><A href="./">BufferedMatrix</A>&nbsp;1.63.0</B>&nbsp;&nbsp;<SPAN style="font-size: smaller; font-style: italic;">(<A href="/packages/3.17/BufferedMatrix">landing page</A>)</SPAN><BR>Ben Bolstad<BR><TABLE class="svn_info">
<TR><TD class="svn_info">Snapshot&nbsp;Date:&nbsp;<SPAN class="svn_info">2023-02-11&nbsp;01:58:29&nbsp;-0000&nbsp;(Sat,&nbsp;11&nbsp;Feb&nbsp;2023)</SPAN></TD></TR>
<TR><TD class="svn_info">git_url:&nbsp;<SPAN class="svn_info">https://git.bioconductor.org/packages/BufferedMatrix</SPAN></TD></TR>
<TR><TD class="svn_info">git_branch:&nbsp;<SPAN class="svn_info">master</SPAN></TD></TR>
<TR><TD class="svn_info">git_last_commit:&nbsp;<SPAN class="svn_info">e95ad0a</SPAN></TD></TR>
<TR><TD class="svn_info">git_last_commit_date:&nbsp;<SPAN class="svn_info">2022-11-01&nbsp;14:42:48&nbsp;-0000&nbsp;(Tue,&nbsp;01&nbsp;Nov&nbsp;2022)</SPAN></TD></TR>
</TABLE>
</TD><TD class="kunpeng1 selected"><B>kunpeng1</B></TD><TD class="kunpeng1"><SPAN style="font-size: smaller;">Linux&nbsp;(Ubuntu&nbsp;22.04.1&nbsp;LTS)&nbsp;/&nbsp;aarch64</SPAN></TD><TD class="status kunpeng1 install"><A href="./kunpeng1-install.html" onmouseover="add_class_mouseover(this);" onmouseout="remove_class_mouseover(this);"><SPAN class="glyph OK">&nbsp;&nbsp;OK&nbsp;&nbsp;</SPAN></A></TD><TD class="status kunpeng1 buildsrc"><A href="./kunpeng1-buildsrc.html" onmouseover="add_class_mouseover(this);" onmouseout="remove_class_mouseover(this);"><SPAN class="glyph OK">&nbsp;&nbsp;OK&nbsp;&nbsp;</SPAN></A></TD><TD class="status kunpeng1 checksrc selected"><A href="./kunpeng1-checksrc.html" onmouseover="add_class_mouseover(this);" onmouseout="remove_class_mouseover(this);"><SPAN class="glyph OK">&nbsp;&nbsp;OK&nbsp;&nbsp;</SPAN></A></TD><TD class="status kunpeng1"></TD><TD class="status kunpeng1"></TD><TD ROWSPAN="2" class="rightmost bottom_right_corner"></TD></TR>
<TR class="footer"><TD COLSPAN="8"></TD></TR>
</TBODY>
</TABLE>
<HR>
<H3>Summary</H3>
<DIV class="kunpeng1 hscrollable">
<TABLE>
<TR><TD><B>Package</B>: BufferedMatrix</TD></TR>
<TR><TD><B>Version</B>: 1.63.0</TD></TR>
<TR><TD><B>Command</B>: /home/biocbuild/bbs-3.17-bioc/R/bin/R CMD check --install=check:BufferedMatrix.install-out.txt --library=/home/biocbuild/bbs-3.17-bioc/R/library --timings BufferedMatrix_1.63.0.tar.gz</TD></TR>
<TR><TD><B>StartedAt</B>: 2023-02-11 12:01:48 -0000 (Sat, 11 Feb 2023)</TD></TR>
<TR><TD><B>EndedAt</B>: 2023-02-11 12:02:26 -0000 (Sat, 11 Feb 2023)</TD></TR>
<TR><TD><B>EllapsedTime</B>: 38.1 seconds</TD></TR>
<TR><TD><B>RetCode</B>: 0</TD></TR>
<TR><TD><B>Status</B>: <SPAN class="glyph OK">&nbsp;&nbsp;OK&nbsp;&nbsp;</SPAN></TD></TR>
<TR><TD><B>CheckDir</B>: BufferedMatrix.Rcheck</TD></TR>
<TR><TD><B>Warnings</B>: 0</TD></TR>
</TABLE>
</DIV>
<HR>
<H3>Command output</H3>
<DIV class="kunpeng1 hscrollable">
<PRE style="padding: 3px;">
##############################################################################
##############################################################################
###
### Running command:
###
###   /home/biocbuild/bbs-3.17-bioc/R/bin/R CMD check --install=check:BufferedMatrix.install-out.txt --library=/home/biocbuild/bbs-3.17-bioc/R/library --timings BufferedMatrix_1.63.0.tar.gz
###
##############################################################################
##############################################################################


* using log directory ‘/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck’
* using R Under development (unstable) (2023-01-14 r83615)
* using platform: aarch64-unknown-linux-gnu (64-bit)
* R was compiled by
    gcc (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0
    GNU Fortran (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0
* running under: Ubuntu 22.04.1 LTS
* using session charset: UTF-8
* checking for file ‘BufferedMatrix/DESCRIPTION’ ... OK
* this is package ‘BufferedMatrix’ version ‘1.63.0’
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for hidden files and directories ... OK
* checking for portable file names ... OK
* checking for sufficient/correct file permissions ... OK
* checking whether package ‘BufferedMatrix’ can be installed ... OK
* used C compiler: ‘gcc (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0’
* checking installed package size ... OK
* checking package directory ... OK
* checking ‘build’ directory ... OK
* checking DESCRIPTION meta-information ... OK
* checking top-level files ... OK
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking R files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ... OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking dependencies in R code ... OK
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... OK
* checking Rd files ... NOTE
prepare_Rd: createBufferedMatrix.Rd:26: Dropping empty section \keyword
prepare_Rd: createBufferedMatrix.Rd:17-18: Dropping empty section \details
prepare_Rd: createBufferedMatrix.Rd:15-16: Dropping empty section \value
prepare_Rd: createBufferedMatrix.Rd:19-20: Dropping empty section \references
prepare_Rd: createBufferedMatrix.Rd:21-22: Dropping empty section \seealso
prepare_Rd: createBufferedMatrix.Rd:23-24: Dropping empty section \examples
* checking Rd metadata ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... OK
* checking for code/documentation mismatches ... OK
* checking Rd \usage sections ... OK
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking line endings in C/C++/Fortran sources/headers ... OK
* checking compiled code ... NOTE
Note: information on .o files is not available
* checking files in ‘vignettes’ ... OK
* checking examples ... NONE
* checking for unstated dependencies in ‘tests’ ... OK
* checking tests ...
  Running ‘Rcodetesting.R’
  Running ‘c_code_level_tests.R’
  Running ‘objectTesting.R’
  Running ‘rawCalltesting.R’
 OK
* checking for unstated dependencies in vignettes ... OK
* checking package vignettes in ‘inst/doc’ ... OK
* checking running R code from vignettes ...
  ‘BufferedMatrix.Rnw’... OK
 OK
* checking re-building of vignette outputs ... OK
* checking PDF version of manual ... OK
* DONE

Status: 2 NOTEs
See
  ‘/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/00check.log’
for details.


</PRE>
</DIV><HR>
<H3>Installation output</H3>
<P><SPAN class="filename">BufferedMatrix.Rcheck/00install.out</SPAN></P>
<DIV class="kunpeng1 hscrollable">
<PRE style="padding: 3px;">
##############################################################################
##############################################################################
###
### Running command:
###
###   /home/biocbuild/bbs-3.17-bioc/R/bin/R CMD INSTALL BufferedMatrix
###
##############################################################################
##############################################################################


* installing to library ‘/home/biocbuild/bbs-3.17-bioc/R/library’
* installing *source* package ‘BufferedMatrix’ ...
** using staged installation
** libs
using C compiler: ‘gcc (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0’
gcc -I&quot;/home/biocbuild/bbs-3.17-bioc/R/include&quot; -DNDEBUG   -I/usr/local/include    -fPIC  -g -O2  -Wall -c RBufferedMatrix.c -o RBufferedMatrix.o
gcc -I&quot;/home/biocbuild/bbs-3.17-bioc/R/include&quot; -DNDEBUG   -I/usr/local/include    -fPIC  -g -O2  -Wall -c doubleBufferedMatrix.c -o doubleBufferedMatrix.o
doubleBufferedMatrix.c: In function ‘dbm_ReadOnlyMode’:
doubleBufferedMatrix.c:1580:7: warning: suggest parentheses around operand of ‘!’ or change ‘&amp;’ to ‘&amp;&amp;’ or ‘!’ to ‘~’ [-Wparentheses]
 1580 |   if (!(Matrix-&gt;readonly) &amp; setting){
      |       ^~~~~~~~~~~~~~~~~~~
At top level:
doubleBufferedMatrix.c:3327:12: warning: ‘sort_double’ defined but not used [-Wunused-function]
 3327 | static int sort_double(const double *a1,const double *a2){
      |            ^~~~~~~~~~~
gcc -I&quot;/home/biocbuild/bbs-3.17-bioc/R/include&quot; -DNDEBUG   -I/usr/local/include    -fPIC  -g -O2  -Wall -c doubleBufferedMatrix_C_tests.c -o doubleBufferedMatrix_C_tests.o
gcc -I&quot;/home/biocbuild/bbs-3.17-bioc/R/include&quot; -DNDEBUG   -I/usr/local/include    -fPIC  -g -O2  -Wall -c init_package.c -o init_package.o
gcc -shared -L/home/biocbuild/bbs-3.17-bioc/R/lib -L/usr/local/lib -o BufferedMatrix.so RBufferedMatrix.o doubleBufferedMatrix.o doubleBufferedMatrix_C_tests.o init_package.o -L/home/biocbuild/bbs-3.17-bioc/R/lib -lR
installing to /home/biocbuild/bbs-3.17-bioc/R/library/00LOCK-BufferedMatrix/00new/BufferedMatrix/libs
** R
** inst
** byte-compile and prepare package for lazy loading
Creating a new generic function for ‘rowMeans’ in package ‘BufferedMatrix’
Creating a new generic function for ‘rowSums’ in package ‘BufferedMatrix’
Creating a new generic function for ‘colMeans’ in package ‘BufferedMatrix’
Creating a new generic function for ‘colSums’ in package ‘BufferedMatrix’
Creating a generic function for ‘ncol’ from package ‘base’ in package ‘BufferedMatrix’
Creating a generic function for ‘nrow’ from package ‘base’ in package ‘BufferedMatrix’
** help
*** installing help indices
** building package indices
** installing vignettes
** testing if installed package can be loaded from temporary location
** checking absolute paths in shared objects and dynamic libraries
** testing if installed package can be loaded from final location
** testing if installed package keeps a record of temporary installation path
* DONE (BufferedMatrix)
</PRE>
</DIV><HR>
<H3>Tests output</H3>
<P><SPAN class="filename">BufferedMatrix.Rcheck/tests/c_code_level_tests.Rout</SPAN></P>
<DIV class="kunpeng1 hscrollable">
<PRE style="padding: 3px;">

R Under development (unstable) (2023-01-14 r83615) -- &quot;Unsuffered Consequences&quot;
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#x27;license()&#x27; or &#x27;licence()&#x27; for distribution details.

R is a collaborative project with many contributors.
Type &#x27;contributors()&#x27; for more information and
&#x27;citation()&#x27; on how to cite R or R packages in publications.

Type &#x27;demo()&#x27; for some demos, &#x27;help()&#x27; for on-line help, or
&#x27;help.start()&#x27; for an HTML browser interface to help.
Type &#x27;q()&#x27; to quit R.

&gt; library(BufferedMatrix);library.dynam(&quot;BufferedMatrix&quot;, &quot;BufferedMatrix&quot;, .libPaths());.C(&quot;dbm_c_tester&quot;,integer(1))

Attaching package: &#x27;BufferedMatrix&#x27;

The following objects are masked from &#x27;package:base&#x27;:

    colMeans, colSums, rowMeans, rowSums

Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Assigning Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

Adding Additional Column
Checking dimensions
Rows: 5
Cols: 6
Buffer Rows: 1
Buffer Cols: 1
0.000000 1.000000 2.000000 3.000000 4.000000 0.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 0.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 0.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 0.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 0.000000 

Reassigning values
1.000000 6.000000 11.000000 16.000000 21.000000 26.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 27.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 28.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 29.000000 
5.000000 10.000000 15.000000 20.000000 25.000000 30.000000 

Resizing Buffers
Checking dimensions
Rows: 5
Cols: 6
Buffer Rows: 3
Buffer Cols: 3
1.000000 6.000000 11.000000 16.000000 21.000000 26.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 27.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 28.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 29.000000 
5.000000 10.000000 15.000000 20.000000 25.000000 30.000000 

Activating Row Buffer
In row mode: 1
1.000000 6.000000 11.000000 16.000000 21.000000 26.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 27.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 28.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 29.000000 
5.000000 10.000000 15.000000 20.000000 25.000000 30.000000 

Squaring Last Column
1.000000 6.000000 11.000000 16.000000 21.000000 676.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 729.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 784.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 841.000000 
5.000000 10.000000 15.000000 20.000000 25.000000 900.000000 

Square rooting Last Row, then turing off Row Buffer
In row mode: 0
Checking on value that should be not be in column buffer2.236068 
1.000000 6.000000 11.000000 16.000000 21.000000 676.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 729.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 784.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 841.000000 
2.236068 3.162278 3.872983 4.472136 5.000000 30.000000 

Single Indexing. Assign each value its square
1.000000 36.000000 121.000000 256.000000 441.000000 676.000000 
4.000000 49.000000 144.000000 289.000000 484.000000 729.000000 
9.000000 64.000000 169.000000 324.000000 529.000000 784.000000 
16.000000 81.000000 196.000000 361.000000 576.000000 841.000000 
25.000000 100.000000 225.000000 400.000000 625.000000 900.000000 

Resizing Buffers Smaller
Checking dimensions
Rows: 5
Cols: 6
Buffer Rows: 1
Buffer Cols: 1
1.000000 36.000000 121.000000 256.000000 441.000000 676.000000 
4.000000 49.000000 144.000000 289.000000 484.000000 729.000000 
9.000000 64.000000 169.000000 324.000000 529.000000 784.000000 
16.000000 81.000000 196.000000 361.000000 576.000000 841.000000 
25.000000 100.000000 225.000000 400.000000 625.000000 900.000000 

Activating Row Mode.
Resizing Buffers
Checking dimensions
Rows: 5
Cols: 6
Buffer Rows: 1
Buffer Cols: 1
Activating ReadOnly Mode.
The results of assignment is: 0
Printing matrix reversed.
900.000000 625.000000 400.000000 225.000000 100.000000 25.000000 
841.000000 576.000000 361.000000 196.000000 81.000000 16.000000 
784.000000 529.000000 324.000000 169.000000 64.000000 9.000000 
729.000000 484.000000 289.000000 144.000000 49.000000 -30.000000 
676.000000 441.000000 256.000000 121.000000 -20.000000 -10.000000 

[[1]]
[1] 0

&gt; 
&gt; proc.time()
   user  system elapsed 
  0.344   0.051   0.378 
</PRE>
</DIV><P><SPAN class="filename">BufferedMatrix.Rcheck/tests/objectTesting.Rout</SPAN></P>
<DIV class="kunpeng1 hscrollable">
<PRE style="padding: 3px;">

R Under development (unstable) (2023-01-14 r83615) -- &quot;Unsuffered Consequences&quot;
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#x27;license()&#x27; or &#x27;licence()&#x27; for distribution details.

R is a collaborative project with many contributors.
Type &#x27;contributors()&#x27; for more information and
&#x27;citation()&#x27; on how to cite R or R packages in publications.

Type &#x27;demo()&#x27; for some demos, &#x27;help()&#x27; for on-line help, or
&#x27;help.start()&#x27; for an HTML browser interface to help.
Type &#x27;q()&#x27; to quit R.

&gt; library(BufferedMatrix);library.dynam(&quot;BufferedMatrix&quot;,&quot;BufferedMatrix&quot;, .libPaths());

Attaching package: &#x27;BufferedMatrix&#x27;

The following objects are masked from &#x27;package:base&#x27;:

    colMeans, colSums, rowMeans, rowSums

&gt; 
&gt; 
&gt; ### this is used to control how many repetitions in something below
&gt; ### higher values result in more checks.
&gt; nreps &lt;-100 ##20000
&gt; 
&gt; 
&gt; ## test creation and some simple assignments and subsetting operations
&gt; 
&gt; ## first on single elements
&gt; tmp &lt;- createBufferedMatrix(1000,10)
&gt; 
&gt; tmp[10,5]
[1] 0
&gt; tmp[10,5] &lt;- 10
&gt; tmp[10,5]
[1] 10
&gt; tmp[10,5] &lt;- 12.445
&gt; tmp[10,5]
[1] 12.445
&gt; 
&gt; 
&gt; 
&gt; ## now testing accessing multiple elements
&gt; tmp2 &lt;- createBufferedMatrix(10,20)
&gt; 
&gt; 
&gt; tmp2[3,1] &lt;- 51.34
&gt; tmp2[9,2] &lt;- 9.87654
&gt; tmp2[,1:2]
       [,1]    [,2]
 [1,]  0.00 0.00000
 [2,]  0.00 0.00000
 [3,] 51.34 0.00000
 [4,]  0.00 0.00000
 [5,]  0.00 0.00000
 [6,]  0.00 0.00000
 [7,]  0.00 0.00000
 [8,]  0.00 0.00000
 [9,]  0.00 9.87654
[10,]  0.00 0.00000
&gt; tmp2[,-(3:20)]
       [,1]    [,2]
 [1,]  0.00 0.00000
 [2,]  0.00 0.00000
 [3,] 51.34 0.00000
 [4,]  0.00 0.00000
 [5,]  0.00 0.00000
 [6,]  0.00 0.00000
 [7,]  0.00 0.00000
 [8,]  0.00 0.00000
 [9,]  0.00 9.87654
[10,]  0.00 0.00000
&gt; tmp2[3,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
[1,] 51.34    0    0    0    0    0    0    0    0     0     0     0     0
     [,14] [,15] [,16] [,17] [,18] [,19] [,20]
[1,]     0     0     0     0     0     0     0
&gt; tmp2[-3,]
      [,1]    [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
 [1,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [2,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [3,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [4,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [5,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [6,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [7,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [8,]    0 9.87654    0    0    0    0    0    0    0     0     0     0     0
 [9,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
      [,14] [,15] [,16] [,17] [,18] [,19] [,20]
 [1,]     0     0     0     0     0     0     0
 [2,]     0     0     0     0     0     0     0
 [3,]     0     0     0     0     0     0     0
 [4,]     0     0     0     0     0     0     0
 [5,]     0     0     0     0     0     0     0
 [6,]     0     0     0     0     0     0     0
 [7,]     0     0     0     0     0     0     0
 [8,]     0     0     0     0     0     0     0
 [9,]     0     0     0     0     0     0     0
&gt; tmp2[2,1:3]
     [,1] [,2] [,3]
[1,]    0    0    0
&gt; tmp2[3:9,1:3]
      [,1]    [,2] [,3]
[1,] 51.34 0.00000    0
[2,]  0.00 0.00000    0
[3,]  0.00 0.00000    0
[4,]  0.00 0.00000    0
[5,]  0.00 0.00000    0
[6,]  0.00 0.00000    0
[7,]  0.00 9.87654    0
&gt; tmp2[-4,-4]
       [,1]    [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
 [1,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [2,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [3,] 51.34 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [4,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [5,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [6,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [7,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [8,]  0.00 9.87654    0    0    0    0    0    0    0     0     0     0     0
 [9,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
      [,14] [,15] [,16] [,17] [,18] [,19]
 [1,]     0     0     0     0     0     0
 [2,]     0     0     0     0     0     0
 [3,]     0     0     0     0     0     0
 [4,]     0     0     0     0     0     0
 [5,]     0     0     0     0     0     0
 [6,]     0     0     0     0     0     0
 [7,]     0     0     0     0     0     0
 [8,]     0     0     0     0     0     0
 [9,]     0     0     0     0     0     0
&gt; 
&gt; ## now testing accessing/assigning multiple elements
&gt; tmp3 &lt;- createBufferedMatrix(10,10)
&gt; 
&gt; for (i in 1:10){
+   for (j in 1:10){
+     tmp3[i,j] &lt;- (j-1)*10 + i
+   }
+ }
&gt; 
&gt; tmp3[2:4,2:4]
     [,1] [,2] [,3]
[1,]   12   22   32
[2,]   13   23   33
[3,]   14   24   34
&gt; tmp3[c(-10),c(2:4,2:4,10,1,2,1:10,10:1)]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
 [1,]   11   21   31   11   21   31   91    1   11     1    11    21    31
 [2,]   12   22   32   12   22   32   92    2   12     2    12    22    32
 [3,]   13   23   33   13   23   33   93    3   13     3    13    23    33
 [4,]   14   24   34   14   24   34   94    4   14     4    14    24    34
 [5,]   15   25   35   15   25   35   95    5   15     5    15    25    35
 [6,]   16   26   36   16   26   36   96    6   16     6    16    26    36
 [7,]   17   27   37   17   27   37   97    7   17     7    17    27    37
 [8,]   18   28   38   18   28   38   98    8   18     8    18    28    38
 [9,]   19   29   39   19   29   39   99    9   19     9    19    29    39
      [,14] [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25]
 [1,]    41    51    61    71    81    91    91    81    71    61    51    41
 [2,]    42    52    62    72    82    92    92    82    72    62    52    42
 [3,]    43    53    63    73    83    93    93    83    73    63    53    43
 [4,]    44    54    64    74    84    94    94    84    74    64    54    44
 [5,]    45    55    65    75    85    95    95    85    75    65    55    45
 [6,]    46    56    66    76    86    96    96    86    76    66    56    46
 [7,]    47    57    67    77    87    97    97    87    77    67    57    47
 [8,]    48    58    68    78    88    98    98    88    78    68    58    48
 [9,]    49    59    69    79    89    99    99    89    79    69    59    49
      [,26] [,27] [,28] [,29]
 [1,]    31    21    11     1
 [2,]    32    22    12     2
 [3,]    33    23    13     3
 [4,]    34    24    14     4
 [5,]    35    25    15     5
 [6,]    36    26    16     6
 [7,]    37    27    17     7
 [8,]    38    28    18     8
 [9,]    39    29    19     9
&gt; tmp3[-c(1:5),-c(6:10)]
     [,1] [,2] [,3] [,4] [,5]
[1,]    6   16   26   36   46
[2,]    7   17   27   37   47
[3,]    8   18   28   38   48
[4,]    9   19   29   39   49
[5,]   10   20   30   40   50
&gt; 
&gt; ## assignment of whole columns
&gt; tmp3[,1] &lt;- c(1:10*100.0)
&gt; tmp3[,1:2] &lt;- tmp3[,1:2]*100
&gt; tmp3[,1:2] &lt;- tmp3[,2:1]
&gt; tmp3[,1:2]
      [,1]  [,2]
 [1,] 1100 1e+04
 [2,] 1200 2e+04
 [3,] 1300 3e+04
 [4,] 1400 4e+04
 [5,] 1500 5e+04
 [6,] 1600 6e+04
 [7,] 1700 7e+04
 [8,] 1800 8e+04
 [9,] 1900 9e+04
[10,] 2000 1e+05
&gt; 
&gt; 
&gt; tmp3[,-1] &lt;- tmp3[,1:9]
&gt; tmp3[,1:10]
      [,1] [,2]  [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,] 1100 1100 1e+04   21   31   41   51   61   71    81
 [2,] 1200 1200 2e+04   22   32   42   52   62   72    82
 [3,] 1300 1300 3e+04   23   33   43   53   63   73    83
 [4,] 1400 1400 4e+04   24   34   44   54   64   74    84
 [5,] 1500 1500 5e+04   25   35   45   55   65   75    85
 [6,] 1600 1600 6e+04   26   36   46   56   66   76    86
 [7,] 1700 1700 7e+04   27   37   47   57   67   77    87
 [8,] 1800 1800 8e+04   28   38   48   58   68   78    88
 [9,] 1900 1900 9e+04   29   39   49   59   69   79    89
[10,] 2000 2000 1e+05   30   40   50   60   70   80    90
&gt; 
&gt; tmp3[,1:2] &lt;- rep(1,10)
&gt; tmp3[,1:2] &lt;- rep(1,20)
&gt; tmp3[,1:2] &lt;- matrix(c(1:5),1,5)
&gt; 
&gt; tmp3[,-c(1:8)] &lt;- matrix(c(1:5),1,5)
&gt; 
&gt; tmp3[1,] &lt;- 1:10
&gt; tmp3[1,]
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
[1,]    1    2    3    4    5    6    7    8    9    10
&gt; tmp3[-1,] &lt;- c(1,2)
&gt; tmp3[1:10,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    2    3    4    5    6    7    8    9    10
 [2,]    1    2    1    2    1    2    1    2    1     2
 [3,]    2    1    2    1    2    1    2    1    2     1
 [4,]    1    2    1    2    1    2    1    2    1     2
 [5,]    2    1    2    1    2    1    2    1    2     1
 [6,]    1    2    1    2    1    2    1    2    1     2
 [7,]    2    1    2    1    2    1    2    1    2     1
 [8,]    1    2    1    2    1    2    1    2    1     2
 [9,]    2    1    2    1    2    1    2    1    2     1
[10,]    1    2    1    2    1    2    1    2    1     2
&gt; tmp3[-c(1:8),] &lt;- matrix(c(1:5),1,5)
&gt; tmp3[1:10,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    2    3    4    5    6    7    8    9    10
 [2,]    1    2    1    2    1    2    1    2    1     2
 [3,]    2    1    2    1    2    1    2    1    2     1
 [4,]    1    2    1    2    1    2    1    2    1     2
 [5,]    2    1    2    1    2    1    2    1    2     1
 [6,]    1    2    1    2    1    2    1    2    1     2
 [7,]    2    1    2    1    2    1    2    1    2     1
 [8,]    1    2    1    2    1    2    1    2    1     2
 [9,]    1    3    5    2    4    1    3    5    2     4
[10,]    2    4    1    3    5    2    4    1    3     5
&gt; 
&gt; 
&gt; tmp3[1:2,1:2] &lt;- 5555.04
&gt; tmp3[-(1:2),1:2] &lt;- 1234.56789
&gt; 
&gt; 
&gt; 
&gt; ## testing accessors for the directory and prefix
&gt; directory(tmp3)
[1] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests&quot;
&gt; prefix(tmp3)
[1] &quot;BM&quot;
&gt; 
&gt; ## testing if we can remove these objects
&gt; rm(tmp, tmp2, tmp3)
&gt; gc()
         used (Mb) gc trigger (Mb) max used (Mb)
Ncells 456993 24.5     979984 52.4   651420 34.8
Vcells 842364  6.5    8388608 64.0  2047783 15.7
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ##
&gt; ## checking reads
&gt; ##
&gt; 
&gt; tmp2 &lt;- createBufferedMatrix(10,20)
&gt; 
&gt; test.sample &lt;- rnorm(10*20)
&gt; 
&gt; tmp2[1:10,1:20] &lt;- test.sample
&gt; 
&gt; test.matrix &lt;- matrix(test.sample,10,20)
&gt; 
&gt; ## testing reads
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+   which.col &lt;- sample(1:20,1)
+   if (tmp2[which.row,which.col] != test.matrix[which.row,which.col]){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+   if (!all(tmp2[which.row,] == test.matrix[which.row,])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,1)
+   if (!all(tmp2[,which.col] == test.matrix[,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:10,5,replace=TRUE)
+   if (!all(tmp2[,which.col] == test.matrix[,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; date()
[1] &quot;Sat Feb 11 12:02:13 2023&quot;
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   if (!all(tmp2[which.row,] == test.matrix[which.row,])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; date()
[1] &quot;Sat Feb 11 12:02:14 2023&quot;
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   which.col &lt;- sample(1:10,5,replace=TRUE)
+   if (!all(tmp2[which.row,which.col] == test.matrix[which.row,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; RowMode(tmp2)
&lt;pointer: 0xaaaacb988900&gt;
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+   which.col &lt;- sample(1:20,1)
+   if (tmp2[which.row,which.col] != test.matrix[which.row,which.col]){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+   if (!all(tmp2[which.row,] == test.matrix[which.row,])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,1)
+   if (!all(tmp2[,which.col] == test.matrix[,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,5,replace=TRUE)
+   if (!all(tmp2[,which.col] == test.matrix[,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   if (!all(tmp2[which.row,] == test.matrix[which.row,])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; date()
[1] &quot;Sat Feb 11 12:02:14 2023&quot;
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   which.col &lt;- sample(1:20,5,replace=TRUE)
+   if (!all(tmp2[which.row,which.col] == test.matrix[which.row,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; date()
[1] &quot;Sat Feb 11 12:02:14 2023&quot;
&gt; 
&gt; ColMode(tmp2)
&lt;pointer: 0xaaaacb988900&gt;
&gt; 
&gt; 
&gt; 
&gt; ### Now testing assignments
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+ 
+   new.data &lt;- rnorm(20)
+   tmp2[which.row,] &lt;- new.data
+   test.matrix[which.row,] &lt;- new.data
+   if (rep &gt; 1){
+     if (!all(tmp2[prev.row,] == test.matrix[prev.row,])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.row &lt;- which.row
+   
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,1)
+   new.data &lt;- rnorm(10)
+   tmp2[,which.col] &lt;- new.data
+   test.matrix[,which.col]&lt;- new.data
+ 
+   if (rep &gt; 1){
+     if (!all(tmp2[,prev.col] == test.matrix[,prev.col])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.col &lt;- which.col
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,5,replace=TRUE)
+   new.data &lt;- matrix(rnorm(50),5,10)
+   tmp2[,which.col] &lt;- new.data
+   test.matrix[,which.col]&lt;- new.data
+   
+   if (rep &gt; 1){
+     if (!all(tmp2[,prev.col] == test.matrix[,prev.col])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.col &lt;- which.col
+ }
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   new.data &lt;- matrix(rnorm(50),5,10)
+   tmp2[which.row,] &lt;- new.data
+   test.matrix[which.row,]&lt;- new.data
+   
+   if (rep &gt; 1){
+     if (!all(tmp2[prev.row,] == test.matrix[prev.row,])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.row &lt;- which.row
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   which.col  &lt;- sample(1:20,5,replace=TRUE)
+   new.data &lt;- matrix(rnorm(25),5,5)
+   tmp2[which.row,which.col] &lt;- new.data
+   test.matrix[which.row,which.col]&lt;- new.data
+   
+   if (rep &gt; 1){
+     if (!all(tmp2[prev.row,prev.col] == test.matrix[prev.row,prev.col])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.row &lt;- which.row
+   prev.col &lt;- which.col
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ###
&gt; ###
&gt; ### testing some more functions
&gt; ###
&gt; 
&gt; 
&gt; 
&gt; ## duplication function
&gt; tmp5 &lt;- duplicate(tmp2)
&gt; 
&gt; # making sure really did copy everything.
&gt; tmp5[1,1] &lt;- tmp5[1,1] +100.00
&gt; 
&gt; if (tmp5[1,1] == tmp2[1,1]){
+   stop(&quot;Problem with duplication&quot;)
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ### testing elementwise applying of functions
&gt; 
&gt; tmp5[1:4,1:4]
            [,1]       [,2]       [,3]       [,4]
[1,] 101.2168849 -2.5267436  0.1502722 -0.3168352
[2,]   0.4049097 -1.3467063 -0.1130928  0.2000334
[3,]  -0.7794320  0.1918600 -0.7870794 -1.1570939
[4,]   0.8243181  0.9022396  1.4276268 -1.0077858
&gt; ewApply(tmp5,abs)
BufferedMatrix object
Matrix size:  10 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  1.9  Kilobytes.
Disk usage :  1.6  Kilobytes.
&gt; tmp5[1:4,1:4]
            [,1]      [,2]      [,3]      [,4]
[1,] 101.2168849 2.5267436 0.1502722 0.3168352
[2,]   0.4049097 1.3467063 0.1130928 0.2000334
[3,]   0.7794320 0.1918600 0.7870794 1.1570939
[4,]   0.8243181 0.9022396 1.4276268 1.0077858
&gt; ewApply(tmp5,sqrt)
BufferedMatrix object
Matrix size:  10 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  1.9  Kilobytes.
Disk usage :  1.6  Kilobytes.
&gt; tmp5[1:4,1:4]
           [,1]      [,2]      [,3]      [,4]
[1,] 10.0606603 1.5895734 0.3876495 0.5628811
[2,]  0.6363252 1.1604768 0.3362928 0.4472510
[3,]  0.8828545 0.4380183 0.8871750 1.0756830
[4,]  0.9079196 0.9498629 1.1948334 1.0038854
&gt; 
&gt; my.function &lt;- function(x,power){
+   (x+5)^power
+ }
&gt; 
&gt; ewApply(tmp5,my.function,power=2)
BufferedMatrix object
Matrix size:  10 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  1.9  Kilobytes.
Disk usage :  1.6  Kilobytes.
&gt; tmp5[1:4,1:4]
          [,1]     [,2]     [,3]     [,4]
[1,] 226.82349 43.42248 29.02677 30.94565
[2,]  31.76816 37.95147 28.47602 29.67254
[3,]  34.60798 29.57204 34.65883 36.91392
[4,]  34.90351 35.40087 38.37596 36.04664
&gt; 
&gt; 
&gt; 
&gt; ## testing functions that elementwise transform the matrix
&gt; sqrt(tmp5)
&lt;pointer: 0xaaaacb107470&gt;
&gt; exp(tmp5)
&lt;pointer: 0xaaaacb107470&gt;
&gt; log(tmp5,2)
&lt;pointer: 0xaaaacb107470&gt;
&gt; pow(tmp5,2)
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ## testing functions that apply to entire matrix
&gt; Max(tmp5)
[1] 472.1034
&gt; Min(tmp5)
[1] 54.27106
&gt; mean(tmp5)
[1] 72.74125
&gt; Sum(tmp5)
[1] 14548.25
&gt; Var(tmp5)
[1] 873.6935
&gt; 
&gt; 
&gt; ## testing functions applied to rows or columns
&gt; 
&gt; rowMeans(tmp5)
 [1] 91.59942 67.13806 70.57956 73.81929 71.17225 70.61320 70.84366 70.26848
 [9] 71.32534 70.05327
&gt; rowSums(tmp5)
 [1] 1831.988 1342.761 1411.591 1476.386 1423.445 1412.264 1416.873 1405.370
 [9] 1426.507 1401.065
&gt; rowVars(tmp5)
 [1] 8122.49390  120.14709   43.39657   65.98835   26.40962   69.58194
 [7]   88.83563   42.73375   89.66803   40.69536
&gt; rowSd(tmp5)
 [1] 90.124879 10.961163  6.587607  8.123322  5.139029  8.341579  9.425266
 [8]  6.537106  9.469320  6.379292
&gt; rowMax(tmp5)
 [1] 472.10337  92.83782  81.47530  91.64010  80.91090  85.69712  83.99807
 [8]  83.36089  91.54458  80.68127
&gt; rowMin(tmp5)
 [1] 57.52787 54.27106 55.93354 58.37815 62.34138 55.98731 55.05128 60.23115
 [9] 57.05176 60.24105
&gt; 
&gt; colMeans(tmp5)
 [1] 112.41235  72.14551  69.58428  69.98543  70.97556  72.51277  76.97426
 [8]  73.26598  70.39905  65.22869  69.66333  74.50216  67.29794  70.59577
[15]  67.71854  66.51459  68.03738  72.84694  74.36722  69.79728
&gt; colSums(tmp5)
 [1] 1124.1235  721.4551  695.8428  699.8543  709.7556  725.1277  769.7426
 [8]  732.6598  703.9905  652.2869  696.6333  745.0216  672.9794  705.9577
[15]  677.1854  665.1459  680.3738  728.4694  743.6722  697.9728
&gt; colVars(tmp5)
 [1] 16008.13729    86.80257    57.19343    27.77775    66.57591    79.90037
 [7]    50.95278    58.36511    96.16905    43.62925    54.80177    84.14895
[13]    75.51770    96.74428    28.61064    37.81959    66.67761   129.75914
[19]    71.79041    75.56542
&gt; colSd(tmp5)
 [1] 126.523268   9.316790   7.562634   5.270460   8.159406   8.938701
 [7]   7.138122   7.639706   9.806582   6.605244   7.402822   9.173274
[13]   8.690092   9.835867   5.348892   6.149763   8.165636  11.391187
[19]   8.472922   8.692837
&gt; colMax(tmp5)
 [1] 472.10337  90.37820  80.91090  76.83150  85.95122  87.99816  92.83782
 [8]  82.01262  83.57644  75.47565  79.19791  91.64010  80.67543  89.88802
[15]  77.68738  75.12856  82.68580  87.31763  86.09482  91.54458
&gt; colMin(tmp5)
 [1] 62.34138 61.55033 59.26911 61.75951 57.05176 62.52892 69.49054 59.68407
 [9] 54.27106 55.05128 55.93354 58.42007 55.98731 60.91973 58.45895 57.87665
[17] 54.52948 58.37815 58.96375 57.48339
&gt; 
&gt; 
&gt; ### setting a random element to NA and then testing with na.rm=TRUE or na.rm=FALSE (The default)
&gt; 
&gt; 
&gt; which.row &lt;- sample(1:10,1,replace=TRUE)
&gt; which.col  &lt;- sample(1:20,1,replace=TRUE)
&gt; 
&gt; tmp5[which.row,which.col] &lt;- NA
&gt; 
&gt; Max(tmp5)
[1] NA
&gt; Min(tmp5)
[1] NA
&gt; mean(tmp5)
[1] NA
&gt; Sum(tmp5)
[1] NA
&gt; Var(tmp5)
[1] NA
&gt; 
&gt; rowMeans(tmp5)
 [1] 91.59942 67.13806       NA 73.81929 71.17225 70.61320 70.84366 70.26848
 [9] 71.32534 70.05327
&gt; rowSums(tmp5)
 [1] 1831.988 1342.761       NA 1476.386 1423.445 1412.264 1416.873 1405.370
 [9] 1426.507 1401.065
&gt; rowVars(tmp5)
 [1] 8122.49390  120.14709   43.88515   65.98835   26.40962   69.58194
 [7]   88.83563   42.73375   89.66803   40.69536
&gt; rowSd(tmp5)
 [1] 90.124879 10.961163  6.624587  8.123322  5.139029  8.341579  9.425266
 [8]  6.537106  9.469320  6.379292
&gt; rowMax(tmp5)
 [1] 472.10337  92.83782        NA  91.64010  80.91090  85.69712  83.99807
 [8]  83.36089  91.54458  80.68127
&gt; rowMin(tmp5)
 [1] 57.52787 54.27106       NA 58.37815 62.34138 55.98731 55.05128 60.23115
 [9] 57.05176 60.24105
&gt; 
&gt; colMeans(tmp5)
 [1] 112.41235  72.14551  69.58428  69.98543  70.97556  72.51277  76.97426
 [8]  73.26598  70.39905  65.22869  69.66333  74.50216  67.29794        NA
[15]  67.71854  66.51459  68.03738  72.84694  74.36722  69.79728
&gt; colSums(tmp5)
 [1] 1124.1235  721.4551  695.8428  699.8543  709.7556  725.1277  769.7426
 [8]  732.6598  703.9905  652.2869  696.6333  745.0216  672.9794        NA
[15]  677.1854  665.1459  680.3738  728.4694  743.6722  697.9728
&gt; colVars(tmp5)
 [1] 16008.13729    86.80257    57.19343    27.77775    66.57591    79.90037
 [7]    50.95278    58.36511    96.16905    43.62925    54.80177    84.14895
[13]    75.51770          NA    28.61064    37.81959    66.67761   129.75914
[19]    71.79041    75.56542
&gt; colSd(tmp5)
 [1] 126.523268   9.316790   7.562634   5.270460   8.159406   8.938701
 [7]   7.138122   7.639706   9.806582   6.605244   7.402822   9.173274
[13]   8.690092         NA   5.348892   6.149763   8.165636  11.391187
[19]   8.472922   8.692837
&gt; colMax(tmp5)
 [1] 472.10337  90.37820  80.91090  76.83150  85.95122  87.99816  92.83782
 [8]  82.01262  83.57644  75.47565  79.19791  91.64010  80.67543        NA
[15]  77.68738  75.12856  82.68580  87.31763  86.09482  91.54458
&gt; colMin(tmp5)
 [1] 62.34138 61.55033 59.26911 61.75951 57.05176 62.52892 69.49054 59.68407
 [9] 54.27106 55.05128 55.93354 58.42007 55.98731       NA 58.45895 57.87665
[17] 54.52948 58.37815 58.96375 57.48339
&gt; 
&gt; Max(tmp5,na.rm=TRUE)
[1] 472.1034
&gt; Min(tmp5,na.rm=TRUE)
[1] 54.27106
&gt; mean(tmp5,na.rm=TRUE)
[1] 72.78092
&gt; Sum(tmp5,na.rm=TRUE)
[1] 14483.4
&gt; Var(tmp5,na.rm=TRUE)
[1] 877.7897
&gt; 
&gt; rowMeans(tmp5,na.rm=TRUE)
 [1] 91.59942 67.13806 70.88132 73.81929 71.17225 70.61320 70.84366 70.26848
 [9] 71.32534 70.05327
&gt; rowSums(tmp5,na.rm=TRUE)
 [1] 1831.988 1342.761 1346.745 1476.386 1423.445 1412.264 1416.873 1405.370
 [9] 1426.507 1401.065
&gt; rowVars(tmp5,na.rm=TRUE)
 [1] 8122.49390  120.14709   43.88515   65.98835   26.40962   69.58194
 [7]   88.83563   42.73375   89.66803   40.69536
&gt; rowSd(tmp5,na.rm=TRUE)
 [1] 90.124879 10.961163  6.624587  8.123322  5.139029  8.341579  9.425266
 [8]  6.537106  9.469320  6.379292
&gt; rowMax(tmp5,na.rm=TRUE)
 [1] 472.10337  92.83782  81.47530  91.64010  80.91090  85.69712  83.99807
 [8]  83.36089  91.54458  80.68127
&gt; rowMin(tmp5,na.rm=TRUE)
 [1] 57.52787 54.27106 55.93354 58.37815 62.34138 55.98731 55.05128 60.23115
 [9] 57.05176 60.24105
&gt; 
&gt; colMeans(tmp5,na.rm=TRUE)
 [1] 112.41235  72.14551  69.58428  69.98543  70.97556  72.51277  76.97426
 [8]  73.26598  70.39905  65.22869  69.66333  74.50216  67.29794  71.23461
[15]  67.71854  66.51459  68.03738  72.84694  74.36722  69.79728
&gt; colSums(tmp5,na.rm=TRUE)
 [1] 1124.1235  721.4551  695.8428  699.8543  709.7556  725.1277  769.7426
 [8]  732.6598  703.9905  652.2869  696.6333  745.0216  672.9794  641.1115
[15]  677.1854  665.1459  680.3738  728.4694  743.6722  697.9728
&gt; colVars(tmp5,na.rm=TRUE)
 [1] 16008.13729    86.80257    57.19343    27.77775    66.57591    79.90037
 [7]    50.95278    58.36511    96.16905    43.62925    54.80177    84.14895
[13]    75.51770   104.24592    28.61064    37.81959    66.67761   129.75914
[19]    71.79041    75.56542
&gt; colSd(tmp5,na.rm=TRUE)
 [1] 126.523268   9.316790   7.562634   5.270460   8.159406   8.938701
 [7]   7.138122   7.639706   9.806582   6.605244   7.402822   9.173274
[13]   8.690092  10.210089   5.348892   6.149763   8.165636  11.391187
[19]   8.472922   8.692837
&gt; colMax(tmp5,na.rm=TRUE)
 [1] 472.10337  90.37820  80.91090  76.83150  85.95122  87.99816  92.83782
 [8]  82.01262  83.57644  75.47565  79.19791  91.64010  80.67543  89.88802
[15]  77.68738  75.12856  82.68580  87.31763  86.09482  91.54458
&gt; colMin(tmp5,na.rm=TRUE)
 [1] 62.34138 61.55033 59.26911 61.75951 57.05176 62.52892 69.49054 59.68407
 [9] 54.27106 55.05128 55.93354 58.42007 55.98731 60.91973 58.45895 57.87665
[17] 54.52948 58.37815 58.96375 57.48339
&gt; 
&gt; # now set an entire row to NA
&gt; 
&gt; tmp5[which.row,] &lt;- NA
&gt; rowMeans(tmp5,na.rm=TRUE)
 [1] 91.59942 67.13806      NaN 73.81929 71.17225 70.61320 70.84366 70.26848
 [9] 71.32534 70.05327
&gt; rowSums(tmp5,na.rm=TRUE)
 [1] 1831.988 1342.761    0.000 1476.386 1423.445 1412.264 1416.873 1405.370
 [9] 1426.507 1401.065
&gt; rowVars(tmp5,na.rm=TRUE)
 [1] 8122.49390  120.14709         NA   65.98835   26.40962   69.58194
 [7]   88.83563   42.73375   89.66803   40.69536
&gt; rowSd(tmp5,na.rm=TRUE)
 [1] 90.124879 10.961163        NA  8.123322  5.139029  8.341579  9.425266
 [8]  6.537106  9.469320  6.379292
&gt; rowMax(tmp5,na.rm=TRUE)
 [1] 472.10337  92.83782        NA  91.64010  80.91090  85.69712  83.99807
 [8]  83.36089  91.54458  80.68127
&gt; rowMin(tmp5,na.rm=TRUE)
 [1] 57.52787 54.27106       NA 58.37815 62.34138 55.98731 55.05128 60.23115
 [9] 57.05176 60.24105
&gt; 
&gt; 
&gt; # now set an entire col to NA
&gt; 
&gt; 
&gt; tmp5[,which.col] &lt;- NA
&gt; colMeans(tmp5,na.rm=TRUE)
 [1] 116.89906  73.32275  69.30055  69.22476  70.72848  73.62208  77.47552
 [8]  72.86238  70.07435  64.60880  71.18887  74.66307  65.81156       NaN
[15]  67.80196  66.38063  67.21044  73.93980  73.57743  69.70166
&gt; colSums(tmp5,na.rm=TRUE)
 [1] 1052.0916  659.9048  623.7050  623.0228  636.5563  662.5988  697.2797
 [8]  655.7614  630.6691  581.4792  640.6998  671.9676  592.3040    0.0000
[15]  610.2177  597.4257  604.8940  665.4582  662.1969  627.3149
&gt; colVars(tmp5,na.rm=TRUE)
 [1] 17782.68565    82.06154    63.43698    24.74044    74.21109    76.04386
 [7]    54.49515    63.82826   107.00409    44.75998    35.47041    94.37629
[13]    60.10224          NA    32.10868    42.34517    67.31930   132.54269
[19]    73.74687    84.90824
&gt; colSd(tmp5,na.rm=TRUE)
 [1] 133.351737   9.058783   7.964734   4.973976   8.614586   8.720313
 [7]   7.382083   7.989259  10.344278   6.690290   5.955704   9.714746
[13]   7.752564         NA   5.666452   6.507317   8.204834  11.512719
[19]   8.587600   9.214567
&gt; colMax(tmp5,na.rm=TRUE)
 [1] 472.10337  90.37820  80.91090  75.06670  85.95122  87.99816  92.83782
 [8]  82.01262  83.57644  75.47565  79.19791  91.64010  79.54536      -Inf
[15]  77.68738  75.12856  82.68580  87.31763  86.09482  91.54458
&gt; colMin(tmp5,na.rm=TRUE)
 [1] 62.34138 63.24021 59.26911 61.75951 57.05176 63.06987 69.49054 59.68407
 [9] 54.27106 55.05128 60.21417 58.42007 55.98731      Inf 58.45895 57.87665
[17] 54.52948 58.37815 58.96375 57.48339
&gt; 
&gt; 
&gt; 
&gt; 
&gt; copymatrix &lt;- matrix(rnorm(200,150,15),10,20)
&gt; 
&gt; tmp5[1:10,1:20] &lt;- copymatrix
&gt; which.row &lt;- 3
&gt; which.col  &lt;- 1
&gt; cat(which.row,&quot; &quot;,which.col,&quot;\n&quot;)
3   1 
&gt; tmp5[which.row,which.col] &lt;- NA
&gt; copymatrix[which.row,which.col] &lt;- NA
&gt; 
&gt; rowVars(tmp5,na.rm=TRUE)
 [1] 219.7715 168.3748 176.5404 155.2636 148.9133 340.2419 279.5314 179.9417
 [9] 310.2323 139.7413
&gt; apply(copymatrix,1,var,na.rm=TRUE)
 [1] 219.7715 168.3748 176.5404 155.2636 148.9133 340.2419 279.5314 179.9417
 [9] 310.2323 139.7413
&gt; 
&gt; 
&gt; 
&gt; copymatrix &lt;- matrix(rnorm(200,150,15),10,20)
&gt; 
&gt; tmp5[1:10,1:20] &lt;- copymatrix
&gt; which.row &lt;- 1
&gt; which.col  &lt;- 3
&gt; cat(which.row,&quot; &quot;,which.col,&quot;\n&quot;)
1   3 
&gt; tmp5[which.row,which.col] &lt;- NA
&gt; copymatrix[which.row,which.col] &lt;- NA
&gt; 
&gt; colVars(tmp5,na.rm=TRUE)-apply(copymatrix,2,var,na.rm=TRUE)
 [1]  0.000000e+00 -2.842171e-13  8.526513e-14  7.105427e-14  5.684342e-14
 [6] -5.684342e-14 -5.684342e-14  5.684342e-14  5.684342e-14  2.842171e-14
[11]  5.684342e-14 -1.705303e-13  5.684342e-14  1.705303e-13 -4.263256e-14
[16]  2.842171e-14  5.684342e-14  1.705303e-13 -1.136868e-13  5.684342e-14
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ## making sure these things agree
&gt; ##
&gt; ## first when there is no NA
&gt; 
&gt; 
&gt; 
&gt; agree.checks &lt;- function(buff.matrix,r.matrix,err.tol=1e-10){
+ 
+   if (Max(buff.matrix,na.rm=TRUE) != max(r.matrix,na.rm=TRUE)){
+     stop(&quot;No agreement in Max&quot;)
+   }
+   
+ 
+   if (Min(buff.matrix,na.rm=TRUE) != min(r.matrix,na.rm=TRUE)){
+     stop(&quot;No agreement in Min&quot;)
+   }
+ 
+ 
+   if (abs(Sum(buff.matrix,na.rm=TRUE)- sum(r.matrix,na.rm=TRUE)) &gt; err.tol){
+ 
+     cat(Sum(buff.matrix,na.rm=TRUE),&quot;\n&quot;)
+     cat(sum(r.matrix,na.rm=TRUE),&quot;\n&quot;)
+     cat(Sum(buff.matrix,na.rm=TRUE) - sum(r.matrix,na.rm=TRUE),&quot;\n&quot;)
+     
+     stop(&quot;No agreement in Sum&quot;)
+   }
+   
+   if (abs(mean(buff.matrix,na.rm=TRUE) - mean(r.matrix,na.rm=TRUE)) &gt; err.tol){
+     stop(&quot;No agreement in mean&quot;)
+   }
+   
+   
+   if(abs(Var(buff.matrix,na.rm=TRUE) - var(as.vector(r.matrix),na.rm=TRUE)) &gt; err.tol){
+     stop(&quot;No agreement in Var&quot;)
+   }
+   
+   
+ 
+   if(any(abs(rowMeans(buff.matrix,na.rm=TRUE) - apply(r.matrix,1,mean,na.rm=TRUE)) &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in rowMeans&quot;)
+   }
+   
+   
+   if(any(abs(colMeans(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,mean,na.rm=TRUE))&gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMeans&quot;)
+   }
+   
+   
+   if(any(abs(rowSums(buff.matrix,na.rm=TRUE)  -  apply(r.matrix,1,sum,na.rm=TRUE))&gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in rowSums&quot;)
+   }
+   
+   
+   if(any(abs(colSums(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,sum,na.rm=TRUE))&gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colSums&quot;)
+   }
+   
+   ### this is to get around the fact that R doesn&#x27;t like to compute NA on an entire vector of NA when 
+   ### computing variance
+   my.Var &lt;- function(x,na.rm=FALSE){
+    if (all(is.na(x))){
+      return(NA)
+    } else {
+      var(x,na.rm=na.rm)
+    }
+ 
+   }
+   
+   if(any(abs(rowVars(buff.matrix,na.rm=TRUE) - apply(r.matrix,1,my.Var,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in rowVars&quot;)
+   }
+   
+   
+   if(any(abs(colVars(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,my.Var,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in rowVars&quot;)
+   }
+ 
+ 
+   if(any(abs(rowMax(buff.matrix,na.rm=TRUE) - apply(r.matrix,1,max,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMax&quot;)
+   }
+   
+ 
+   if(any(abs(colMax(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,max,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMax&quot;)
+   }
+   
+   
+   
+   if(any(abs(rowMin(buff.matrix,na.rm=TRUE) - apply(r.matrix,1,min,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMin&quot;)
+   }
+   
+ 
+   if(any(abs(colMin(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,min,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMin&quot;)
+   }
+ 
+   if(any(abs(colMedians(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,median,na.rm=TRUE)) &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMedian&quot;)
+   }
+ 
+   if(any(abs(colRanges(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,range,na.rm=TRUE)) &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colRanges&quot;)
+   }
+ 
+ 
+   
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:20){
+   copymatrix &lt;- matrix(rnorm(200,150,15),10,20)
+   
+   tmp5[1:10,1:20] &lt;- copymatrix
+ 
+ 
+   agree.checks(tmp5,copymatrix)
+   
+   ## now lets assign some NA values and check agreement
+ 
+   which.row &lt;- sample(1:10,1,replace=TRUE)
+   which.col  &lt;- sample(1:20,1,replace=TRUE)
+   
+   cat(which.row,&quot; &quot;,which.col,&quot;\n&quot;)
+   
+   tmp5[which.row,which.col] &lt;- NA
+   copymatrix[which.row,which.col] &lt;- NA
+   
+   agree.checks(tmp5,copymatrix)
+ 
+   ## make an entire row NA
+   tmp5[which.row,] &lt;- NA
+   copymatrix[which.row,] &lt;- NA
+ 
+ 
+   agree.checks(tmp5,copymatrix)
+   
+   ### also make an entire col NA
+   tmp5[,which.col] &lt;- NA
+   copymatrix[,which.col] &lt;- NA
+ 
+   agree.checks(tmp5,copymatrix)
+ 
+   ### now make 1 element non NA with NA in the rest of row and column
+ 
+   tmp5[which.row,which.col] &lt;- rnorm(1,150,15)
+   copymatrix[which.row,which.col] &lt;- tmp5[which.row,which.col]
+ 
+   agree.checks(tmp5,copymatrix)
+ }
4   7 
7   17 
7   19 
7   17 
6   20 
4   2 
10   4 
3   16 
10   10 
9   9 
7   3 
2   13 
10   6 
2   15 
8   20 
10   10 
10   6 
5   8 
10   19 
2   8 
There were 50 or more warnings (use warnings() to see the first 50)
&gt; 
&gt; 
&gt; ### now test 1 by n and n by 1 matrix
&gt; 
&gt; 
&gt; err.tol &lt;- 1e-12
&gt; 
&gt; rm(tmp5)
&gt; 
&gt; dataset1 &lt;- rnorm(100)
&gt; dataset2 &lt;- rnorm(100)
&gt; 
&gt; tmp &lt;- createBufferedMatrix(1,100)
&gt; tmp[1,] &lt;- dataset1
&gt; 
&gt; tmp2 &lt;- createBufferedMatrix(100,1)
&gt; tmp2[,1] &lt;- dataset2
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Max(tmp)
[1] 2.256892
&gt; Min(tmp)
[1] -2.162651
&gt; mean(tmp)
[1] -0.1196315
&gt; Sum(tmp)
[1] -11.96315
&gt; Var(tmp)
[1] 0.9926744
&gt; 
&gt; rowMeans(tmp)
[1] -0.1196315
&gt; rowSums(tmp)
[1] -11.96315
&gt; rowVars(tmp)
[1] 0.9926744
&gt; rowSd(tmp)
[1] 0.9963304
&gt; rowMax(tmp)
[1] 2.256892
&gt; rowMin(tmp)
[1] -2.162651
&gt; 
&gt; colMeans(tmp)
  [1]  1.091123220 -0.186752794 -0.028001975  1.790446827 -1.724568911
  [6] -0.129344271 -0.219051331 -2.162650583 -0.806571566 -0.628275207
 [11] -2.000412287 -1.975734128 -0.205247404 -1.509381561  0.365737309
 [16] -0.438958953 -0.221028677 -0.302755310 -1.316875250 -0.612864019
 [21] -0.888160847 -0.013346809 -0.484198597 -1.290775756 -0.467270981
 [26]  0.120089311 -0.557862294  0.720632562 -0.305611306  1.315897689
 [31]  2.256892124 -1.584069408 -0.474862244 -0.583623783  0.919603054
 [36]  0.328098902 -0.370721682 -0.595869555  1.155963674  0.317302447
 [41] -1.315975536 -0.814811790  1.275902693 -1.068166992 -0.328578645
 [46]  0.772197343 -0.046374749  0.236782113  0.440678873  0.142253897
 [51]  0.436614969  0.081150260 -1.502065516 -0.245931793  1.488425863
 [56]  0.962495687  0.112536533  0.414113954  2.202648130 -0.899709623
 [61]  0.224059868 -1.395807438  0.538649823 -0.264688521 -0.413997149
 [66] -0.059345908  1.005115957 -1.493182777  1.956831462  0.897954935
 [71]  0.793957214  0.542023324  0.506764366 -0.872701242 -0.002749069
 [76] -0.288941220 -1.579349897  0.188290208  0.960341151  0.946396288
 [81] -1.826531205 -0.620837520  0.145132911 -0.782634907 -0.254761288
 [86] -1.537828005  0.564100686 -0.798755606  1.392665342  1.448069462
 [91] -0.512442606  1.543459403 -1.168683159  0.491019528 -0.133654545
 [96] -0.354756547  1.194521247 -1.837653710 -0.591649397 -1.152676811
&gt; colSums(tmp)
  [1]  1.091123220 -0.186752794 -0.028001975  1.790446827 -1.724568911
  [6] -0.129344271 -0.219051331 -2.162650583 -0.806571566 -0.628275207
 [11] -2.000412287 -1.975734128 -0.205247404 -1.509381561  0.365737309
 [16] -0.438958953 -0.221028677 -0.302755310 -1.316875250 -0.612864019
 [21] -0.888160847 -0.013346809 -0.484198597 -1.290775756 -0.467270981
 [26]  0.120089311 -0.557862294  0.720632562 -0.305611306  1.315897689
 [31]  2.256892124 -1.584069408 -0.474862244 -0.583623783  0.919603054
 [36]  0.328098902 -0.370721682 -0.595869555  1.155963674  0.317302447
 [41] -1.315975536 -0.814811790  1.275902693 -1.068166992 -0.328578645
 [46]  0.772197343 -0.046374749  0.236782113  0.440678873  0.142253897
 [51]  0.436614969  0.081150260 -1.502065516 -0.245931793  1.488425863
 [56]  0.962495687  0.112536533  0.414113954  2.202648130 -0.899709623
 [61]  0.224059868 -1.395807438  0.538649823 -0.264688521 -0.413997149
 [66] -0.059345908  1.005115957 -1.493182777  1.956831462  0.897954935
 [71]  0.793957214  0.542023324  0.506764366 -0.872701242 -0.002749069
 [76] -0.288941220 -1.579349897  0.188290208  0.960341151  0.946396288
 [81] -1.826531205 -0.620837520  0.145132911 -0.782634907 -0.254761288
 [86] -1.537828005  0.564100686 -0.798755606  1.392665342  1.448069462
 [91] -0.512442606  1.543459403 -1.168683159  0.491019528 -0.133654545
 [96] -0.354756547  1.194521247 -1.837653710 -0.591649397 -1.152676811
&gt; colVars(tmp)
  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [76] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
&gt; colSd(tmp)
  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [76] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
&gt; colMax(tmp)
  [1]  1.091123220 -0.186752794 -0.028001975  1.790446827 -1.724568911
  [6] -0.129344271 -0.219051331 -2.162650583 -0.806571566 -0.628275207
 [11] -2.000412287 -1.975734128 -0.205247404 -1.509381561  0.365737309
 [16] -0.438958953 -0.221028677 -0.302755310 -1.316875250 -0.612864019
 [21] -0.888160847 -0.013346809 -0.484198597 -1.290775756 -0.467270981
 [26]  0.120089311 -0.557862294  0.720632562 -0.305611306  1.315897689
 [31]  2.256892124 -1.584069408 -0.474862244 -0.583623783  0.919603054
 [36]  0.328098902 -0.370721682 -0.595869555  1.155963674  0.317302447
 [41] -1.315975536 -0.814811790  1.275902693 -1.068166992 -0.328578645
 [46]  0.772197343 -0.046374749  0.236782113  0.440678873  0.142253897
 [51]  0.436614969  0.081150260 -1.502065516 -0.245931793  1.488425863
 [56]  0.962495687  0.112536533  0.414113954  2.202648130 -0.899709623
 [61]  0.224059868 -1.395807438  0.538649823 -0.264688521 -0.413997149
 [66] -0.059345908  1.005115957 -1.493182777  1.956831462  0.897954935
 [71]  0.793957214  0.542023324  0.506764366 -0.872701242 -0.002749069
 [76] -0.288941220 -1.579349897  0.188290208  0.960341151  0.946396288
 [81] -1.826531205 -0.620837520  0.145132911 -0.782634907 -0.254761288
 [86] -1.537828005  0.564100686 -0.798755606  1.392665342  1.448069462
 [91] -0.512442606  1.543459403 -1.168683159  0.491019528 -0.133654545
 [96] -0.354756547  1.194521247 -1.837653710 -0.591649397 -1.152676811
&gt; colMin(tmp)
  [1]  1.091123220 -0.186752794 -0.028001975  1.790446827 -1.724568911
  [6] -0.129344271 -0.219051331 -2.162650583 -0.806571566 -0.628275207
 [11] -2.000412287 -1.975734128 -0.205247404 -1.509381561  0.365737309
 [16] -0.438958953 -0.221028677 -0.302755310 -1.316875250 -0.612864019
 [21] -0.888160847 -0.013346809 -0.484198597 -1.290775756 -0.467270981
 [26]  0.120089311 -0.557862294  0.720632562 -0.305611306  1.315897689
 [31]  2.256892124 -1.584069408 -0.474862244 -0.583623783  0.919603054
 [36]  0.328098902 -0.370721682 -0.595869555  1.155963674  0.317302447
 [41] -1.315975536 -0.814811790  1.275902693 -1.068166992 -0.328578645
 [46]  0.772197343 -0.046374749  0.236782113  0.440678873  0.142253897
 [51]  0.436614969  0.081150260 -1.502065516 -0.245931793  1.488425863
 [56]  0.962495687  0.112536533  0.414113954  2.202648130 -0.899709623
 [61]  0.224059868 -1.395807438  0.538649823 -0.264688521 -0.413997149
 [66] -0.059345908  1.005115957 -1.493182777  1.956831462  0.897954935
 [71]  0.793957214  0.542023324  0.506764366 -0.872701242 -0.002749069
 [76] -0.288941220 -1.579349897  0.188290208  0.960341151  0.946396288
 [81] -1.826531205 -0.620837520  0.145132911 -0.782634907 -0.254761288
 [86] -1.537828005  0.564100686 -0.798755606  1.392665342  1.448069462
 [91] -0.512442606  1.543459403 -1.168683159  0.491019528 -0.133654545
 [96] -0.354756547  1.194521247 -1.837653710 -0.591649397 -1.152676811
&gt; colMedians(tmp)
  [1]  1.091123220 -0.186752794 -0.028001975  1.790446827 -1.724568911
  [6] -0.129344271 -0.219051331 -2.162650583 -0.806571566 -0.628275207
 [11] -2.000412287 -1.975734128 -0.205247404 -1.509381561  0.365737309
 [16] -0.438958953 -0.221028677 -0.302755310 -1.316875250 -0.612864019
 [21] -0.888160847 -0.013346809 -0.484198597 -1.290775756 -0.467270981
 [26]  0.120089311 -0.557862294  0.720632562 -0.305611306  1.315897689
 [31]  2.256892124 -1.584069408 -0.474862244 -0.583623783  0.919603054
 [36]  0.328098902 -0.370721682 -0.595869555  1.155963674  0.317302447
 [41] -1.315975536 -0.814811790  1.275902693 -1.068166992 -0.328578645
 [46]  0.772197343 -0.046374749  0.236782113  0.440678873  0.142253897
 [51]  0.436614969  0.081150260 -1.502065516 -0.245931793  1.488425863
 [56]  0.962495687  0.112536533  0.414113954  2.202648130 -0.899709623
 [61]  0.224059868 -1.395807438  0.538649823 -0.264688521 -0.413997149
 [66] -0.059345908  1.005115957 -1.493182777  1.956831462  0.897954935
 [71]  0.793957214  0.542023324  0.506764366 -0.872701242 -0.002749069
 [76] -0.288941220 -1.579349897  0.188290208  0.960341151  0.946396288
 [81] -1.826531205 -0.620837520  0.145132911 -0.782634907 -0.254761288
 [86] -1.537828005  0.564100686 -0.798755606  1.392665342  1.448069462
 [91] -0.512442606  1.543459403 -1.168683159  0.491019528 -0.133654545
 [96] -0.354756547  1.194521247 -1.837653710 -0.591649397 -1.152676811
&gt; colRanges(tmp)
         [,1]       [,2]        [,3]     [,4]      [,5]       [,6]       [,7]
[1,] 1.091123 -0.1867528 -0.02800198 1.790447 -1.724569 -0.1293443 -0.2190513
[2,] 1.091123 -0.1867528 -0.02800198 1.790447 -1.724569 -0.1293443 -0.2190513
          [,8]       [,9]      [,10]     [,11]     [,12]      [,13]     [,14]
[1,] -2.162651 -0.8065716 -0.6282752 -2.000412 -1.975734 -0.2052474 -1.509382
[2,] -2.162651 -0.8065716 -0.6282752 -2.000412 -1.975734 -0.2052474 -1.509382
         [,15]     [,16]      [,17]      [,18]     [,19]     [,20]      [,21]
[1,] 0.3657373 -0.438959 -0.2210287 -0.3027553 -1.316875 -0.612864 -0.8881608
[2,] 0.3657373 -0.438959 -0.2210287 -0.3027553 -1.316875 -0.612864 -0.8881608
           [,22]      [,23]     [,24]     [,25]     [,26]      [,27]     [,28]
[1,] -0.01334681 -0.4841986 -1.290776 -0.467271 0.1200893 -0.5578623 0.7206326
[2,] -0.01334681 -0.4841986 -1.290776 -0.467271 0.1200893 -0.5578623 0.7206326
          [,29]    [,30]    [,31]     [,32]      [,33]      [,34]     [,35]
[1,] -0.3056113 1.315898 2.256892 -1.584069 -0.4748622 -0.5836238 0.9196031
[2,] -0.3056113 1.315898 2.256892 -1.584069 -0.4748622 -0.5836238 0.9196031
         [,36]      [,37]      [,38]    [,39]     [,40]     [,41]      [,42]
[1,] 0.3280989 -0.3707217 -0.5958696 1.155964 0.3173024 -1.315976 -0.8148118
[2,] 0.3280989 -0.3707217 -0.5958696 1.155964 0.3173024 -1.315976 -0.8148118
        [,43]     [,44]      [,45]     [,46]       [,47]     [,48]     [,49]
[1,] 1.275903 -1.068167 -0.3285786 0.7721973 -0.04637475 0.2367821 0.4406789
[2,] 1.275903 -1.068167 -0.3285786 0.7721973 -0.04637475 0.2367821 0.4406789
         [,50]    [,51]      [,52]     [,53]      [,54]    [,55]     [,56]
[1,] 0.1422539 0.436615 0.08115026 -1.502066 -0.2459318 1.488426 0.9624957
[2,] 0.1422539 0.436615 0.08115026 -1.502066 -0.2459318 1.488426 0.9624957
         [,57]    [,58]    [,59]      [,60]     [,61]     [,62]     [,63]
[1,] 0.1125365 0.414114 2.202648 -0.8997096 0.2240599 -1.395807 0.5386498
[2,] 0.1125365 0.414114 2.202648 -0.8997096 0.2240599 -1.395807 0.5386498
          [,64]      [,65]       [,66]    [,67]     [,68]    [,69]     [,70]
[1,] -0.2646885 -0.4139971 -0.05934591 1.005116 -1.493183 1.956831 0.8979549
[2,] -0.2646885 -0.4139971 -0.05934591 1.005116 -1.493183 1.956831 0.8979549
         [,71]     [,72]     [,73]      [,74]        [,75]      [,76]    [,77]
[1,] 0.7939572 0.5420233 0.5067644 -0.8727012 -0.002749069 -0.2889412 -1.57935
[2,] 0.7939572 0.5420233 0.5067644 -0.8727012 -0.002749069 -0.2889412 -1.57935
         [,78]     [,79]     [,80]     [,81]      [,82]     [,83]      [,84]
[1,] 0.1882902 0.9603412 0.9463963 -1.826531 -0.6208375 0.1451329 -0.7826349
[2,] 0.1882902 0.9603412 0.9463963 -1.826531 -0.6208375 0.1451329 -0.7826349
          [,85]     [,86]     [,87]      [,88]    [,89]    [,90]      [,91]
[1,] -0.2547613 -1.537828 0.5641007 -0.7987556 1.392665 1.448069 -0.5124426
[2,] -0.2547613 -1.537828 0.5641007 -0.7987556 1.392665 1.448069 -0.5124426
        [,92]     [,93]     [,94]      [,95]      [,96]    [,97]     [,98]
[1,] 1.543459 -1.168683 0.4910195 -0.1336545 -0.3547565 1.194521 -1.837654
[2,] 1.543459 -1.168683 0.4910195 -0.1336545 -0.3547565 1.194521 -1.837654
          [,99]    [,100]
[1,] -0.5916494 -1.152677
[2,] -0.5916494 -1.152677
&gt; 
&gt; 
&gt; Max(tmp2)
[1] 2.893784
&gt; Min(tmp2)
[1] -2.54574
&gt; mean(tmp2)
[1] 0.07003033
&gt; Sum(tmp2)
[1] 7.003033
&gt; Var(tmp2)
[1] 1.270334
&gt; 
&gt; rowMeans(tmp2)
  [1] -1.72606290  0.59682703 -0.78082257 -0.80617432  0.61011971 -0.13239232
  [7]  2.89378360  2.41401484  0.67378782  0.44960729  0.59481538 -0.86770594
 [13] -1.37266458  0.10820512 -0.23555669  0.09342870  0.21499262 -0.64953800
 [19]  0.68830850  0.71780601  0.16417009 -0.91701348  0.59474729  0.50278721
 [25] -0.03915510 -1.58971407  0.93988464  0.96588396 -0.24571114  0.45022775
 [31] -0.15902634  0.18173083  0.39019433 -1.79205243  0.56588452  1.04706384
 [37] -0.79374756 -1.86617149  2.89239859  0.85074068  0.59362938  0.92307385
 [43]  1.87018815 -1.00532734 -1.15939566 -1.01009273  0.19846926 -2.49145393
 [49]  1.05204058  0.25647201 -0.01526256 -0.01625911 -2.54573961  0.35800381
 [55] -0.17191441  1.14052257  0.04100579  1.59390065  0.83908244  1.39451703
 [61]  0.33909572 -0.45271041  0.62463815 -0.43292745  2.08068484 -0.04031819
 [67] -2.32612579 -0.85613555  0.68960593 -1.47905763 -2.19807513  1.20836096
 [73]  0.72715989  0.93091697 -1.35936951 -0.51882977 -0.40273559  0.07882783
 [79]  2.08193710 -0.10286077 -2.02686262 -0.09953702  1.24096460  0.06435946
 [85] -0.52177202  1.28569884 -0.06096019  0.39537506 -0.97099841  0.36525183
 [91] -0.53990489  0.54282836 -1.12323403 -2.38409976  1.29794258  0.72363327
 [97]  0.26226219  0.59601103  0.88089296  1.00973882
&gt; rowSums(tmp2)
  [1] -1.72606290  0.59682703 -0.78082257 -0.80617432  0.61011971 -0.13239232
  [7]  2.89378360  2.41401484  0.67378782  0.44960729  0.59481538 -0.86770594
 [13] -1.37266458  0.10820512 -0.23555669  0.09342870  0.21499262 -0.64953800
 [19]  0.68830850  0.71780601  0.16417009 -0.91701348  0.59474729  0.50278721
 [25] -0.03915510 -1.58971407  0.93988464  0.96588396 -0.24571114  0.45022775
 [31] -0.15902634  0.18173083  0.39019433 -1.79205243  0.56588452  1.04706384
 [37] -0.79374756 -1.86617149  2.89239859  0.85074068  0.59362938  0.92307385
 [43]  1.87018815 -1.00532734 -1.15939566 -1.01009273  0.19846926 -2.49145393
 [49]  1.05204058  0.25647201 -0.01526256 -0.01625911 -2.54573961  0.35800381
 [55] -0.17191441  1.14052257  0.04100579  1.59390065  0.83908244  1.39451703
 [61]  0.33909572 -0.45271041  0.62463815 -0.43292745  2.08068484 -0.04031819
 [67] -2.32612579 -0.85613555  0.68960593 -1.47905763 -2.19807513  1.20836096
 [73]  0.72715989  0.93091697 -1.35936951 -0.51882977 -0.40273559  0.07882783
 [79]  2.08193710 -0.10286077 -2.02686262 -0.09953702  1.24096460  0.06435946
 [85] -0.52177202  1.28569884 -0.06096019  0.39537506 -0.97099841  0.36525183
 [91] -0.53990489  0.54282836 -1.12323403 -2.38409976  1.29794258  0.72363327
 [97]  0.26226219  0.59601103  0.88089296  1.00973882
&gt; rowVars(tmp2)
  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [76] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
&gt; rowSd(tmp2)
  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [76] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
&gt; rowMax(tmp2)
  [1] -1.72606290  0.59682703 -0.78082257 -0.80617432  0.61011971 -0.13239232
  [7]  2.89378360  2.41401484  0.67378782  0.44960729  0.59481538 -0.86770594
 [13] -1.37266458  0.10820512 -0.23555669  0.09342870  0.21499262 -0.64953800
 [19]  0.68830850  0.71780601  0.16417009 -0.91701348  0.59474729  0.50278721
 [25] -0.03915510 -1.58971407  0.93988464  0.96588396 -0.24571114  0.45022775
 [31] -0.15902634  0.18173083  0.39019433 -1.79205243  0.56588452  1.04706384
 [37] -0.79374756 -1.86617149  2.89239859  0.85074068  0.59362938  0.92307385
 [43]  1.87018815 -1.00532734 -1.15939566 -1.01009273  0.19846926 -2.49145393
 [49]  1.05204058  0.25647201 -0.01526256 -0.01625911 -2.54573961  0.35800381
 [55] -0.17191441  1.14052257  0.04100579  1.59390065  0.83908244  1.39451703
 [61]  0.33909572 -0.45271041  0.62463815 -0.43292745  2.08068484 -0.04031819
 [67] -2.32612579 -0.85613555  0.68960593 -1.47905763 -2.19807513  1.20836096
 [73]  0.72715989  0.93091697 -1.35936951 -0.51882977 -0.40273559  0.07882783
 [79]  2.08193710 -0.10286077 -2.02686262 -0.09953702  1.24096460  0.06435946
 [85] -0.52177202  1.28569884 -0.06096019  0.39537506 -0.97099841  0.36525183
 [91] -0.53990489  0.54282836 -1.12323403 -2.38409976  1.29794258  0.72363327
 [97]  0.26226219  0.59601103  0.88089296  1.00973882
&gt; rowMin(tmp2)
  [1] -1.72606290  0.59682703 -0.78082257 -0.80617432  0.61011971 -0.13239232
  [7]  2.89378360  2.41401484  0.67378782  0.44960729  0.59481538 -0.86770594
 [13] -1.37266458  0.10820512 -0.23555669  0.09342870  0.21499262 -0.64953800
 [19]  0.68830850  0.71780601  0.16417009 -0.91701348  0.59474729  0.50278721
 [25] -0.03915510 -1.58971407  0.93988464  0.96588396 -0.24571114  0.45022775
 [31] -0.15902634  0.18173083  0.39019433 -1.79205243  0.56588452  1.04706384
 [37] -0.79374756 -1.86617149  2.89239859  0.85074068  0.59362938  0.92307385
 [43]  1.87018815 -1.00532734 -1.15939566 -1.01009273  0.19846926 -2.49145393
 [49]  1.05204058  0.25647201 -0.01526256 -0.01625911 -2.54573961  0.35800381
 [55] -0.17191441  1.14052257  0.04100579  1.59390065  0.83908244  1.39451703
 [61]  0.33909572 -0.45271041  0.62463815 -0.43292745  2.08068484 -0.04031819
 [67] -2.32612579 -0.85613555  0.68960593 -1.47905763 -2.19807513  1.20836096
 [73]  0.72715989  0.93091697 -1.35936951 -0.51882977 -0.40273559  0.07882783
 [79]  2.08193710 -0.10286077 -2.02686262 -0.09953702  1.24096460  0.06435946
 [85] -0.52177202  1.28569884 -0.06096019  0.39537506 -0.97099841  0.36525183
 [91] -0.53990489  0.54282836 -1.12323403 -2.38409976  1.29794258  0.72363327
 [97]  0.26226219  0.59601103  0.88089296  1.00973882
&gt; 
&gt; colMeans(tmp2)
[1] 0.07003033
&gt; colSums(tmp2)
[1] 7.003033
&gt; colVars(tmp2)
[1] 1.270334
&gt; colSd(tmp2)
[1] 1.127091
&gt; colMax(tmp2)
[1] 2.893784
&gt; colMin(tmp2)
[1] -2.54574
&gt; colMedians(tmp2)
[1] 0.1901
&gt; colRanges(tmp2)
          [,1]
[1,] -2.545740
[2,]  2.893784
&gt; 
&gt; dataset1 &lt;- matrix(dataset1,1,100)
&gt; 
&gt; agree.checks(tmp,dataset1)
&gt; 
&gt; dataset2 &lt;- matrix(dataset2,100,1)
&gt; agree.checks(tmp2,dataset2)
&gt;   
&gt; 
&gt; tmp &lt;- createBufferedMatrix(10,10)
&gt; 
&gt; tmp[1:10,1:10] &lt;- rnorm(100)
&gt; colApply(tmp,sum)
 [1] -4.4985368 -4.5435532  2.0365850 -1.4493060 -0.4609213  1.4053770
 [7]  0.8808697  4.6696059 -0.9770769  5.9270286
&gt; colApply(tmp,quantile)[,1]
           [,1]
[1,] -1.5182971
[2,] -1.0742851
[3,] -0.6580120
[4,] -0.3359356
[5,]  1.4249660
&gt; 
&gt; rowApply(tmp,sum)
 [1]  2.64017377 -0.64904857  1.83757016 -0.94876688 -0.19780055 -0.01547484
 [7] -0.71710779 -0.99558604  2.88612883 -0.85001601
&gt; rowApply(tmp,rank)[1:10,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    9    4    2    3    4    2    3    2    7     3
 [2,]    4    5    1    1    9    5    9    1    4     6
 [3,]    7    6    4    5    3    6    4    9    8     4
 [4,]    1    7    7    7    8    4    7    4    5     2
 [5,]    3    3    5    8   10    7    5    3    2     5
 [6,]   10   10    6    4    2    3    2    6    6     8
 [7,]    5    9    3    9    5    1    6   10   10     1
 [8,]    6    2    8   10    6   10   10    8    1     9
 [9,]    2    1    9    6    1    8    1    7    9     7
[10,]    8    8   10    2    7    9    8    5    3    10
&gt; 
&gt; tmp &lt;- createBufferedMatrix(5,20)
&gt; 
&gt; tmp[1:5,1:20] &lt;- rnorm(100)
&gt; colApply(tmp,sum)
 [1] -1.0604320  3.1777045 -2.7658280  0.4339856  4.3332523 -3.2747386
 [7] -3.3755783  3.9035221 -1.9056312  1.9480149  1.9388997  2.4255741
[13]  1.5461039  2.0913029  3.1732688  1.5268979  0.5837282  0.8086194
[19]  3.9820139 -2.0205997
&gt; colApply(tmp,quantile)[,1]
           [,1]
[1,] -1.2905307
[2,] -0.3924223
[3,] -0.3805261
[4,] -0.3801480
[5,]  1.3831950
&gt; 
&gt; rowApply(tmp,sum)
[1]  2.008468  2.737293  3.430660 13.937644 -4.643985
&gt; rowApply(tmp,rank)[1:5,]
     [,1] [,2] [,3] [,4] [,5]
[1,]    5   17    7    4    3
[2,]   16   20    3    5   19
[3,]   10    2    4   10    8
[4,]   13    1    6   16   20
[5,]    6   14   17   20   12
&gt; 
&gt; 
&gt; as.matrix(tmp)
           [,1]       [,2]       [,3]       [,4]       [,5]       [,6]
[1,] -0.3801480  0.7696756 -0.1487590  0.2716628 -0.3545701 -0.1196464
[2,]  1.3831950  2.2897896 -1.5514052 -1.9618214  0.3748112 -0.7346370
[3,] -0.3805261 -0.7992801 -0.6337277 -0.5510373  1.1908210 -1.2425600
[4,] -0.3924223 -0.1032569  0.2234508  1.5333494  2.8033754 -0.5759151
[5,] -1.2905307  1.0207764 -0.6553869  1.1418321  0.3188147 -0.6019801
           [,7]       [,8]       [,9]      [,10]      [,11]      [,12]
[1,] -1.0403844  1.2335772  0.1817215  0.8477537 -0.1623015 -0.2264119
[2,]  0.2562975  1.1474335 -0.8648579 -0.8674264  0.9223411  0.1399985
[3,] -0.6148962 -0.3751692  0.7274279  1.4844878  0.2081636  0.2368323
[4,] -0.9768947  1.2325671 -0.7301244  2.4651854  0.4029956  2.6693802
[5,] -0.9997005  0.6651135 -1.2197982 -1.9819855  0.5677009 -0.3942251
           [,13]       [,14]      [,15]      [,16]       [,17]      [,18]
[1,] -0.55574774  0.86870036 -0.3490649  0.3392784 -0.89186902  0.5876719
[2,]  0.03233736  1.61366864  0.0766383 -0.1415835  1.85130970 -1.3488877
[3,]  0.67530758  0.45632277  1.7972056  0.2712243 -1.21796388  1.2406337
[4,]  2.65317689  0.04949639  1.0399412  0.6150734  0.04249659 -0.1030273
[5,] -1.25897022 -0.89688522  0.6085486  0.4429052  0.79975483  0.4322289
          [,19]       [,20]
[1,]  1.8279497 -0.69062037
[2,] -0.1130413  0.23313333
[3,]  1.1135481 -0.15615445
[4,]  1.0326301  0.05616679
[5,]  0.1209273 -1.46312499
&gt; 
&gt; 
&gt; is.BufferedMatrix(tmp)
[1] TRUE
&gt; 
&gt; as.BufferedMatrix(as.matrix(tmp))
BufferedMatrix object
Matrix size:  5 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  1.9  Kilobytes.
Disk usage :  800  bytes.
&gt; 
&gt; 
&gt; 
&gt; subBufferedMatrix(tmp,1:5,1:5)
BufferedMatrix object
Matrix size:  5 5 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  646  bytes.
Disk usage :  200  bytes.
&gt; subBufferedMatrix(tmp,,5:8)
BufferedMatrix object
Matrix size:  5 4 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  562  bytes.
Disk usage :  160  bytes.
&gt; subBufferedMatrix(tmp,1:3,)
BufferedMatrix object
Matrix size:  3 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  1.9  Kilobytes.
Disk usage :  480  bytes.
&gt; 
&gt; 
&gt; rm(tmp)
&gt; 
&gt; 
&gt; ###
&gt; ### Testing colnames and rownames
&gt; ###
&gt; 
&gt; tmp &lt;- createBufferedMatrix(5,20)
&gt; tmp[1:5,1:20] &lt;- rnorm(100)
&gt; 
&gt; 
&gt; colnames(tmp)
NULL
&gt; rownames(tmp)
NULL
&gt; 
&gt; 
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; 
&gt; colnames(tmp)
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;
&gt; rownames(tmp)
[1] &quot;row1&quot; &quot;row2&quot; &quot;row3&quot; &quot;row4&quot; &quot;row5&quot;
&gt; 
&gt; 
&gt; tmp[&quot;row1&quot;,]
           col1       col2       col3      col4     col5     col6     col7
row1 -0.1721325 0.07250061 -0.9196283 0.4195414 1.471977 0.319622 1.296115
           col8     col9     col10     col11      col12     col13     col14
row1 -0.5375301 1.842305 0.3011468 0.3786256 -0.5316313 -1.283922 0.9388489
        col15      col16     col17     col18     col19     col20
row1 1.229096 -0.3332295 0.4124904 0.7545934 0.4821533 0.4546408
&gt; tmp[,&quot;col10&quot;]
            col10
row1  0.301146777
row2  2.612957269
row3 -1.694915240
row4  0.005385104
row5  0.511016524
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),]
           col1        col2       col3       col4      col5      col6      col7
row1 -0.1721325  0.07250061 -0.9196283  0.4195414  1.471977 0.3196220 1.2961151
row5  1.8553998 -1.00941112 -1.0136534 -0.1799686 -1.134090 0.4273104 0.4740607
           col8      col9     col10      col11       col12       col13
row1 -0.5375301  1.842305 0.3011468  0.3786256 -0.53163134 -1.28392194
row5  0.3774292 -1.168232 0.5110165 -1.3285110  0.09717412 -0.02135535
          col14    col15      col16     col17     col18     col19      col20
row1  0.9388489 1.229096 -0.3332295 0.4124904 0.7545934 0.4821533  0.4546408
row5 -1.4520478 1.194105 -1.0018923 0.2121789 0.2606529 1.9812080 -0.3107763
&gt; tmp[,c(&quot;col6&quot;,&quot;col20&quot;)]
           col6      col20
row1  0.3196220  0.4546408
row2 -1.5590260  0.7823524
row3  0.1083499 -0.5003538
row4 -1.2090126  1.1994810
row5  0.4273104 -0.3107763
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),c(&quot;col6&quot;,&quot;col20&quot;)]
          col6      col20
row1 0.3196220  0.4546408
row5 0.4273104 -0.3107763
&gt; 
&gt; 
&gt; 
&gt; 
&gt; tmp[&quot;row1&quot;,] &lt;- rnorm(20,mean=10)
&gt; tmp[,&quot;col10&quot;] &lt;- rnorm(5,mean=30)
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),] &lt;- rnorm(40,mean=50)
&gt; tmp[,c(&quot;col6&quot;,&quot;col20&quot;)] &lt;- rnorm(10,mean=75)
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),c(&quot;col6&quot;,&quot;col20&quot;)]  &lt;- rnorm(4,mean=105)
&gt; 
&gt; tmp[&quot;row1&quot;,]
         col1     col2     col3     col4     col5    col6     col7     col8
row1 49.55772 48.70392 49.47443 48.46229 48.05793 106.828 51.00341 49.06126
         col9    col10    col11    col12    col13    col14    col15   col16
row1 50.68866 48.62414 49.54545 50.20202 50.39217 49.85328 51.34704 47.1175
        col17    col18    col19    col20
row1 51.71057 49.84622 50.13192 104.9539
&gt; tmp[,&quot;col10&quot;]
        col10
row1 48.62414
row2 30.47751
row3 28.55439
row4 29.22711
row5 48.99471
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),]
         col1     col2     col3     col4     col5     col6     col7     col8
row1 49.55772 48.70392 49.47443 48.46229 48.05793 106.8280 51.00341 49.06126
row5 50.22350 49.88734 49.82003 49.59423 49.93447 104.2109 50.26401 49.22778
         col9    col10    col11    col12    col13    col14    col15   col16
row1 50.68866 48.62414 49.54545 50.20202 50.39217 49.85328 51.34704 47.1175
row5 50.83206 48.99471 50.30635 49.18620 50.66484 51.44643 50.48108 50.0188
        col17    col18    col19    col20
row1 51.71057 49.84622 50.13192 104.9539
row5 49.86530 50.08077 48.73595 105.2597
&gt; tmp[,c(&quot;col6&quot;,&quot;col20&quot;)]
          col6     col20
row1 106.82795 104.95394
row2  74.08218  77.68465
row3  75.95707  73.77518
row4  74.28748  73.93117
row5 104.21093 105.25970
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),c(&quot;col6&quot;,&quot;col20&quot;)]
         col6    col20
row1 106.8280 104.9539
row5 104.2109 105.2597
&gt; 
&gt; 
&gt; subBufferedMatrix(tmp,c(&quot;row1&quot;,&quot;row5&quot;),c(&quot;col6&quot;,&quot;col20&quot;))[1:2,1:2]
         col6    col20
row1 106.8280 104.9539
row5 104.2109 105.2597
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; tmp &lt;- createBufferedMatrix(5,20)
&gt; tmp[1:5,1:20] &lt;- rnorm(100)
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; 
&gt; tmp[,&quot;col13&quot;]
           col13
[1,] -0.02438992
[2,] -0.34468711
[3,] -1.73594791
[4,] -0.90601397
[5,] -1.82953462
&gt; tmp[,c(&quot;col17&quot;,&quot;col7&quot;)]
           col17       col7
[1,] -0.37502651  0.5842618
[2,]  0.33678394 -1.2736249
[3,] -0.21506211 -1.0951496
[4,] -0.08232545  2.0164397
[5,] -0.13044412  0.8302304
&gt; 
&gt; subBufferedMatrix(tmp,,c(&quot;col6&quot;,&quot;col20&quot;))[,1:2]
           col6      col20
[1,] -0.8566052 -0.0802417
[2,]  0.3328208  0.7956920
[3,] -0.9071666 -0.7648617
[4,]  0.7656527  0.2921913
[5,]  0.2461946  0.1888944
&gt; subBufferedMatrix(tmp,1,c(&quot;col6&quot;))[,1]
           col1
[1,] -0.8566052
&gt; subBufferedMatrix(tmp,1:2,c(&quot;col6&quot;))[,1]
           col6
[1,] -0.8566052
[2,]  0.3328208
&gt; 
&gt; 
&gt; 
&gt; tmp &lt;- createBufferedMatrix(5,20)
&gt; tmp[1:5,1:20] &lt;- rnorm(100)
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; 
&gt; 
&gt; 
&gt; 
&gt; subBufferedMatrix(tmp,c(&quot;row3&quot;,&quot;row1&quot;),)[,1:20]
           [,1]      [,2]       [,3]       [,4]       [,5]       [,6]
row3  0.3968652 0.7839726  0.4751761 -0.1182422 -0.1241626 -0.6144516
row1 -1.1345759 0.2637105 -0.2243877  1.0109836  2.1689397  1.9347823
           [,7]     [,8]      [,9]       [,10]      [,11]     [,12]      [,13]
row3 -0.4740065 1.357882 1.2992882  0.11571057 0.72862136 1.3846966 -0.7693852
row1 -0.1117909 0.815390 0.9219155 -0.07820295 0.08788561 0.6298222 -0.2293827
          [,14]     [,15]     [,16]      [,17]      [,18]     [,19]      [,20]
row3  0.1674252 -1.419857 -1.691491 -0.5468046 -0.1975107  1.169388 -0.8174245
row1 -0.2149493 -0.400277  2.248986  1.6121616  0.4876469 -0.187228  0.4150824
&gt; subBufferedMatrix(tmp,c(&quot;row2&quot;),1:10)[,1:10]
           [,1]      [,2]      [,3]       [,4]     [,5]      [,6]        [,7]
row2 -0.1460479 0.2739428 -1.175385 -0.1300907 1.630348 0.6961966 -0.02989913
         [,8]        [,9]    [,10]
row2 1.643365 -0.05883762 0.527384
&gt; subBufferedMatrix(tmp,c(&quot;row5&quot;),1:20)[,1:20]
           [,1]       [,2]    [,3]      [,4]      [,5]      [,6]       [,7]
row5 -0.6134713 -0.7301634 1.15966 0.9127606 0.1762872 0.8248004 -0.3239874
          [,8]      [,9]     [,10]    [,11]     [,12]    [,13]       [,14]
row5 0.6280746 -1.571375 0.4278528 1.008733 0.9918932 0.498544 -0.04292298
        [,15]      [,16]      [,17]      [,18]     [,19]     [,20]
row5 1.894761 -0.5284787 -0.6895919 -0.2266498 -1.426862 0.2498706
&gt; 
&gt; 
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; 
&gt; colnames(tmp)
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;
&gt; rownames(tmp)
[1] &quot;row1&quot; &quot;row2&quot; &quot;row3&quot; &quot;row4&quot; &quot;row5&quot;
&gt; 
&gt; 
&gt; colnames(tmp) &lt;- NULL
&gt; rownames(tmp) &lt;- NULL
&gt; 
&gt; colnames(tmp)
NULL
&gt; rownames(tmp)
NULL
&gt; 
&gt; 
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; 
&gt; dimnames(tmp)
[[1]]
[1] &quot;row1&quot; &quot;row2&quot; &quot;row3&quot; &quot;row4&quot; &quot;row5&quot;

[[2]]
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;

&gt; 
&gt; dimnames(tmp) &lt;- NULL
&gt; 
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; dimnames(tmp)
[[1]]
NULL

[[2]]
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;

&gt; 
&gt; 
&gt; dimnames(tmp) &lt;- NULL
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; dimnames(tmp)
[[1]]
[1] &quot;row1&quot; &quot;row2&quot; &quot;row3&quot; &quot;row4&quot; &quot;row5&quot;

[[2]]
NULL

&gt; 
&gt; dimnames(tmp) &lt;- list(NULL,c(colnames(tmp,do.NULL=FALSE)))
&gt; dimnames(tmp)
[[1]]
NULL

[[2]]
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;

&gt; 
&gt; 
&gt; 
&gt; ###
&gt; ### Testing logical indexing
&gt; ###
&gt; ###
&gt; 
&gt; tmp &lt;- createBufferedMatrix(230,15)
&gt; tmp[1:230,1:15] &lt;- rnorm(230*15)
&gt; x &lt;-tmp[1:230,1:15]  
&gt; 
&gt; for (rep in 1:10){
+   which.cols &lt;- sample(c(TRUE,FALSE),15,replace=T)
+   which.rows &lt;- sample(c(TRUE,FALSE),230,replace=T)
+   
+   if (!all(tmp[which.rows,which.cols] == x[which.rows,which.cols])){
+     stop(&quot;No agreement when logical indexing\n&quot;)
+   }
+   
+   if (!all(subBufferedMatrix(tmp,,which.cols)[,1:sum(which.cols)] ==  x[,which.cols])){
+     stop(&quot;No agreement when logical indexing in subBufferedMatrix cols\n&quot;)
+   }
+   if (!all(subBufferedMatrix(tmp,which.rows,)[1:sum(which.rows),] ==  x[which.rows,])){
+     stop(&quot;No agreement when logical indexing in subBufferedMatrix rows\n&quot;)
+   }
+   
+   
+   if (!all(subBufferedMatrix(tmp,which.rows,which.cols)[1:sum(which.rows),1:sum(which.cols)]==  x[which.rows,which.cols])){
+     stop(&quot;No agreement when logical indexing in subBufferedMatrix rows and columns\n&quot;)
+   }
+ }
&gt; 
&gt; 
&gt; ##
&gt; ## Test the ReadOnlyMode
&gt; ##
&gt; 
&gt; ReadOnlyMode(tmp)
&lt;pointer: 0xaaaacc409ca0&gt;
&gt; is.ReadOnlyMode(tmp)
[1] TRUE
&gt; 
&gt; filenames(tmp)
 [1] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd29adc147&quot;
 [2] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd238e9a95&quot;
 [3] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd7e1f8da9&quot;
 [4] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd5b45a5df&quot;
 [5] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd5eacfa2a&quot;
 [6] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd701bef77&quot;
 [7] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd42c32521&quot;
 [8] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd46c494fa&quot;
 [9] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd3db14d8a&quot;
[10] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd2a4ea076&quot;
[11] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd72332717&quot;
[12] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bdda9ac90&quot; 
[13] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd4b4627ce&quot;
[14] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd62394e0c&quot;
[15] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BMc75bd5375492e&quot;
&gt; 
&gt; 
&gt; ### testing coercion functions
&gt; ###
&gt; 
&gt; tmp &lt;- as(tmp,&quot;matrix&quot;)
&gt; tmp &lt;- as(tmp,&quot;BufferedMatrix&quot;)
&gt; 
&gt; 
&gt; 
&gt; ### testing whether can move storage from one location to another
&gt; 
&gt; MoveStorageDirectory(tmp,&quot;NewDirectory&quot;,full.path=FALSE)
&lt;pointer: 0xaaaacebe9e30&gt;
&gt; MoveStorageDirectory(tmp,getwd(),full.path=TRUE)
&lt;pointer: 0xaaaacebe9e30&gt;
Warning message:
In dir.create(new.directory) :
  &#x27;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests&#x27; already exists
&gt; 
&gt; 
&gt; RowMode(tmp)
&lt;pointer: 0xaaaacebe9e30&gt;
&gt; rowMedians(tmp)
  [1]  0.135444823  0.095702804  0.228374817 -0.494189460  0.263003146
  [6]  0.224119988 -0.221805911  0.146469399 -0.537701286  0.376232803
 [11] -0.029054082  0.261976461 -0.890479918  0.545768506 -0.047921164
 [16] -0.059590732 -0.148893368 -0.029405617 -0.162269880 -0.499276885
 [21] -0.084766915  0.463917863  0.081187038  0.068439139 -0.132205367
 [26]  0.274301024  0.015592935  0.022694332  0.318946012  0.256812912
 [31]  0.320262833 -0.237229928 -0.226040838 -0.385451439 -0.577750645
 [36]  0.315992863 -0.087479896 -0.368962635 -0.058221818 -0.339962493
 [41]  0.132576385  0.439208270  0.042226063  0.089524660  0.638667998
 [46] -0.406135927  0.115596085 -0.191644727  0.051971952  0.052217002
 [51]  0.103930045  0.311849750  0.064791887  0.359221791  0.133858990
 [56] -0.230704297  0.047201169  0.379776788 -0.125194227 -0.431033313
 [61] -0.277836701 -0.388611741  0.279615504 -0.196817480 -0.149782399
 [66] -0.081224299  0.195436508  0.310399612 -0.166157050 -0.199042762
 [71]  0.198469950 -0.318160933 -0.019125531 -0.083669356  0.205470886
 [76]  0.112935263 -0.626815446  0.336642927  0.333792309 -0.311636205
 [81] -0.262301768 -0.048048921  0.271364301 -0.053967378 -0.125638783
 [86] -0.128971494  0.381013038  0.102470377  0.130962188  0.147150393
 [91]  0.330827278 -0.630255861 -0.199191620 -0.032580806 -0.293864204
 [96]  0.032031690 -0.678351360  0.797965259 -0.109776915  0.035879986
[101]  0.011158809 -0.106106692  0.099463546  0.050408520  0.237433319
[106]  0.036348575  0.080046217  0.345808431 -0.110186660 -0.204525455
[111]  0.172206613  0.144977019 -0.155433421  0.085271851  0.207462979
[116]  0.055283034 -0.210384202  0.818289984  0.098986025  0.095225536
[121]  0.332160723  0.323141256  0.181496439 -0.033878360 -0.392091453
[126]  0.129047414 -0.091466027  0.095241064 -0.228305216  0.093037317
[131] -0.425029692 -0.027246259  0.118048487 -0.593735389  0.003174098
[136] -0.227565706  0.591943730 -0.171169564  0.407193660 -0.343413931
[141]  0.030361386 -0.079033467  0.127318528 -0.152578956  0.016746710
[146] -0.384400575  0.131544739  0.351788320 -0.048269671  0.085971077
[151] -0.559493545  0.697106798  0.107634450  0.454878684  0.783001362
[156] -0.454027121 -0.277431623  0.426954236 -0.052857083 -0.406296974
[161]  0.161271692 -0.492219126 -0.096272658 -0.403621335 -0.088699932
[166]  0.037933340 -0.610807786 -0.482931481 -0.467146790  0.369667824
[171] -0.721991698  0.234800215 -0.615576246  0.754281272  0.243722543
[176] -0.317290796 -0.628579464 -0.071795465 -0.059487554  0.097363523
[181]  0.317253269  0.176537517 -0.135567606 -0.341359862  0.448453541
[186] -0.065789460 -0.113169296  0.150040049  0.084403315 -0.474557328
[191] -0.483469545  0.015098273 -0.193177185  0.146517336 -0.128286308
[196] -0.375976289  0.306875656 -0.008774687  0.054221030 -0.304645731
[201] -0.052376237  0.160965446  0.205266149 -0.021517942  0.531131175
[206]  0.002981597  0.261350118  0.298852772 -0.230721191 -0.201506572
[211] -0.753656925 -0.290913804  0.422357532 -0.307324239  0.068026553
[216]  0.235224316 -0.130357889 -0.027500288 -0.416161381 -0.214044617
[221] -0.213457335 -0.564169372 -0.167113177  0.315376830  0.098311866
[226]  0.388412563 -0.294711123  0.045837282 -0.049466497  0.249402197
&gt; 
&gt; proc.time()
   user  system elapsed 
  2.014   1.198   3.220 
</PRE>
</DIV><P><SPAN class="filename">BufferedMatrix.Rcheck/tests/rawCalltesting.Rout</SPAN></P>
<DIV class="kunpeng1 hscrollable">
<PRE style="padding: 3px;">

R Under development (unstable) (2023-01-14 r83615) -- &quot;Unsuffered Consequences&quot;
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#x27;license()&#x27; or &#x27;licence()&#x27; for distribution details.

R is a collaborative project with many contributors.
Type &#x27;contributors()&#x27; for more information and
&#x27;citation()&#x27; on how to cite R or R packages in publications.

Type &#x27;demo()&#x27; for some demos, &#x27;help()&#x27; for on-line help, or
&#x27;help.start()&#x27; for an HTML browser interface to help.
Type &#x27;q()&#x27; to quit R.

&gt; library(BufferedMatrix);library.dynam(&quot;BufferedMatrix&quot;,&quot;BufferedMatrix&quot;, .libPaths());

Attaching package: &#x27;BufferedMatrix&#x27;

The following objects are masked from &#x27;package:base&#x27;:

    colMeans, colSums, rowMeans, rowSums

&gt; 
&gt; prefix &lt;- &quot;dbmtest&quot;
&gt; directory &lt;- getwd()
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_Test_C&quot;,P)
RBufferedMatrix
Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Assigning Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xaaab0b56a900&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xaaab0b56a900&gt;
&gt; .Call(&quot;R_bm_Test_C&quot;,P)
RBufferedMatrix
Checking dimensions
Rows: 5
Cols: 10
Buffer Rows: 1
Buffer Cols: 1

Assigning Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xaaab0b56a900&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 10
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 1.000000 2.000000 3.000000 4.000000 0.000000 0.000000 0.000000 0.000000 0.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 0.000000 0.000000 0.000000 0.000000 0.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 0.000000 0.000000 0.000000 0.000000 0.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 0.000000 0.000000 0.000000 0.000000 0.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 0.000000 0.000000 0.000000 0.000000 0.000000 

&lt;pointer: 0xaaab0b56a900&gt;
&gt; rm(P)
&gt; 
&gt; #P &lt;- .Call(&quot;R_bm_Destroy&quot;,P)
&gt; #.Call(&quot;R_bm_Destroy&quot;,P)
&gt; #.Call(&quot;R_bm_Test_C&quot;,P)
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,5)
[1] TRUE
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 0
Buffer Rows: 1
Buffer Cols: 1

Printing Values






&lt;pointer: 0xaaab0bd2b290&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab0bd2b290&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 1
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 
0.000000 
0.000000 
0.000000 
0.000000 

&lt;pointer: 0xaaab0bd2b290&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab0bd2b290&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xaaab0bd2b290&gt;
&gt; rm(P)
&gt; 
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,5)
[1] TRUE
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab0b518de0&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab0b518de0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xaaab0b518de0&gt;
&gt; 
&gt; .Call(&quot;R_bm_ResizeBuffer&quot;,P,5,5)
&lt;pointer: 0xaaab0b518de0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 5
Buffer Cols: 5

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xaaab0b518de0&gt;
&gt; 
&gt; .Call(&quot;R_bm_RowMode&quot;,P)
&lt;pointer: 0xaaab0b518de0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 5
Buffer Cols: 5

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xaaab0b518de0&gt;
&gt; 
&gt; .Call(&quot;R_bm_ColMode&quot;,P)
&lt;pointer: 0xaaab0b518de0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 5
Buffer Cols: 5

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xaaab0b518de0&gt;
&gt; rm(P)
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,10)
[1] TRUE
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab0bd96390&gt;
&gt; .Call(&quot;R_bm_SetPrefix&quot;,P,&quot;BufferedMatrixFile&quot;)
&lt;pointer: 0xaaab0bd96390&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab0bd96390&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab0bd96390&gt;
&gt; dir(pattern=&quot;BufferedMatrixFile&quot;)
[1] &quot;BufferedMatrixFilec760b4a7ab10c&quot; &quot;BufferedMatrixFilec760bdf5ea2f&quot; 
&gt; rm(P)
&gt; dir(pattern=&quot;BufferedMatrixFile&quot;)
[1] &quot;BufferedMatrixFilec760b4a7ab10c&quot; &quot;BufferedMatrixFilec760bdf5ea2f&quot; 
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,10)
[1] TRUE
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab0d6cf9a0&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab0d6cf9a0&gt;
&gt; .Call(&quot;R_bm_ReadOnlyModeToggle&quot;,P)
&lt;pointer: 0xaaab0d6cf9a0&gt;
&gt; .Call(&quot;R_bm_isReadOnlyMode&quot;,P)
[1] TRUE
&gt; .Call(&quot;R_bm_ReadOnlyModeToggle&quot;,P)
&lt;pointer: 0xaaab0d6cf9a0&gt;
&gt; .Call(&quot;R_bm_isReadOnlyMode&quot;,P)
[1] FALSE
&gt; .Call(&quot;R_bm_isRowMode&quot;,P)
[1] FALSE
&gt; .Call(&quot;R_bm_RowMode&quot;,P)
&lt;pointer: 0xaaab0d6cf9a0&gt;
&gt; .Call(&quot;R_bm_isRowMode&quot;,P)
[1] TRUE
&gt; .Call(&quot;R_bm_ColMode&quot;,P)
&lt;pointer: 0xaaab0d6cf9a0&gt;
&gt; .Call(&quot;R_bm_isRowMode&quot;,P)
[1] FALSE
&gt; rm(P)
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,10)
[1] TRUE
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab0d1a6000&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab0d1a6000&gt;
&gt; 
&gt; .Call(&quot;R_bm_getSize&quot;,P)
[1] 10  2
&gt; .Call(&quot;R_bm_getBufferSize&quot;,P)
[1] 1 1
&gt; .Call(&quot;R_bm_ResizeBuffer&quot;,P,5,5)
&lt;pointer: 0xaaab0d1a6000&gt;
&gt; 
&gt; .Call(&quot;R_bm_getBufferSize&quot;,P)
[1] 5 5
&gt; .Call(&quot;R_bm_ResizeBuffer&quot;,P,-1,5)
&lt;pointer: 0xaaab0d1a6000&gt;
&gt; rm(P)
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_Test_C&quot;,P)
RBufferedMatrix
Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Assigning Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xaaab0d6db520&gt;
&gt; .Call(&quot;R_bm_getValue&quot;,P,3,3)
[1] 6
&gt; 
&gt; .Call(&quot;R_bm_getValue&quot;,P,100000,10000)
[1] NA
&gt; .Call(&quot;R_bm_setValue&quot;,P,3,3,12345.0)
[1] TRUE
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 12345.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xaaab0d6db520&gt;
&gt; rm(P)
&gt; 
&gt; proc.time()
   user  system elapsed 
  0.335   0.044   0.363 
</PRE>
</DIV><P><SPAN class="filename">BufferedMatrix.Rcheck/tests/Rcodetesting.Rout</SPAN></P>
<DIV class="kunpeng1 hscrollable">
<PRE style="padding: 3px;">

R Under development (unstable) (2023-01-14 r83615) -- &quot;Unsuffered Consequences&quot;
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#x27;license()&#x27; or &#x27;licence()&#x27; for distribution details.

R is a collaborative project with many contributors.
Type &#x27;contributors()&#x27; for more information and
&#x27;citation()&#x27; on how to cite R or R packages in publications.

Type &#x27;demo()&#x27; for some demos, &#x27;help()&#x27; for on-line help, or
&#x27;help.start()&#x27; for an HTML browser interface to help.
Type &#x27;q()&#x27; to quit R.

&gt; library(BufferedMatrix);library.dynam(&quot;BufferedMatrix&quot;,&quot;BufferedMatrix&quot;, .libPaths());

Attaching package: &#x27;BufferedMatrix&#x27;

The following objects are masked from &#x27;package:base&#x27;:

    colMeans, colSums, rowMeans, rowSums

&gt; 
&gt; Temp &lt;- createBufferedMatrix(100)
&gt; dim(Temp)
[1] 100   0
&gt; buffer.dim(Temp)
[1] 1 1
&gt; 
&gt; 
&gt; proc.time()
   user  system elapsed 
  0.328   0.053   0.364 
</PRE>
</DIV><HR>
<H3>Example timings</H3>
</BODY>
</HTML>
