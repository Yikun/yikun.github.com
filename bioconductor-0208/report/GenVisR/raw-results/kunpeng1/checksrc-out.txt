##############################################################################
##############################################################################
###
### Running command:
###
###   /home/biocbuild/bbs-3.17-bioc/R/bin/R CMD check --install=check:GenVisR.install-out.txt --library=/home/biocbuild/bbs-3.17-bioc/R/library --timings GenVisR_1.31.1.tar.gz
###
##############################################################################
##############################################################################


* using log directory ‘/home/biocbuild/bbs-3.17-bioc/meat/GenVisR.Rcheck’
* using R Under development (unstable) (2023-01-14 r83615)
* using platform: aarch64-unknown-linux-gnu (64-bit)
* R was compiled by
    gcc (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0
    GNU Fortran (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0
* running under: Ubuntu 22.04.1 LTS
* using session charset: UTF-8
* checking for file ‘GenVisR/DESCRIPTION’ ... OK
* this is package ‘GenVisR’ version ‘1.31.1’
* package encoding: UTF-8
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for hidden files and directories ... OK
* checking for portable file names ... OK
* checking for sufficient/correct file permissions ... OK
* checking whether package ‘GenVisR’ can be installed ... OK
* checking installed package size ... OK
* checking package directory ... OK
* checking ‘build’ directory ... OK
* checking DESCRIPTION meta-information ... OK
* checking top-level files ... OK
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking R files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ... OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking dependencies in R code ... NOTE
Namespace in Imports field not imported from: ‘reshape2’
  All declared Imports should be used.
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... NOTE
setTierTwo,data.table : a: no visible binding for global variable ‘tmp’
toLolliplot,GMS: no visible binding for global variable ‘missingINdex’
Undefined global functions or variables:
  missingINdex tmp
* checking Rd files ... OK
* checking Rd metadata ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... OK
* checking for code/documentation mismatches ... OK
* checking Rd \usage sections ... OK
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking contents of ‘data’ directory ... OK
* checking data for non-ASCII characters ... OK
* checking LazyData ... OK
* checking data for ASCII and uncompressed saves ... OK
* checking files in ‘vignettes’ ... OK
* checking examples ... ERROR
Running examples in ‘GenVisR-Ex.R’ failed
The error most likely occurred in:

> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: Lolliplot-class
> ### Title: Class Lolliplot
> ### Aliases: Lolliplot-class Lolliplot
> 
> ### ** Examples
> 
> # Load a pre-existing data set
> dataset <- PIK3CA
> 
> # mode 1, amino acid changes are not present
> 
> library(TxDb.Hsapiens.UCSC.hg38.knownGene)
Loading required package: GenomicFeatures
Loading required package: BiocGenerics

Attaching package: ‘BiocGenerics’

The following objects are masked from ‘package:stats’:

    IQR, mad, sd, var, xtabs

The following objects are masked from ‘package:base’:

    Filter, Find, Map, Position, Reduce, anyDuplicated, aperm, append,
    as.data.frame, basename, cbind, colnames, dirname, do.call,
    duplicated, eval, evalq, get, grep, grepl, intersect, is.unsorted,
    lapply, mapply, match, mget, order, paste, pmax, pmax.int, pmin,
    pmin.int, rank, rbind, rownames, sapply, setdiff, sort, table,
    tapply, union, unique, unsplit, which.max, which.min

Loading required package: S4Vectors
Loading required package: stats4

Attaching package: ‘S4Vectors’

The following objects are masked from ‘package:base’:

    I, expand.grid, unname

Loading required package: IRanges
Loading required package: GenomeInfoDb
Loading required package: GenomicRanges
Loading required package: AnnotationDbi
Loading required package: Biobase
Welcome to Bioconductor

    Vignettes contain introductory material; view with
    'browseVignettes()'. To cite Bioconductor, see
    'citation("Biobase")', and for packages 'citation("pkgname")'.

> library(BSgenome.Hsapiens.UCSC.hg38)
Loading required package: BSgenome
Loading required package: Biostrings
Loading required package: XVector

Attaching package: ‘Biostrings’

The following object is masked from ‘package:base’:

    strsplit

Loading required package: rtracklayer
> txdb <- TxDb.Hsapiens.UCSC.hg38.knownGene
> BSgenome <- BSgenome.Hsapiens.UCSC.hg38
> 
> keep <- c("Chromosome", "Start_Position", "End_Position", "Reference_Allele",
+           "Tumor_Seq_Allele2", "Tumor_Sample_Barcode", "Gene", "Variant_Classification")
> dataset.mode1 <- dataset[,keep]
> colnames(dataset.mode1) <- c("chromosome", "start", "stop", "reference", "variant",
+                              "sample", "gene", "consequence")
> 
> 
> # mode 2, amino acid changes are present
> 
> keep <- c("Chromosome", "Start_Position", "End_Position", "Reference_Allele",
+           "Tumor_Seq_Allele2", "Tumor_Sample_Barcode", "Gene", "Variant_Classification",
+           "Transcript_ID", "HGVSp")
> dataset.mode2 <- dataset[,keep]
> colnames(dataset.mode2) <- c("chromosome", "start", "stop", "reference", "variant",
+                              "sample", "gene", "consequence", "transcript", "proteinCoord")
> 
> # run Lolliplot
> 
> object <- Lolliplot(dataset.mode1, transcript="ENST00000263967",
+                     species="hsapiens", txdb=txdb, BSgenome=BSgenome)
This function is part of the new S4 feature and is under active development, did you mean to use lolliplot() with a lowercase l?
Warning: Ensembl will soon enforce the use of https.
Ensure the 'host' argument includes "https://"
Warning in .local(object, ...) :
  The following entires are not in both the txdb and BSgenome objects supplied: chr1_MU273333v1_fix, chr1_MU273334v1_fix, chr1_MU273335v1_fix, chr1_MU273336v1_fix, chr2_MU273341v1_fix, chr2_MU273342v1_fix, chr2_MU273343v1_fix, chr2_MU273344v1_fix, chr2_MU273345v1_fix, chr3_MU273346v1_fix, chr3_MU273347v1_fix, chr3_MU273348v1_fix, chr4_MU273350v1_fix, chr4_MU273351v1_fix, chr5_MU273352v1_fix, chr5_MU273353v1_fix, chr5_MU273354v1_fix, chr5_MU273355v1_fix, chr8_MU273359v1_fix, chr8_MU273360v1_fix, chr8_MU273361v1_fix, chr8_MU273362v1_fix, chr8_MU273363v1_fix, chr9_MU273364v1_fix, chr9_MU273365v1_fix, chr9_MU273366v1_fix, chr10_MU273367v1_fix, chr11_KQ759759v2_fix, chr11_MU273369v1_fix, chr11_MU273370v1_fix, chr11_MU273371v1_fix, chr12_MU273372v1_fix, chr14_MU273373v1_fix, chr15_MU273374v1_fix, chr16_MU273376v1_fix, chr16_MU273377v1_fix, chr17_MU273379v1_fix, chr17_MU273380v1_fix, chr17_MU273381v1_fix, chr17_MU273382v1_fix, chr17_MU273383v1_fix, chr19_MU273384v1_fix, chr19_MU273385v1_fix, ch [... truncated]
Warning in valid.GenomicRanges.seqinfo(x, suggest.trim = TRUE) :
  GRanges object contains 3780 out-of-bound ranges located on sequence
  47853. Note that ranges located on a sequence whose length is unknown
  (NA) or on a circular sequence are not considered out-of-bound (use
  seqlengths() and isCircular() to get the lengths and circularity flags
  of the underlying sequences). You can use trim() to trim these ranges.
  See ?`trim,GenomicRanges-method` for more information.
Warning in .predictCodingGRangesList(query, cache[["cdsbytx"]], seqSource,  :
  'varAllele' values with 'N', '.', '+' or '-' were not translated
'select()' returned many:1 mapping between keys and columns
> object <- Lolliplot(dataset.mode2, transcript="ENST00000263967",
+                     species="hsapiens")
This function is part of the new S4 feature and is under active development, did you mean to use lolliplot() with a lowercase l?
Warning: Ensembl will soon enforce the use of https.
Ensure the 'host' argument includes "https://"
Error in curl::curl_fetch_memory(url, handle = handle) : 
  Timeout was reached: [www.ensembl.org:80] Operation timed out after 10001 milliseconds with 0 bytes received
Calls: Lolliplot ... request_fetch -> request_fetch.write_memory -> <Anonymous>
Execution halted
* checking for unstated dependencies in ‘tests’ ... OK
* checking tests ...
  Running ‘testthat.R’
 ERROR
Running the tests in ‘tests/testthat.R’ failed.
Last 13 lines of output:
  • MutSpectra-class/mutspectra-frequency-plot-custom-pallette.svg
  • MutSpectra-class/mutspectra-frequency-plot.svg
  • MutSpectra-class/mutspectra-proportion-plot-add-layer.svg
  • MutSpectra-class/mutspectra-proportion-plot-custom-pallette.svg
  • MutSpectra-class/mutspectra-proportion-plot.svg
  • Rainfall-class/density-main-plot.svg
  • Rainfall-class/density-plot-add-layer.svg
  • Rainfall-class/drawplot-rainfall.svg
  • Rainfall-class/final-rainfall-alter-section-hieghts.svg
  • Rainfall-class/final-rainfall-base.svg
  • Rainfall-class/rainfall-main-plot.svg
  • Rainfall-class/rainfall-plot-add-layer.svg
  • Rainfall-class/rainfall-plot-aesthetic-options.svg
  Error: Test failures
  Execution halted
* checking for unstated dependencies in vignettes ... OK
* checking package vignettes in ‘inst/doc’ ... OK
* checking running R code from vignettes ...
  ‘Intro.Rmd’ using ‘UTF-8’... OK
  ‘waterfall_introduction.Rmd’ using ‘UTF-8’... OK
 NONE
* checking re-building of vignette outputs ... OK
* checking PDF version of manual ... OK
* DONE

Status: 2 ERRORs, 2 NOTEs
See
  ‘/home/biocbuild/bbs-3.17-bioc/meat/GenVisR.Rcheck/00check.log’
for details.

