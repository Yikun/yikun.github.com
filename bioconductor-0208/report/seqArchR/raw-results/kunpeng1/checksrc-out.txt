##############################################################################
##############################################################################
###
### Running command:
###
###   /home/biocbuild/bbs-3.17-bioc/R/bin/R CMD check --install=check:seqArchR.install-out.txt --library=/home/biocbuild/bbs-3.17-bioc/R/library --timings seqArchR_1.3.0.tar.gz
###
##############################################################################
##############################################################################


* using log directory ‘/home/biocbuild/bbs-3.17-bioc/meat/seqArchR.Rcheck’
* using R Under development (unstable) (2023-01-14 r83615)
* using platform: aarch64-unknown-linux-gnu (64-bit)
* R was compiled by
    gcc (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0
    GNU Fortran (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0
* running under: Ubuntu 22.04.1 LTS
* using session charset: UTF-8
* checking for file ‘seqArchR/DESCRIPTION’ ... OK
* checking extension type ... Package
* this is package ‘seqArchR’ version ‘1.3.0’
* package encoding: UTF-8
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for hidden files and directories ... OK
* checking for portable file names ... OK
* checking for sufficient/correct file permissions ... OK
* checking whether package ‘seqArchR’ can be installed ... OK
* checking installed package size ... OK
* checking package directory ... OK
* checking ‘build’ directory ... OK
* checking DESCRIPTION meta-information ... OK
* checking top-level files ... OK
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking R files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ... OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking dependencies in R code ... OK
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... OK
* checking Rd files ... OK
* checking Rd metadata ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... OK
* checking for code/documentation mismatches ... OK
* checking Rd \usage sections ... OK
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking files in ‘vignettes’ ... OK
* checking examples ... ERROR
Running examples in ‘seqArchR-Ex.R’ failed
The error most likely occurred in:

> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: seqArchR
> ### Title: seqArchR: A package for de novo discovery of different sequence
> ###   architectures
> ### Aliases: seqArchR
> 
> ### ** Examples
> 
> 
> 
> # Here,we re-use the example input sequences and one-hot encoded matrix
> # shipped with seqArchR. Please see examples in the corresponding man pages
> # for generating a one-hot encoded input matrix from raw FASTA sequences
> # in `prepare_data_from_FASTA`
> #
> inputSeqsMat <- readRDS(system.file("extdata", "tssSinuc.rds",
+                              package = "seqArchR", mustWork = TRUE))
> 
> inputSeqsRaw <- readRDS(system.file("extdata", "tssSeqsRaw.rds",
+                              package = "seqArchR", mustWork = TRUE))
> 
> # Set seqArchR configuration
> seqArchRconfig <- seqArchR::set_config(
+     parallelize = TRUE,
+     n_cores = 2,
+     n_runs = 100,
+     k_min = 1,
+     k_max = 20,
+     mod_sel_type = "stability",
+     bound = 10^-8,
+     chunk_size = 100,
+     flags = list(debug = FALSE, time = TRUE, verbose = TRUE,
+         plot = FALSE)
+ )
> 
> # Run seqArchR
> seqArchRresult <- seqArchR::seqArchR(config = seqArchRconfig,
+                           seqs_ohe_mat = inputSeqsMat,
+                           seqs_raw = inputSeqsRaw,
+                           seqs_pos = seq(1,100,by=1),
+                           total_itr = 2,
+                           set_ocollation = c(TRUE, FALSE))
── Setting up ──────────────────────────────────────────────────────────────────
ℹ Parallelization: Yes
ℹ Model selection by factor stability
ℹ Bound: 1e-08

── Iteration 1 of 2 [1 chunk] ──────────────────────────────────────────────────

── Outer chunk 1 of 1 [Size: 200] ──

── Inner chunk 1 of 2 [Size: 100] 
Checking K = 2
Checking K = 3
Checking K = 4
ℹ Best K for this chunk: 3

── Inner chunk 2 of 2 [Size: 100] 
Checking K = 2
Checking K = 3
Checking K = 4
ℹ Best K for this chunk: 3
✔ 1 of 1 outer chunk complete
✔ 1 of 2 iterations complete
→ Iteration 1 completed: 1m 32.6s
→ Time ellapsed since start: 1m 33.8s

── Iteration 2 of 2 [3 chunks] ─────────────────────────────────────────────────

── Outer chunk 1 of 3 [Size: 50] ──

── Inner chunk 1 of 1 [Size: 50] 
Checking K = 2
Checking K = 3
Checking K = 4
ℹ Best K for this chunk: 3
✔ 1 of 3 outer chunks complete

── Outer chunk 2 of 3 [Size: 98] ──

── Inner chunk 1 of 1 [Size: 98] 
Checking K = 2
Checking K = 3
Error in manager$availability[[as.character(result$node)]] <- TRUE : 
  wrong args for environment subassignment
Calls: <Anonymous> ... .bploop_impl -> .collect_result -> .manager_recv -> .manager_recv
Execution halted
Error in serialize(data, node$con, xdr = FALSE) : ignoring SIGPIPE signal
Calls: <Anonymous> ... .send_to -> <Anonymous> -> sendData.SOCK0node -> serialize
* checking for unstated dependencies in ‘tests’ ... OK
* checking tests ...
  Running ‘testthat.R’
 ERROR
Running the tests in ‘tests/testthat.R’ failed.
Complete output:
  > library(testthat)
  > library(seqArchR)
  > 
  > test_check("seqArchR")
  [[1]]
  
  Killed
* checking for unstated dependencies in vignettes ... OK
* checking package vignettes in ‘inst/doc’ ... OK
* checking running R code from vignettes ...
  ‘seqArchR.Rmd’ using ‘UTF-8’... OK
 NONE
* checking re-building of vignette outputs ... OK
* checking PDF version of manual ... OK
* DONE

Status: 2 ERRORs
See
  ‘/home/biocbuild/bbs-3.17-bioc/meat/seqArchR.Rcheck/00check.log’
for details.

