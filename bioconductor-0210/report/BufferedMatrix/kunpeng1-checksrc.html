<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>Build/check report for BioC 3.17 - CHECK results for BufferedMatrix on kunpeng1</TITLE>
<LINK rel="stylesheet" href="../report.css" type="text/css">
<SCRIPT type="text/javascript" src="../report.js"></SCRIPT>
</HEAD>
<BODY onLoad="initialize();">
<TABLE class="grid_layout" style="width: 100%; background: #EEE;"><TR><TD style="text-align: left; padding: 5px; vertical-align: middle;"><I><A href="../index.html">Back to <B>Build/check report for BioC 3.17</B></A></I></TD><TD><TABLE class="abc_dispatcher"><TR><TD><A href="../index.html#A">A</A></TD><TD><B>[<A href="../index.html#B">B</A>]</B></TD><TD><A href="../index.html#C">C</A></TD><TD><A href="../index.html#D">D</A></TD><TD><A href="../index.html#E">E</A></TD><TD><A href="../index.html#F">F</A></TD><TD><A href="../index.html#G">G</A></TD><TD><A href="../index.html#H">H</A></TD><TD><A href="../index.html#I">I</A></TD><TD><A href="../index.html#J">J</A></TD><TD><A href="../index.html#K">K</A></TD><TD><A href="../index.html#L">L</A></TD><TD><A href="../index.html#M">M</A></TD><TD><A href="../index.html#N">N</A></TD><TD><A href="../index.html#O">O</A></TD><TD><A href="../index.html#P">P</A></TD><TD><A href="../index.html#Q">Q</A></TD><TD><A href="../index.html#R">R</A></TD><TD><A href="../index.html#S">S</A></TD><TD><A href="../index.html#T">T</A></TD><TD><A href="../index.html#U">U</A></TD><TD><A href="../index.html#V">V</A></TD><TD><A href="../index.html#W">W</A></TD><TD><A href="../index.html#X">X</A></TD><TD><A href="../index.html#Y">Y</A></TD><TD><A href="../index.html#Z">Z</A></TD></TR></TABLE></TD></TR></TABLE>
<P class="time_stamp">
This page was generated on 2023-02-10 01:25:24 -0000 (Fri, 10 Feb 2023).
</P>
<TABLE class="node_specs">
<TR><TH>Hostname</TH><TH>OS</TH><TH>Arch&nbsp;(*)</TH><TH>R&nbsp;version</TH><TH style="text-align: right;">Installed&nbsp;pkgs</TH></TR>
<TR class="kunpeng1"><TD><B><A href="../kunpeng1-NodeInfo.html"><B>kunpeng1</B></A></B></TD><TD>Linux&nbsp;(Ubuntu&nbsp;22.04.1&nbsp;LTS)</TD><TD>aarch64</TD><TD>R&nbsp;Under&nbsp;development&nbsp;(unstable)&nbsp;(2023-01-14&nbsp;r83615)&nbsp;--&nbsp;"Unsuffered&nbsp;Consequences"
</TD><TD style="text-align: right;"><A href="../kunpeng1-R-instpkgs.html">4219</A></TD></TR>
<TR><TD COLSPAN="5" style="font-size: smaller;"><I>Click on any hostname to see more info about the system (e.g. compilers) &nbsp;&nbsp;&nbsp;&nbsp; (*) as reported by 'uname -p', except on Windows and Mac OS X</I></TD></TR>
</TABLE>
<BR>
<H2><SPAN class="kunpeng1">CHECK results for BufferedMatrix on kunpeng1</SPAN></H2>
<BR>
<DIV class="motd">
<TABLE><TR><TD>
To the developers/maintainers of the BufferedMatrix package:<BR>
- Please allow up to 24 hours (and sometimes 48 hours) for your latest push to git@git.bioconductor.org:packages/BufferedMatrix.git to<BR>reflect on this report. See <A href="https://bioconductor.org/developers/how-to/troubleshoot-build-report/">How and When does the builder pull? When will my changes propagate?</A> for more information.<BR>
- Make sure to <A href="../Renviron.bioc">use the following settings</A> in order to reproduce any error or warning you see on this page.<BR>
</TD></TR></TABLE>
</DIV>
<P style="text-align: center;"><A href="raw-results/">raw results</A><P>
<TABLE class="gcard_list">
<TBODY class="gcard ok">
<TR class="header"><TD class="leftmost top_left_corner"></TD><TD>Package <B>228</B>/2164</TD><TD style="width: 75px;">Hostname</TD><TD style="width: 225px;">OS&nbsp;/&nbsp;Arch</TD><TD class="STAGE install">INSTALL</TD><TD class="STAGE buildsrc">BUILD</TD><TD class="STAGE checksrc selected">CHECK</TD><TD class="STAGE buildbin">BUILD BIN</TD><TD style="width: 12px;"></TD><TD class="rightmost top_right_corner"></TD></TR>
<TR class="selected_row"><TD ROWSPAN="2" class="leftmost bottom_left_corner"></TD><TD ROWSPAN="1" style="vertical-align: top;"><B><A href="./">BufferedMatrix</A>&nbsp;1.63.0</B>&nbsp;&nbsp;<SPAN style="font-size: smaller; font-style: italic;">(<A href="/packages/3.17/BufferedMatrix">landing page</A>)</SPAN><BR>Ben Bolstad<BR><TABLE class="svn_info">
<TR><TD class="svn_info">Snapshot&nbsp;Date:&nbsp;<SPAN class="svn_info">2023-02-09&nbsp;03:02:02&nbsp;-0000&nbsp;(Thu,&nbsp;09&nbsp;Feb&nbsp;2023)</SPAN></TD></TR>
<TR><TD class="svn_info">git_url:&nbsp;<SPAN class="svn_info">https://git.bioconductor.org/packages/BufferedMatrix</SPAN></TD></TR>
<TR><TD class="svn_info">git_branch:&nbsp;<SPAN class="svn_info">master</SPAN></TD></TR>
<TR><TD class="svn_info">git_last_commit:&nbsp;<SPAN class="svn_info">e95ad0a</SPAN></TD></TR>
<TR><TD class="svn_info">git_last_commit_date:&nbsp;<SPAN class="svn_info">2022-11-01&nbsp;14:42:48&nbsp;-0000&nbsp;(Tue,&nbsp;01&nbsp;Nov&nbsp;2022)</SPAN></TD></TR>
</TABLE>
</TD><TD class="kunpeng1 selected"><B>kunpeng1</B></TD><TD class="kunpeng1"><SPAN style="font-size: smaller;">Linux&nbsp;(Ubuntu&nbsp;22.04.1&nbsp;LTS)&nbsp;/&nbsp;aarch64</SPAN></TD><TD class="status kunpeng1 install"><A href="./kunpeng1-install.html" onmouseover="add_class_mouseover(this);" onmouseout="remove_class_mouseover(this);"><SPAN class="glyph OK">&nbsp;&nbsp;OK&nbsp;&nbsp;</SPAN></A></TD><TD class="status kunpeng1 buildsrc"><A href="./kunpeng1-buildsrc.html" onmouseover="add_class_mouseover(this);" onmouseout="remove_class_mouseover(this);"><SPAN class="glyph OK">&nbsp;&nbsp;OK&nbsp;&nbsp;</SPAN></A></TD><TD class="status kunpeng1 checksrc selected"><A href="./kunpeng1-checksrc.html" onmouseover="add_class_mouseover(this);" onmouseout="remove_class_mouseover(this);"><SPAN class="glyph OK">&nbsp;&nbsp;OK&nbsp;&nbsp;</SPAN></A></TD><TD class="status kunpeng1"></TD><TD class="status kunpeng1"></TD><TD ROWSPAN="2" class="rightmost bottom_right_corner"></TD></TR>
<TR class="footer"><TD COLSPAN="8"></TD></TR>
</TBODY>
</TABLE>
<HR>
<H3>Summary</H3>
<DIV class="kunpeng1 hscrollable">
<TABLE>
<TR><TD><B>Package</B>: BufferedMatrix</TD></TR>
<TR><TD><B>Version</B>: 1.63.0</TD></TR>
<TR><TD><B>Command</B>: /home/biocbuild/bbs-3.17-bioc/R/bin/R CMD check --install=check:BufferedMatrix.install-out.txt --library=/home/biocbuild/bbs-3.17-bioc/R/library --timings BufferedMatrix_1.63.0.tar.gz</TD></TR>
<TR><TD><B>StartedAt</B>: 2023-02-09 12:44:13 -0000 (Thu, 09 Feb 2023)</TD></TR>
<TR><TD><B>EndedAt</B>: 2023-02-09 12:45:20 -0000 (Thu, 09 Feb 2023)</TD></TR>
<TR><TD><B>EllapsedTime</B>: 67.5 seconds</TD></TR>
<TR><TD><B>RetCode</B>: 0</TD></TR>
<TR><TD><B>Status</B>: <SPAN class="glyph OK">&nbsp;&nbsp;OK&nbsp;&nbsp;</SPAN></TD></TR>
<TR><TD><B>CheckDir</B>: BufferedMatrix.Rcheck</TD></TR>
<TR><TD><B>Warnings</B>: 0</TD></TR>
</TABLE>
</DIV>
<HR>
<H3>Command output</H3>
<DIV class="kunpeng1 hscrollable">
<PRE style="padding: 3px;">
##############################################################################
##############################################################################
###
### Running command:
###
###   /home/biocbuild/bbs-3.17-bioc/R/bin/R CMD check --install=check:BufferedMatrix.install-out.txt --library=/home/biocbuild/bbs-3.17-bioc/R/library --timings BufferedMatrix_1.63.0.tar.gz
###
##############################################################################
##############################################################################


* using log directory ‘/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck’
* using R Under development (unstable) (2023-01-14 r83615)
* using platform: aarch64-unknown-linux-gnu (64-bit)
* R was compiled by
    gcc (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0
    GNU Fortran (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0
* running under: Ubuntu 22.04.1 LTS
* using session charset: UTF-8
* checking for file ‘BufferedMatrix/DESCRIPTION’ ... OK
* this is package ‘BufferedMatrix’ version ‘1.63.0’
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for hidden files and directories ... OK
* checking for portable file names ... OK
* checking for sufficient/correct file permissions ... OK
* checking whether package ‘BufferedMatrix’ can be installed ... OK
* used C compiler: ‘gcc (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0’
* checking installed package size ... OK
* checking package directory ... OK
* checking ‘build’ directory ... OK
* checking DESCRIPTION meta-information ... OK
* checking top-level files ... OK
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking R files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ... OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking dependencies in R code ... OK
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... OK
* checking Rd files ... NOTE
prepare_Rd: createBufferedMatrix.Rd:26: Dropping empty section \keyword
prepare_Rd: createBufferedMatrix.Rd:17-18: Dropping empty section \details
prepare_Rd: createBufferedMatrix.Rd:15-16: Dropping empty section \value
prepare_Rd: createBufferedMatrix.Rd:19-20: Dropping empty section \references
prepare_Rd: createBufferedMatrix.Rd:21-22: Dropping empty section \seealso
prepare_Rd: createBufferedMatrix.Rd:23-24: Dropping empty section \examples
* checking Rd metadata ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... OK
* checking for code/documentation mismatches ... OK
* checking Rd \usage sections ... OK
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking line endings in C/C++/Fortran sources/headers ... OK
* checking compiled code ... NOTE
Note: information on .o files is not available
* checking files in ‘vignettes’ ... OK
* checking examples ... NONE
* checking for unstated dependencies in ‘tests’ ... OK
* checking tests ...
  Running ‘Rcodetesting.R’
  Running ‘c_code_level_tests.R’
  Running ‘objectTesting.R’
  Running ‘rawCalltesting.R’
 OK
* checking for unstated dependencies in vignettes ... OK
* checking package vignettes in ‘inst/doc’ ... OK
* checking running R code from vignettes ...
  ‘BufferedMatrix.Rnw’... OK
 OK
* checking re-building of vignette outputs ... OK
* checking PDF version of manual ... OK
* DONE

Status: 2 NOTEs
See
  ‘/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/00check.log’
for details.


</PRE>
</DIV><HR>
<H3>Installation output</H3>
<P><SPAN class="filename">BufferedMatrix.Rcheck/00install.out</SPAN></P>
<DIV class="kunpeng1 hscrollable">
<PRE style="padding: 3px;">
##############################################################################
##############################################################################
###
### Running command:
###
###   /home/biocbuild/bbs-3.17-bioc/R/bin/R CMD INSTALL BufferedMatrix
###
##############################################################################
##############################################################################


* installing to library ‘/home/biocbuild/bbs-3.17-bioc/R/library’
* installing *source* package ‘BufferedMatrix’ ...
** using staged installation
** libs
using C compiler: ‘gcc (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0’
gcc -I&quot;/home/biocbuild/bbs-3.17-bioc/R/include&quot; -DNDEBUG   -I/usr/local/include    -fPIC  -g -O2  -Wall -c RBufferedMatrix.c -o RBufferedMatrix.o
gcc -I&quot;/home/biocbuild/bbs-3.17-bioc/R/include&quot; -DNDEBUG   -I/usr/local/include    -fPIC  -g -O2  -Wall -c doubleBufferedMatrix.c -o doubleBufferedMatrix.o
doubleBufferedMatrix.c: In function ‘dbm_ReadOnlyMode’:
doubleBufferedMatrix.c:1580:7: warning: suggest parentheses around operand of ‘!’ or change ‘&amp;’ to ‘&amp;&amp;’ or ‘!’ to ‘~’ [-Wparentheses]
 1580 |   if (!(Matrix-&gt;readonly) &amp; setting){
      |       ^~~~~~~~~~~~~~~~~~~
At top level:
doubleBufferedMatrix.c:3327:12: warning: ‘sort_double’ defined but not used [-Wunused-function]
 3327 | static int sort_double(const double *a1,const double *a2){
      |            ^~~~~~~~~~~
gcc -I&quot;/home/biocbuild/bbs-3.17-bioc/R/include&quot; -DNDEBUG   -I/usr/local/include    -fPIC  -g -O2  -Wall -c doubleBufferedMatrix_C_tests.c -o doubleBufferedMatrix_C_tests.o
gcc -I&quot;/home/biocbuild/bbs-3.17-bioc/R/include&quot; -DNDEBUG   -I/usr/local/include    -fPIC  -g -O2  -Wall -c init_package.c -o init_package.o
gcc -shared -L/home/biocbuild/bbs-3.17-bioc/R/lib -L/usr/local/lib -o BufferedMatrix.so RBufferedMatrix.o doubleBufferedMatrix.o doubleBufferedMatrix_C_tests.o init_package.o -L/home/biocbuild/bbs-3.17-bioc/R/lib -lR
installing to /home/biocbuild/bbs-3.17-bioc/R/library/00LOCK-BufferedMatrix/00new/BufferedMatrix/libs
** R
** inst
** byte-compile and prepare package for lazy loading
Creating a new generic function for ‘rowMeans’ in package ‘BufferedMatrix’
Creating a new generic function for ‘rowSums’ in package ‘BufferedMatrix’
Creating a new generic function for ‘colMeans’ in package ‘BufferedMatrix’
Creating a new generic function for ‘colSums’ in package ‘BufferedMatrix’
Creating a generic function for ‘ncol’ from package ‘base’ in package ‘BufferedMatrix’
Creating a generic function for ‘nrow’ from package ‘base’ in package ‘BufferedMatrix’
** help
*** installing help indices
** building package indices
** installing vignettes
** testing if installed package can be loaded from temporary location
** checking absolute paths in shared objects and dynamic libraries
** testing if installed package can be loaded from final location
** testing if installed package keeps a record of temporary installation path
* DONE (BufferedMatrix)
</PRE>
</DIV><HR>
<H3>Tests output</H3>
<P><SPAN class="filename">BufferedMatrix.Rcheck/tests/c_code_level_tests.Rout</SPAN></P>
<DIV class="kunpeng1 hscrollable">
<PRE style="padding: 3px;">

R Under development (unstable) (2023-01-14 r83615) -- &quot;Unsuffered Consequences&quot;
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#x27;license()&#x27; or &#x27;licence()&#x27; for distribution details.

R is a collaborative project with many contributors.
Type &#x27;contributors()&#x27; for more information and
&#x27;citation()&#x27; on how to cite R or R packages in publications.

Type &#x27;demo()&#x27; for some demos, &#x27;help()&#x27; for on-line help, or
&#x27;help.start()&#x27; for an HTML browser interface to help.
Type &#x27;q()&#x27; to quit R.

&gt; library(BufferedMatrix);library.dynam(&quot;BufferedMatrix&quot;, &quot;BufferedMatrix&quot;, .libPaths());.C(&quot;dbm_c_tester&quot;,integer(1))

Attaching package: &#x27;BufferedMatrix&#x27;

The following objects are masked from &#x27;package:base&#x27;:

    colMeans, colSums, rowMeans, rowSums

Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Assigning Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

Adding Additional Column
Checking dimensions
Rows: 5
Cols: 6
Buffer Rows: 1
Buffer Cols: 1
0.000000 1.000000 2.000000 3.000000 4.000000 0.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 0.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 0.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 0.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 0.000000 

Reassigning values
1.000000 6.000000 11.000000 16.000000 21.000000 26.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 27.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 28.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 29.000000 
5.000000 10.000000 15.000000 20.000000 25.000000 30.000000 

Resizing Buffers
Checking dimensions
Rows: 5
Cols: 6
Buffer Rows: 3
Buffer Cols: 3
1.000000 6.000000 11.000000 16.000000 21.000000 26.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 27.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 28.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 29.000000 
5.000000 10.000000 15.000000 20.000000 25.000000 30.000000 

Activating Row Buffer
In row mode: 1
1.000000 6.000000 11.000000 16.000000 21.000000 26.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 27.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 28.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 29.000000 
5.000000 10.000000 15.000000 20.000000 25.000000 30.000000 

Squaring Last Column
1.000000 6.000000 11.000000 16.000000 21.000000 676.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 729.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 784.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 841.000000 
5.000000 10.000000 15.000000 20.000000 25.000000 900.000000 

Square rooting Last Row, then turing off Row Buffer
In row mode: 0
Checking on value that should be not be in column buffer2.236068 
1.000000 6.000000 11.000000 16.000000 21.000000 676.000000 
2.000000 7.000000 12.000000 17.000000 22.000000 729.000000 
3.000000 8.000000 13.000000 18.000000 23.000000 784.000000 
4.000000 9.000000 14.000000 19.000000 24.000000 841.000000 
2.236068 3.162278 3.872983 4.472136 5.000000 30.000000 

Single Indexing. Assign each value its square
1.000000 36.000000 121.000000 256.000000 441.000000 676.000000 
4.000000 49.000000 144.000000 289.000000 484.000000 729.000000 
9.000000 64.000000 169.000000 324.000000 529.000000 784.000000 
16.000000 81.000000 196.000000 361.000000 576.000000 841.000000 
25.000000 100.000000 225.000000 400.000000 625.000000 900.000000 

Resizing Buffers Smaller
Checking dimensions
Rows: 5
Cols: 6
Buffer Rows: 1
Buffer Cols: 1
1.000000 36.000000 121.000000 256.000000 441.000000 676.000000 
4.000000 49.000000 144.000000 289.000000 484.000000 729.000000 
9.000000 64.000000 169.000000 324.000000 529.000000 784.000000 
16.000000 81.000000 196.000000 361.000000 576.000000 841.000000 
25.000000 100.000000 225.000000 400.000000 625.000000 900.000000 

Activating Row Mode.
Resizing Buffers
Checking dimensions
Rows: 5
Cols: 6
Buffer Rows: 1
Buffer Cols: 1
Activating ReadOnly Mode.
The results of assignment is: 0
Printing matrix reversed.
900.000000 625.000000 400.000000 225.000000 100.000000 25.000000 
841.000000 576.000000 361.000000 196.000000 81.000000 16.000000 
784.000000 529.000000 324.000000 169.000000 64.000000 9.000000 
729.000000 484.000000 289.000000 144.000000 49.000000 -30.000000 
676.000000 441.000000 256.000000 121.000000 -20.000000 -10.000000 

[[1]]
[1] 0

&gt; 
&gt; proc.time()
   user  system elapsed 
  0.373   0.042   0.430 
</PRE>
</DIV><P><SPAN class="filename">BufferedMatrix.Rcheck/tests/objectTesting.Rout</SPAN></P>
<DIV class="kunpeng1 hscrollable">
<PRE style="padding: 3px;">

R Under development (unstable) (2023-01-14 r83615) -- &quot;Unsuffered Consequences&quot;
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#x27;license()&#x27; or &#x27;licence()&#x27; for distribution details.

R is a collaborative project with many contributors.
Type &#x27;contributors()&#x27; for more information and
&#x27;citation()&#x27; on how to cite R or R packages in publications.

Type &#x27;demo()&#x27; for some demos, &#x27;help()&#x27; for on-line help, or
&#x27;help.start()&#x27; for an HTML browser interface to help.
Type &#x27;q()&#x27; to quit R.

&gt; library(BufferedMatrix);library.dynam(&quot;BufferedMatrix&quot;,&quot;BufferedMatrix&quot;, .libPaths());

Attaching package: &#x27;BufferedMatrix&#x27;

The following objects are masked from &#x27;package:base&#x27;:

    colMeans, colSums, rowMeans, rowSums

&gt; 
&gt; 
&gt; ### this is used to control how many repetitions in something below
&gt; ### higher values result in more checks.
&gt; nreps &lt;-100 ##20000
&gt; 
&gt; 
&gt; ## test creation and some simple assignments and subsetting operations
&gt; 
&gt; ## first on single elements
&gt; tmp &lt;- createBufferedMatrix(1000,10)
&gt; 
&gt; tmp[10,5]
[1] 0
&gt; tmp[10,5] &lt;- 10
&gt; tmp[10,5]
[1] 10
&gt; tmp[10,5] &lt;- 12.445
&gt; tmp[10,5]
[1] 12.445
&gt; 
&gt; 
&gt; 
&gt; ## now testing accessing multiple elements
&gt; tmp2 &lt;- createBufferedMatrix(10,20)
&gt; 
&gt; 
&gt; tmp2[3,1] &lt;- 51.34
&gt; tmp2[9,2] &lt;- 9.87654
&gt; tmp2[,1:2]
       [,1]    [,2]
 [1,]  0.00 0.00000
 [2,]  0.00 0.00000
 [3,] 51.34 0.00000
 [4,]  0.00 0.00000
 [5,]  0.00 0.00000
 [6,]  0.00 0.00000
 [7,]  0.00 0.00000
 [8,]  0.00 0.00000
 [9,]  0.00 9.87654
[10,]  0.00 0.00000
&gt; tmp2[,-(3:20)]
       [,1]    [,2]
 [1,]  0.00 0.00000
 [2,]  0.00 0.00000
 [3,] 51.34 0.00000
 [4,]  0.00 0.00000
 [5,]  0.00 0.00000
 [6,]  0.00 0.00000
 [7,]  0.00 0.00000
 [8,]  0.00 0.00000
 [9,]  0.00 9.87654
[10,]  0.00 0.00000
&gt; tmp2[3,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
[1,] 51.34    0    0    0    0    0    0    0    0     0     0     0     0
     [,14] [,15] [,16] [,17] [,18] [,19] [,20]
[1,]     0     0     0     0     0     0     0
&gt; tmp2[-3,]
      [,1]    [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
 [1,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [2,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [3,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [4,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [5,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [6,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [7,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [8,]    0 9.87654    0    0    0    0    0    0    0     0     0     0     0
 [9,]    0 0.00000    0    0    0    0    0    0    0     0     0     0     0
      [,14] [,15] [,16] [,17] [,18] [,19] [,20]
 [1,]     0     0     0     0     0     0     0
 [2,]     0     0     0     0     0     0     0
 [3,]     0     0     0     0     0     0     0
 [4,]     0     0     0     0     0     0     0
 [5,]     0     0     0     0     0     0     0
 [6,]     0     0     0     0     0     0     0
 [7,]     0     0     0     0     0     0     0
 [8,]     0     0     0     0     0     0     0
 [9,]     0     0     0     0     0     0     0
&gt; tmp2[2,1:3]
     [,1] [,2] [,3]
[1,]    0    0    0
&gt; tmp2[3:9,1:3]
      [,1]    [,2] [,3]
[1,] 51.34 0.00000    0
[2,]  0.00 0.00000    0
[3,]  0.00 0.00000    0
[4,]  0.00 0.00000    0
[5,]  0.00 0.00000    0
[6,]  0.00 0.00000    0
[7,]  0.00 9.87654    0
&gt; tmp2[-4,-4]
       [,1]    [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
 [1,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [2,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [3,] 51.34 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [4,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [5,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [6,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [7,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
 [8,]  0.00 9.87654    0    0    0    0    0    0    0     0     0     0     0
 [9,]  0.00 0.00000    0    0    0    0    0    0    0     0     0     0     0
      [,14] [,15] [,16] [,17] [,18] [,19]
 [1,]     0     0     0     0     0     0
 [2,]     0     0     0     0     0     0
 [3,]     0     0     0     0     0     0
 [4,]     0     0     0     0     0     0
 [5,]     0     0     0     0     0     0
 [6,]     0     0     0     0     0     0
 [7,]     0     0     0     0     0     0
 [8,]     0     0     0     0     0     0
 [9,]     0     0     0     0     0     0
&gt; 
&gt; ## now testing accessing/assigning multiple elements
&gt; tmp3 &lt;- createBufferedMatrix(10,10)
&gt; 
&gt; for (i in 1:10){
+   for (j in 1:10){
+     tmp3[i,j] &lt;- (j-1)*10 + i
+   }
+ }
&gt; 
&gt; tmp3[2:4,2:4]
     [,1] [,2] [,3]
[1,]   12   22   32
[2,]   13   23   33
[3,]   14   24   34
&gt; tmp3[c(-10),c(2:4,2:4,10,1,2,1:10,10:1)]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
 [1,]   11   21   31   11   21   31   91    1   11     1    11    21    31
 [2,]   12   22   32   12   22   32   92    2   12     2    12    22    32
 [3,]   13   23   33   13   23   33   93    3   13     3    13    23    33
 [4,]   14   24   34   14   24   34   94    4   14     4    14    24    34
 [5,]   15   25   35   15   25   35   95    5   15     5    15    25    35
 [6,]   16   26   36   16   26   36   96    6   16     6    16    26    36
 [7,]   17   27   37   17   27   37   97    7   17     7    17    27    37
 [8,]   18   28   38   18   28   38   98    8   18     8    18    28    38
 [9,]   19   29   39   19   29   39   99    9   19     9    19    29    39
      [,14] [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25]
 [1,]    41    51    61    71    81    91    91    81    71    61    51    41
 [2,]    42    52    62    72    82    92    92    82    72    62    52    42
 [3,]    43    53    63    73    83    93    93    83    73    63    53    43
 [4,]    44    54    64    74    84    94    94    84    74    64    54    44
 [5,]    45    55    65    75    85    95    95    85    75    65    55    45
 [6,]    46    56    66    76    86    96    96    86    76    66    56    46
 [7,]    47    57    67    77    87    97    97    87    77    67    57    47
 [8,]    48    58    68    78    88    98    98    88    78    68    58    48
 [9,]    49    59    69    79    89    99    99    89    79    69    59    49
      [,26] [,27] [,28] [,29]
 [1,]    31    21    11     1
 [2,]    32    22    12     2
 [3,]    33    23    13     3
 [4,]    34    24    14     4
 [5,]    35    25    15     5
 [6,]    36    26    16     6
 [7,]    37    27    17     7
 [8,]    38    28    18     8
 [9,]    39    29    19     9
&gt; tmp3[-c(1:5),-c(6:10)]
     [,1] [,2] [,3] [,4] [,5]
[1,]    6   16   26   36   46
[2,]    7   17   27   37   47
[3,]    8   18   28   38   48
[4,]    9   19   29   39   49
[5,]   10   20   30   40   50
&gt; 
&gt; ## assignment of whole columns
&gt; tmp3[,1] &lt;- c(1:10*100.0)
&gt; tmp3[,1:2] &lt;- tmp3[,1:2]*100
&gt; tmp3[,1:2] &lt;- tmp3[,2:1]
&gt; tmp3[,1:2]
      [,1]  [,2]
 [1,] 1100 1e+04
 [2,] 1200 2e+04
 [3,] 1300 3e+04
 [4,] 1400 4e+04
 [5,] 1500 5e+04
 [6,] 1600 6e+04
 [7,] 1700 7e+04
 [8,] 1800 8e+04
 [9,] 1900 9e+04
[10,] 2000 1e+05
&gt; 
&gt; 
&gt; tmp3[,-1] &lt;- tmp3[,1:9]
&gt; tmp3[,1:10]
      [,1] [,2]  [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,] 1100 1100 1e+04   21   31   41   51   61   71    81
 [2,] 1200 1200 2e+04   22   32   42   52   62   72    82
 [3,] 1300 1300 3e+04   23   33   43   53   63   73    83
 [4,] 1400 1400 4e+04   24   34   44   54   64   74    84
 [5,] 1500 1500 5e+04   25   35   45   55   65   75    85
 [6,] 1600 1600 6e+04   26   36   46   56   66   76    86
 [7,] 1700 1700 7e+04   27   37   47   57   67   77    87
 [8,] 1800 1800 8e+04   28   38   48   58   68   78    88
 [9,] 1900 1900 9e+04   29   39   49   59   69   79    89
[10,] 2000 2000 1e+05   30   40   50   60   70   80    90
&gt; 
&gt; tmp3[,1:2] &lt;- rep(1,10)
&gt; tmp3[,1:2] &lt;- rep(1,20)
&gt; tmp3[,1:2] &lt;- matrix(c(1:5),1,5)
&gt; 
&gt; tmp3[,-c(1:8)] &lt;- matrix(c(1:5),1,5)
&gt; 
&gt; tmp3[1,] &lt;- 1:10
&gt; tmp3[1,]
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
[1,]    1    2    3    4    5    6    7    8    9    10
&gt; tmp3[-1,] &lt;- c(1,2)
&gt; tmp3[1:10,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    2    3    4    5    6    7    8    9    10
 [2,]    1    2    1    2    1    2    1    2    1     2
 [3,]    2    1    2    1    2    1    2    1    2     1
 [4,]    1    2    1    2    1    2    1    2    1     2
 [5,]    2    1    2    1    2    1    2    1    2     1
 [6,]    1    2    1    2    1    2    1    2    1     2
 [7,]    2    1    2    1    2    1    2    1    2     1
 [8,]    1    2    1    2    1    2    1    2    1     2
 [9,]    2    1    2    1    2    1    2    1    2     1
[10,]    1    2    1    2    1    2    1    2    1     2
&gt; tmp3[-c(1:8),] &lt;- matrix(c(1:5),1,5)
&gt; tmp3[1:10,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    2    3    4    5    6    7    8    9    10
 [2,]    1    2    1    2    1    2    1    2    1     2
 [3,]    2    1    2    1    2    1    2    1    2     1
 [4,]    1    2    1    2    1    2    1    2    1     2
 [5,]    2    1    2    1    2    1    2    1    2     1
 [6,]    1    2    1    2    1    2    1    2    1     2
 [7,]    2    1    2    1    2    1    2    1    2     1
 [8,]    1    2    1    2    1    2    1    2    1     2
 [9,]    1    3    5    2    4    1    3    5    2     4
[10,]    2    4    1    3    5    2    4    1    3     5
&gt; 
&gt; 
&gt; tmp3[1:2,1:2] &lt;- 5555.04
&gt; tmp3[-(1:2),1:2] &lt;- 1234.56789
&gt; 
&gt; 
&gt; 
&gt; ## testing accessors for the directory and prefix
&gt; directory(tmp3)
[1] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests&quot;
&gt; prefix(tmp3)
[1] &quot;BM&quot;
&gt; 
&gt; ## testing if we can remove these objects
&gt; rm(tmp, tmp2, tmp3)
&gt; gc()
         used (Mb) gc trigger (Mb) max used (Mb)
Ncells 456993 24.5     979984 52.4   651420 34.8
Vcells 842364  6.5    8388608 64.0  2047783 15.7
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ##
&gt; ## checking reads
&gt; ##
&gt; 
&gt; tmp2 &lt;- createBufferedMatrix(10,20)
&gt; 
&gt; test.sample &lt;- rnorm(10*20)
&gt; 
&gt; tmp2[1:10,1:20] &lt;- test.sample
&gt; 
&gt; test.matrix &lt;- matrix(test.sample,10,20)
&gt; 
&gt; ## testing reads
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+   which.col &lt;- sample(1:20,1)
+   if (tmp2[which.row,which.col] != test.matrix[which.row,which.col]){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+   if (!all(tmp2[which.row,] == test.matrix[which.row,])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,1)
+   if (!all(tmp2[,which.col] == test.matrix[,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:10,5,replace=TRUE)
+   if (!all(tmp2[,which.col] == test.matrix[,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; date()
[1] &quot;Thu Feb  9 12:44:33 2023&quot;
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   if (!all(tmp2[which.row,] == test.matrix[which.row,])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; date()
[1] &quot;Thu Feb  9 12:44:33 2023&quot;
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   which.col &lt;- sample(1:10,5,replace=TRUE)
+   if (!all(tmp2[which.row,which.col] == test.matrix[which.row,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; RowMode(tmp2)
&lt;pointer: 0xaaaaf998a8f0&gt;
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+   which.col &lt;- sample(1:20,1)
+   if (tmp2[which.row,which.col] != test.matrix[which.row,which.col]){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+   if (!all(tmp2[which.row,] == test.matrix[which.row,])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,1)
+   if (!all(tmp2[,which.col] == test.matrix[,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,5,replace=TRUE)
+   if (!all(tmp2[,which.col] == test.matrix[,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   if (!all(tmp2[which.row,] == test.matrix[which.row,])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; 
&gt; 
&gt; date()
[1] &quot;Thu Feb  9 12:44:33 2023&quot;
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   which.col &lt;- sample(1:20,5,replace=TRUE)
+   if (!all(tmp2[which.row,which.col] == test.matrix[which.row,which.col])){
+     cat(&quot;incorrect agreement&quot;)
+     break;
+   }
+ }
&gt; date()
[1] &quot;Thu Feb  9 12:44:34 2023&quot;
&gt; 
&gt; ColMode(tmp2)
&lt;pointer: 0xaaaaf998a8f0&gt;
&gt; 
&gt; 
&gt; 
&gt; ### Now testing assignments
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,1)
+ 
+   new.data &lt;- rnorm(20)
+   tmp2[which.row,] &lt;- new.data
+   test.matrix[which.row,] &lt;- new.data
+   if (rep &gt; 1){
+     if (!all(tmp2[prev.row,] == test.matrix[prev.row,])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.row &lt;- which.row
+   
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,1)
+   new.data &lt;- rnorm(10)
+   tmp2[,which.col] &lt;- new.data
+   test.matrix[,which.col]&lt;- new.data
+ 
+   if (rep &gt; 1){
+     if (!all(tmp2[,prev.col] == test.matrix[,prev.col])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.col &lt;- which.col
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.col &lt;- sample(1:20,5,replace=TRUE)
+   new.data &lt;- matrix(rnorm(50),5,10)
+   tmp2[,which.col] &lt;- new.data
+   test.matrix[,which.col]&lt;- new.data
+   
+   if (rep &gt; 1){
+     if (!all(tmp2[,prev.col] == test.matrix[,prev.col])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.col &lt;- which.col
+ }
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   new.data &lt;- matrix(rnorm(50),5,10)
+   tmp2[which.row,] &lt;- new.data
+   test.matrix[which.row,]&lt;- new.data
+   
+   if (rep &gt; 1){
+     if (!all(tmp2[prev.row,] == test.matrix[prev.row,])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.row &lt;- which.row
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:nreps){
+   which.row &lt;- sample(1:10,5,replace=TRUE)
+   which.col  &lt;- sample(1:20,5,replace=TRUE)
+   new.data &lt;- matrix(rnorm(25),5,5)
+   tmp2[which.row,which.col] &lt;- new.data
+   test.matrix[which.row,which.col]&lt;- new.data
+   
+   if (rep &gt; 1){
+     if (!all(tmp2[prev.row,prev.col] == test.matrix[prev.row,prev.col])){
+       cat(&quot;incorrect agreement&quot;)
+       break;
+     }
+   }
+   prev.row &lt;- which.row
+   prev.col &lt;- which.col
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ###
&gt; ###
&gt; ### testing some more functions
&gt; ###
&gt; 
&gt; 
&gt; 
&gt; ## duplication function
&gt; tmp5 &lt;- duplicate(tmp2)
&gt; 
&gt; # making sure really did copy everything.
&gt; tmp5[1,1] &lt;- tmp5[1,1] +100.00
&gt; 
&gt; if (tmp5[1,1] == tmp2[1,1]){
+   stop(&quot;Problem with duplication&quot;)
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ### testing elementwise applying of functions
&gt; 
&gt; tmp5[1:4,1:4]
           [,1]      [,2]       [,3]       [,4]
[1,] 99.2344015 -0.430474 -1.4477629  2.3814241
[2,] -0.4994878 -1.685839 -0.1428485 -0.6229043
[3,] -0.2288858  1.100835  0.2838851  1.4316601
[4,] -0.9625976 -1.829608 -0.1362348  1.0424219
&gt; ewApply(tmp5,abs)
BufferedMatrix object
Matrix size:  10 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  2  Kilobytes.
Disk usage :  1.6  Kilobytes.
&gt; tmp5[1:4,1:4]
           [,1]     [,2]      [,3]      [,4]
[1,] 99.2344015 0.430474 1.4477629 2.3814241
[2,]  0.4994878 1.685839 0.1428485 0.6229043
[3,]  0.2288858 1.100835 0.2838851 1.4316601
[4,]  0.9625976 1.829608 0.1362348 1.0424219
&gt; ewApply(tmp5,sqrt)
BufferedMatrix object
Matrix size:  10 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  2  Kilobytes.
Disk usage :  1.6  Kilobytes.
&gt; tmp5[1:4,1:4]
          [,1]      [,2]      [,3]      [,4]
[1,] 9.9616465 0.6561052 1.2032302 1.5431863
[2,] 0.7067445 1.2983987 0.3779530 0.7892428
[3,] 0.4784201 1.0492067 0.5328087 1.1965200
[4,] 0.9811206 1.3526300 0.3691000 1.0209906
&gt; 
&gt; my.function &lt;- function(x,power){
+   (x+5)^power
+ }
&gt; 
&gt; ewApply(tmp5,my.function,power=2)
BufferedMatrix object
Matrix size:  10 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  2  Kilobytes.
Disk usage :  1.6  Kilobytes.
&gt; tmp5[1:4,1:4]
          [,1]     [,2]     [,3]     [,4]
[1,] 223.85087 31.99153 38.48006 42.81329
[2,]  32.56693 39.66983 28.92238 33.51533
[3,]  30.01309 36.59290 30.61197 38.39686
[4,]  35.77380 40.35591 28.82724 36.25233
&gt; 
&gt; 
&gt; 
&gt; ## testing functions that elementwise transform the matrix
&gt; sqrt(tmp5)
&lt;pointer: 0xaaaaf9109470&gt;
&gt; exp(tmp5)
&lt;pointer: 0xaaaaf9109470&gt;
&gt; log(tmp5,2)
&lt;pointer: 0xaaaaf9109470&gt;
&gt; pow(tmp5,2)
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ## testing functions that apply to entire matrix
&gt; Max(tmp5)
[1] 465.9163
&gt; Min(tmp5)
[1] 53.8626
&gt; mean(tmp5)
[1] 72.82007
&gt; Sum(tmp5)
[1] 14564.01
&gt; Var(tmp5)
[1] 855.7881
&gt; 
&gt; 
&gt; ## testing functions applied to rows or columns
&gt; 
&gt; rowMeans(tmp5)
 [1] 89.42455 69.98375 72.92346 73.33777 69.14167 71.32738 67.18835 69.75344
 [9] 70.42286 74.69742
&gt; rowSums(tmp5)
 [1] 1788.491 1399.675 1458.469 1466.755 1382.833 1426.548 1343.767 1395.069
 [9] 1408.457 1493.948
&gt; rowVars(tmp5)
 [1] 7945.12608   68.55682   49.88935   80.77619   78.24213   82.26535
 [7]   53.33936   78.82673   54.69743  102.92205
&gt; rowSd(tmp5)
 [1] 89.135437  8.279904  7.063239  8.987557  8.845458  9.070025  7.303380
 [8]  8.878442  7.395771 10.145051
&gt; rowMax(tmp5)
 [1] 465.91625  83.28822  82.62787  89.38544  87.78156  86.56753  82.71511
 [8]  91.30951  83.52791  89.45459
&gt; rowMin(tmp5)
 [1] 54.52123 56.23322 61.05208 54.24202 54.36898 55.69600 53.86260 56.94626
 [9] 56.64281 54.94939
&gt; 
&gt; colMeans(tmp5)
 [1] 109.38809  73.34233  68.43154  72.39916  71.53648  72.59146  70.78520
 [8]  73.01367  67.58526  73.64692  74.70000  74.98232  73.66595  71.12257
[15]  66.84734  67.05875  67.45106  69.67671  66.46141  71.71511
&gt; colSums(tmp5)
 [1] 1093.8809  733.4233  684.3154  723.9916  715.3648  725.9146  707.8520
 [8]  730.1367  675.8526  736.4692  747.0000  749.8232  736.6595  711.2257
[15]  668.4734  670.5875  674.5106  696.7671  664.6141  717.1511
&gt; colVars(tmp5)
 [1] 15738.30761    85.88593    67.43449    73.14322    24.20435    77.95819
 [7]    76.03062    62.80644    66.30970    30.08440    68.25580   138.06690
[13]   117.72241    82.98407    84.34527   116.46990    75.86401    33.82334
[19]    76.83155   101.53440
&gt; colSd(tmp5)
 [1] 125.452412   9.267466   8.211850   8.552381   4.919792   8.829393
 [7]   8.719554   7.925051   8.143077   5.484925   8.261707  11.750187
[13]  10.849996   9.109559   9.183968  10.792122   8.709995   5.815784
[19]   8.765361  10.076428
&gt; colMax(tmp5)
 [1] 465.91625  87.89255  80.56511  89.11025  79.64992  89.58693  83.28822
 [8]  87.78156  79.69483  82.29227  83.52791  89.45459  91.30951  83.06012
[15]  87.28625  89.29397  82.62787  77.32792  79.28212  86.56753
&gt; colMin(tmp5)
 [1] 60.43194 61.76522 58.16072 56.64281 64.11343 60.30175 55.12754 62.94232
 [9] 53.86260 65.46838 61.45582 62.00773 54.94939 54.24202 57.39565 55.61009
[17] 56.94626 62.39093 54.52123 54.36898
&gt; 
&gt; 
&gt; ### setting a random element to NA and then testing with na.rm=TRUE or na.rm=FALSE (The default)
&gt; 
&gt; 
&gt; which.row &lt;- sample(1:10,1,replace=TRUE)
&gt; which.col  &lt;- sample(1:20,1,replace=TRUE)
&gt; 
&gt; tmp5[which.row,which.col] &lt;- NA
&gt; 
&gt; Max(tmp5)
[1] NA
&gt; Min(tmp5)
[1] NA
&gt; mean(tmp5)
[1] NA
&gt; Sum(tmp5)
[1] NA
&gt; Var(tmp5)
[1] NA
&gt; 
&gt; rowMeans(tmp5)
 [1] 89.42455 69.98375 72.92346 73.33777 69.14167       NA 67.18835 69.75344
 [9] 70.42286 74.69742
&gt; rowSums(tmp5)
 [1] 1788.491 1399.675 1458.469 1466.755 1382.833       NA 1343.767 1395.069
 [9] 1408.457 1493.948
&gt; rowVars(tmp5)
 [1] 7945.12608   68.55682   49.88935   80.77619   78.24213   73.25305
 [7]   53.33936   78.82673   54.69743  102.92205
&gt; rowSd(tmp5)
 [1] 89.135437  8.279904  7.063239  8.987557  8.845458  8.558800  7.303380
 [8]  8.878442  7.395771 10.145051
&gt; rowMax(tmp5)
 [1] 465.91625  83.28822  82.62787  89.38544  87.78156        NA  82.71511
 [8]  91.30951  83.52791  89.45459
&gt; rowMin(tmp5)
 [1] 54.52123 56.23322 61.05208 54.24202 54.36898       NA 53.86260 56.94626
 [9] 56.64281 54.94939
&gt; 
&gt; colMeans(tmp5)
 [1] 109.38809  73.34233  68.43154  72.39916  71.53648  72.59146  70.78520
 [8]  73.01367  67.58526  73.64692  74.70000  74.98232  73.66595  71.12257
[15]  66.84734  67.05875  67.45106  69.67671  66.46141        NA
&gt; colSums(tmp5)
 [1] 1093.8809  733.4233  684.3154  723.9916  715.3648  725.9146  707.8520
 [8]  730.1367  675.8526  736.4692  747.0000  749.8232  736.6595  711.2257
[15]  668.4734  670.5875  674.5106  696.7671  664.6141        NA
&gt; colVars(tmp5)
 [1] 15738.30761    85.88593    67.43449    73.14322    24.20435    77.95819
 [7]    76.03062    62.80644    66.30970    30.08440    68.25580   138.06690
[13]   117.72241    82.98407    84.34527   116.46990    75.86401    33.82334
[19]    76.83155          NA
&gt; colSd(tmp5)
 [1] 125.452412   9.267466   8.211850   8.552381   4.919792   8.829393
 [7]   8.719554   7.925051   8.143077   5.484925   8.261707  11.750187
[13]  10.849996   9.109559   9.183968  10.792122   8.709995   5.815784
[19]   8.765361         NA
&gt; colMax(tmp5)
 [1] 465.91625  87.89255  80.56511  89.11025  79.64992  89.58693  83.28822
 [8]  87.78156  79.69483  82.29227  83.52791  89.45459  91.30951  83.06012
[15]  87.28625  89.29397  82.62787  77.32792  79.28212        NA
&gt; colMin(tmp5)
 [1] 60.43194 61.76522 58.16072 56.64281 64.11343 60.30175 55.12754 62.94232
 [9] 53.86260 65.46838 61.45582 62.00773 54.94939 54.24202 57.39565 55.61009
[17] 56.94626 62.39093 54.52123       NA
&gt; 
&gt; Max(tmp5,na.rm=TRUE)
[1] 465.9163
&gt; Min(tmp5,na.rm=TRUE)
[1] 53.8626
&gt; mean(tmp5,na.rm=TRUE)
[1] 72.75098
&gt; Sum(tmp5,na.rm=TRUE)
[1] 14477.45
&gt; Var(tmp5,na.rm=TRUE)
[1] 859.151
&gt; 
&gt; rowMeans(tmp5,na.rm=TRUE)
 [1] 89.42455 69.98375 72.92346 73.33777 69.14167 70.52526 67.18835 69.75344
 [9] 70.42286 74.69742
&gt; rowSums(tmp5,na.rm=TRUE)
 [1] 1788.491 1399.675 1458.469 1466.755 1382.833 1339.980 1343.767 1395.069
 [9] 1408.457 1493.948
&gt; rowVars(tmp5,na.rm=TRUE)
 [1] 7945.12608   68.55682   49.88935   80.77619   78.24213   73.25305
 [7]   53.33936   78.82673   54.69743  102.92205
&gt; rowSd(tmp5,na.rm=TRUE)
 [1] 89.135437  8.279904  7.063239  8.987557  8.845458  8.558800  7.303380
 [8]  8.878442  7.395771 10.145051
&gt; rowMax(tmp5,na.rm=TRUE)
 [1] 465.91625  83.28822  82.62787  89.38544  87.78156  83.36367  82.71511
 [8]  91.30951  83.52791  89.45459
&gt; rowMin(tmp5,na.rm=TRUE)
 [1] 54.52123 56.23322 61.05208 54.24202 54.36898 55.69600 53.86260 56.94626
 [9] 56.64281 54.94939
&gt; 
&gt; colMeans(tmp5,na.rm=TRUE)
 [1] 109.38809  73.34233  68.43154  72.39916  71.53648  72.59146  70.78520
 [8]  73.01367  67.58526  73.64692  74.70000  74.98232  73.66595  71.12257
[15]  66.84734  67.05875  67.45106  69.67671  66.46141  70.06484
&gt; colSums(tmp5,na.rm=TRUE)
 [1] 1093.8809  733.4233  684.3154  723.9916  715.3648  725.9146  707.8520
 [8]  730.1367  675.8526  736.4692  747.0000  749.8232  736.6595  711.2257
[15]  668.4734  670.5875  674.5106  696.7671  664.6141  630.5835
&gt; colVars(tmp5,na.rm=TRUE)
 [1] 15738.30761    85.88593    67.43449    73.14322    24.20435    77.95819
 [7]    76.03062    62.80644    66.30970    30.08440    68.25580   138.06690
[13]   117.72241    82.98407    84.34527   116.46990    75.86401    33.82334
[19]    76.83155    83.58807
&gt; colSd(tmp5,na.rm=TRUE)
 [1] 125.452412   9.267466   8.211850   8.552381   4.919792   8.829393
 [7]   8.719554   7.925051   8.143077   5.484925   8.261707  11.750187
[13]  10.849996   9.109559   9.183968  10.792122   8.709995   5.815784
[19]   8.765361   9.142651
&gt; colMax(tmp5,na.rm=TRUE)
 [1] 465.91625  87.89255  80.56511  89.11025  79.64992  89.58693  83.28822
 [8]  87.78156  79.69483  82.29227  83.52791  89.45459  91.30951  83.06012
[15]  87.28625  89.29397  82.62787  77.32792  79.28212  82.71511
&gt; colMin(tmp5,na.rm=TRUE)
 [1] 60.43194 61.76522 58.16072 56.64281 64.11343 60.30175 55.12754 62.94232
 [9] 53.86260 65.46838 61.45582 62.00773 54.94939 54.24202 57.39565 55.61009
[17] 56.94626 62.39093 54.52123 54.36898
&gt; 
&gt; # now set an entire row to NA
&gt; 
&gt; tmp5[which.row,] &lt;- NA
&gt; rowMeans(tmp5,na.rm=TRUE)
 [1] 89.42455 69.98375 72.92346 73.33777 69.14167      NaN 67.18835 69.75344
 [9] 70.42286 74.69742
&gt; rowSums(tmp5,na.rm=TRUE)
 [1] 1788.491 1399.675 1458.469 1466.755 1382.833    0.000 1343.767 1395.069
 [9] 1408.457 1493.948
&gt; rowVars(tmp5,na.rm=TRUE)
 [1] 7945.12608   68.55682   49.88935   80.77619   78.24213         NA
 [7]   53.33936   78.82673   54.69743  102.92205
&gt; rowSd(tmp5,na.rm=TRUE)
 [1] 89.135437  8.279904  7.063239  8.987557  8.845458        NA  7.303380
 [8]  8.878442  7.395771 10.145051
&gt; rowMax(tmp5,na.rm=TRUE)
 [1] 465.91625  83.28822  82.62787  89.38544  87.78156        NA  82.71511
 [8]  91.30951  83.52791  89.45459
&gt; rowMin(tmp5,na.rm=TRUE)
 [1] 54.52123 56.23322 61.05208 54.24202 54.36898       NA 53.86260 56.94626
 [9] 56.64281 54.94939
&gt; 
&gt; 
&gt; # now set an entire col to NA
&gt; 
&gt; 
&gt; tmp5[,which.col] &lt;- NA
&gt; colMeans(tmp5,na.rm=TRUE)
 [1] 114.82766  74.15588  67.08337  72.18230  72.36126  73.13697  70.26221
 [8]  73.42100  66.23975  73.96714  73.73736  75.46599  72.66963  69.79617
[15]  67.24634  66.66606  68.31300  70.46390  67.65756       NaN
&gt; colSums(tmp5,na.rm=TRUE)
 [1] 1033.4490  667.4029  603.7503  649.6407  651.2514  658.2327  632.3599
 [8]  660.7890  596.1577  665.7042  663.6363  679.1939  654.0267  628.1656
[15]  605.2171  599.9945  614.8170  634.1751  608.9181    0.0000
&gt; colVars(tmp5,na.rm=TRUE)
 [1] 17372.72039    89.17570    55.41611    81.75707    19.57689    84.35526
 [7]    82.45740    68.79065    54.23149    32.69139    66.36288   152.69346
[13]   121.27042    73.56470    93.09743   129.29383    76.98892    31.07993
[19]    70.33911          NA
&gt; colSd(tmp5,na.rm=TRUE)
 [1] 131.805616   9.443289   7.444200   9.041962   4.424578   9.184512
 [7]   9.080606   8.294013   7.364203   5.717639   8.146342  12.356920
[13]  11.012285   8.576986   9.648701  11.370744   8.774333   5.574937
[19]   8.386841         NA
&gt; colMax(tmp5,na.rm=TRUE)
 [1] 465.91625  87.89255  80.09121  89.11025  79.64992  89.58693  83.28822
 [8]  87.78156  76.77635  82.29227  83.52791  89.45459  91.30951  82.41582
[15]  87.28625  89.29397  82.62787  77.32792  79.28212      -Inf
&gt; colMin(tmp5,na.rm=TRUE)
 [1] 61.94723 61.76522 58.16072 56.64281 65.81231 60.30175 55.12754 62.94232
 [9] 53.86260 65.46838 61.45582 62.00773 54.94939 54.24202 57.39565 55.61009
[17] 56.94626 62.39093 54.52123      Inf
&gt; 
&gt; 
&gt; 
&gt; 
&gt; copymatrix &lt;- matrix(rnorm(200,150,15),10,20)
&gt; 
&gt; tmp5[1:10,1:20] &lt;- copymatrix
&gt; which.row &lt;- 3
&gt; which.col  &lt;- 1
&gt; cat(which.row,&quot; &quot;,which.col,&quot;\n&quot;)
3   1 
&gt; tmp5[which.row,which.col] &lt;- NA
&gt; copymatrix[which.row,which.col] &lt;- NA
&gt; 
&gt; rowVars(tmp5,na.rm=TRUE)
 [1] 203.67554 133.35240 261.79938 266.73254 205.01703  86.46889  87.24313
 [8] 212.12105 313.30003 326.66014
&gt; apply(copymatrix,1,var,na.rm=TRUE)
 [1] 203.67554 133.35240 261.79938 266.73254 205.01703  86.46889  87.24313
 [8] 212.12105 313.30003 326.66014
&gt; 
&gt; 
&gt; 
&gt; copymatrix &lt;- matrix(rnorm(200,150,15),10,20)
&gt; 
&gt; tmp5[1:10,1:20] &lt;- copymatrix
&gt; which.row &lt;- 1
&gt; which.col  &lt;- 3
&gt; cat(which.row,&quot; &quot;,which.col,&quot;\n&quot;)
1   3 
&gt; tmp5[which.row,which.col] &lt;- NA
&gt; copymatrix[which.row,which.col] &lt;- NA
&gt; 
&gt; colVars(tmp5,na.rm=TRUE)-apply(copymatrix,2,var,na.rm=TRUE)
 [1] -1.989520e-13  7.105427e-14 -9.947598e-14  1.136868e-13  8.526513e-14
 [6]  1.136868e-13 -2.842171e-14  1.989520e-13  8.526513e-14  8.526513e-14
[11] -8.526513e-14 -5.684342e-14 -1.421085e-13  9.947598e-14  0.000000e+00
[16]  1.136868e-13 -2.273737e-13  0.000000e+00  1.136868e-13 -1.136868e-13
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ## making sure these things agree
&gt; ##
&gt; ## first when there is no NA
&gt; 
&gt; 
&gt; 
&gt; agree.checks &lt;- function(buff.matrix,r.matrix,err.tol=1e-10){
+ 
+   if (Max(buff.matrix,na.rm=TRUE) != max(r.matrix,na.rm=TRUE)){
+     stop(&quot;No agreement in Max&quot;)
+   }
+   
+ 
+   if (Min(buff.matrix,na.rm=TRUE) != min(r.matrix,na.rm=TRUE)){
+     stop(&quot;No agreement in Min&quot;)
+   }
+ 
+ 
+   if (abs(Sum(buff.matrix,na.rm=TRUE)- sum(r.matrix,na.rm=TRUE)) &gt; err.tol){
+ 
+     cat(Sum(buff.matrix,na.rm=TRUE),&quot;\n&quot;)
+     cat(sum(r.matrix,na.rm=TRUE),&quot;\n&quot;)
+     cat(Sum(buff.matrix,na.rm=TRUE) - sum(r.matrix,na.rm=TRUE),&quot;\n&quot;)
+     
+     stop(&quot;No agreement in Sum&quot;)
+   }
+   
+   if (abs(mean(buff.matrix,na.rm=TRUE) - mean(r.matrix,na.rm=TRUE)) &gt; err.tol){
+     stop(&quot;No agreement in mean&quot;)
+   }
+   
+   
+   if(abs(Var(buff.matrix,na.rm=TRUE) - var(as.vector(r.matrix),na.rm=TRUE)) &gt; err.tol){
+     stop(&quot;No agreement in Var&quot;)
+   }
+   
+   
+ 
+   if(any(abs(rowMeans(buff.matrix,na.rm=TRUE) - apply(r.matrix,1,mean,na.rm=TRUE)) &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in rowMeans&quot;)
+   }
+   
+   
+   if(any(abs(colMeans(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,mean,na.rm=TRUE))&gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMeans&quot;)
+   }
+   
+   
+   if(any(abs(rowSums(buff.matrix,na.rm=TRUE)  -  apply(r.matrix,1,sum,na.rm=TRUE))&gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in rowSums&quot;)
+   }
+   
+   
+   if(any(abs(colSums(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,sum,na.rm=TRUE))&gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colSums&quot;)
+   }
+   
+   ### this is to get around the fact that R doesn&#x27;t like to compute NA on an entire vector of NA when 
+   ### computing variance
+   my.Var &lt;- function(x,na.rm=FALSE){
+    if (all(is.na(x))){
+      return(NA)
+    } else {
+      var(x,na.rm=na.rm)
+    }
+ 
+   }
+   
+   if(any(abs(rowVars(buff.matrix,na.rm=TRUE) - apply(r.matrix,1,my.Var,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in rowVars&quot;)
+   }
+   
+   
+   if(any(abs(colVars(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,my.Var,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in rowVars&quot;)
+   }
+ 
+ 
+   if(any(abs(rowMax(buff.matrix,na.rm=TRUE) - apply(r.matrix,1,max,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMax&quot;)
+   }
+   
+ 
+   if(any(abs(colMax(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,max,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMax&quot;)
+   }
+   
+   
+   
+   if(any(abs(rowMin(buff.matrix,na.rm=TRUE) - apply(r.matrix,1,min,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMin&quot;)
+   }
+   
+ 
+   if(any(abs(colMin(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,min,na.rm=TRUE))  &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMin&quot;)
+   }
+ 
+   if(any(abs(colMedians(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,median,na.rm=TRUE)) &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colMedian&quot;)
+   }
+ 
+   if(any(abs(colRanges(buff.matrix,na.rm=TRUE) - apply(r.matrix,2,range,na.rm=TRUE)) &gt; err.tol,na.rm=TRUE)){
+     stop(&quot;No agreement in colRanges&quot;)
+   }
+ 
+ 
+   
+ }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; for (rep in 1:20){
+   copymatrix &lt;- matrix(rnorm(200,150,15),10,20)
+   
+   tmp5[1:10,1:20] &lt;- copymatrix
+ 
+ 
+   agree.checks(tmp5,copymatrix)
+   
+   ## now lets assign some NA values and check agreement
+ 
+   which.row &lt;- sample(1:10,1,replace=TRUE)
+   which.col  &lt;- sample(1:20,1,replace=TRUE)
+   
+   cat(which.row,&quot; &quot;,which.col,&quot;\n&quot;)
+   
+   tmp5[which.row,which.col] &lt;- NA
+   copymatrix[which.row,which.col] &lt;- NA
+   
+   agree.checks(tmp5,copymatrix)
+ 
+   ## make an entire row NA
+   tmp5[which.row,] &lt;- NA
+   copymatrix[which.row,] &lt;- NA
+ 
+ 
+   agree.checks(tmp5,copymatrix)
+   
+   ### also make an entire col NA
+   tmp5[,which.col] &lt;- NA
+   copymatrix[,which.col] &lt;- NA
+ 
+   agree.checks(tmp5,copymatrix)
+ 
+   ### now make 1 element non NA with NA in the rest of row and column
+ 
+   tmp5[which.row,which.col] &lt;- rnorm(1,150,15)
+   copymatrix[which.row,which.col] &lt;- tmp5[which.row,which.col]
+ 
+   agree.checks(tmp5,copymatrix)
+ }
9   7 
1   18 
3   7 
1   19 
6   4 
2   19 
8   16 
10   10 
9   16 
5   19 
5   4 
9   16 
6   19 
4   3 
9   10 
8   11 
2   14 
10   4 
5   20 
7   6 
There were 50 or more warnings (use warnings() to see the first 50)
&gt; 
&gt; 
&gt; ### now test 1 by n and n by 1 matrix
&gt; 
&gt; 
&gt; err.tol &lt;- 1e-12
&gt; 
&gt; rm(tmp5)
&gt; 
&gt; dataset1 &lt;- rnorm(100)
&gt; dataset2 &lt;- rnorm(100)
&gt; 
&gt; tmp &lt;- createBufferedMatrix(1,100)
&gt; tmp[1,] &lt;- dataset1
&gt; 
&gt; tmp2 &lt;- createBufferedMatrix(100,1)
&gt; tmp2[,1] &lt;- dataset2
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Max(tmp)
[1] 2.700543
&gt; Min(tmp)
[1] -3.590113
&gt; mean(tmp)
[1] 0.006200299
&gt; Sum(tmp)
[1] 0.6200299
&gt; Var(tmp)
[1] 1.196199
&gt; 
&gt; rowMeans(tmp)
[1] 0.006200299
&gt; rowSums(tmp)
[1] 0.6200299
&gt; rowVars(tmp)
[1] 1.196199
&gt; rowSd(tmp)
[1] 1.093709
&gt; rowMax(tmp)
[1] 2.700543
&gt; rowMin(tmp)
[1] -3.590113
&gt; 
&gt; colMeans(tmp)
  [1]  0.480822524  0.946760455 -1.014262677 -0.537183776  1.296365092
  [6]  2.656949055  0.399357426 -1.177089519 -0.426648738  1.394093857
 [11] -1.239775392  1.463153653 -1.246732441 -0.405332468  1.956542915
 [16] -0.107281590 -0.001894840  0.640613414 -1.032774792  0.965245902
 [21] -0.357912250  0.002485484  0.701295400 -0.171824656  1.465704673
 [26] -0.633898396  1.307786348  1.864687639 -0.191669587  0.806117764
 [31] -0.101262835 -1.232923071 -1.963827869  0.381139717 -0.158454461
 [36]  0.021221010  1.380183563 -0.566173978 -0.230478897 -2.178047428
 [41] -0.774887601 -0.096257008  1.131602992 -0.222825802 -0.602400268
 [46]  0.604247902  0.023508565  0.338797395  0.645548334 -0.483463823
 [51] -0.711909157  0.594277845 -0.643442577 -2.791774224  0.355819050
 [56]  0.087811925  0.512819678  0.770772752 -1.038678742 -0.714575682
 [61] -0.803320353  0.134676592  0.244624083  0.172206427 -1.231741564
 [66] -0.043372821 -1.857854594 -1.920226071 -0.381124576 -0.524686734
 [71] -0.871513762 -1.198903072 -1.759679952  0.602976941 -0.529800158
 [76]  1.833615198 -3.590113042 -0.023921385  0.999834942 -0.703325112
 [81]  0.464187053 -1.545096301  0.841597457 -1.164721630  1.221233032
 [86] -0.492577985  0.261609671  2.700543181  0.249893454  0.715240412
 [91]  0.577171507  1.248998401  0.608583963  1.755810693  0.252202285
 [96]  0.296510528  0.126347873  1.176444979 -0.025979296  0.663611842
&gt; colSums(tmp)
  [1]  0.480822524  0.946760455 -1.014262677 -0.537183776  1.296365092
  [6]  2.656949055  0.399357426 -1.177089519 -0.426648738  1.394093857
 [11] -1.239775392  1.463153653 -1.246732441 -0.405332468  1.956542915
 [16] -0.107281590 -0.001894840  0.640613414 -1.032774792  0.965245902
 [21] -0.357912250  0.002485484  0.701295400 -0.171824656  1.465704673
 [26] -0.633898396  1.307786348  1.864687639 -0.191669587  0.806117764
 [31] -0.101262835 -1.232923071 -1.963827869  0.381139717 -0.158454461
 [36]  0.021221010  1.380183563 -0.566173978 -0.230478897 -2.178047428
 [41] -0.774887601 -0.096257008  1.131602992 -0.222825802 -0.602400268
 [46]  0.604247902  0.023508565  0.338797395  0.645548334 -0.483463823
 [51] -0.711909157  0.594277845 -0.643442577 -2.791774224  0.355819050
 [56]  0.087811925  0.512819678  0.770772752 -1.038678742 -0.714575682
 [61] -0.803320353  0.134676592  0.244624083  0.172206427 -1.231741564
 [66] -0.043372821 -1.857854594 -1.920226071 -0.381124576 -0.524686734
 [71] -0.871513762 -1.198903072 -1.759679952  0.602976941 -0.529800158
 [76]  1.833615198 -3.590113042 -0.023921385  0.999834942 -0.703325112
 [81]  0.464187053 -1.545096301  0.841597457 -1.164721630  1.221233032
 [86] -0.492577985  0.261609671  2.700543181  0.249893454  0.715240412
 [91]  0.577171507  1.248998401  0.608583963  1.755810693  0.252202285
 [96]  0.296510528  0.126347873  1.176444979 -0.025979296  0.663611842
&gt; colVars(tmp)
  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [76] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
&gt; colSd(tmp)
  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [76] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
&gt; colMax(tmp)
  [1]  0.480822524  0.946760455 -1.014262677 -0.537183776  1.296365092
  [6]  2.656949055  0.399357426 -1.177089519 -0.426648738  1.394093857
 [11] -1.239775392  1.463153653 -1.246732441 -0.405332468  1.956542915
 [16] -0.107281590 -0.001894840  0.640613414 -1.032774792  0.965245902
 [21] -0.357912250  0.002485484  0.701295400 -0.171824656  1.465704673
 [26] -0.633898396  1.307786348  1.864687639 -0.191669587  0.806117764
 [31] -0.101262835 -1.232923071 -1.963827869  0.381139717 -0.158454461
 [36]  0.021221010  1.380183563 -0.566173978 -0.230478897 -2.178047428
 [41] -0.774887601 -0.096257008  1.131602992 -0.222825802 -0.602400268
 [46]  0.604247902  0.023508565  0.338797395  0.645548334 -0.483463823
 [51] -0.711909157  0.594277845 -0.643442577 -2.791774224  0.355819050
 [56]  0.087811925  0.512819678  0.770772752 -1.038678742 -0.714575682
 [61] -0.803320353  0.134676592  0.244624083  0.172206427 -1.231741564
 [66] -0.043372821 -1.857854594 -1.920226071 -0.381124576 -0.524686734
 [71] -0.871513762 -1.198903072 -1.759679952  0.602976941 -0.529800158
 [76]  1.833615198 -3.590113042 -0.023921385  0.999834942 -0.703325112
 [81]  0.464187053 -1.545096301  0.841597457 -1.164721630  1.221233032
 [86] -0.492577985  0.261609671  2.700543181  0.249893454  0.715240412
 [91]  0.577171507  1.248998401  0.608583963  1.755810693  0.252202285
 [96]  0.296510528  0.126347873  1.176444979 -0.025979296  0.663611842
&gt; colMin(tmp)
  [1]  0.480822524  0.946760455 -1.014262677 -0.537183776  1.296365092
  [6]  2.656949055  0.399357426 -1.177089519 -0.426648738  1.394093857
 [11] -1.239775392  1.463153653 -1.246732441 -0.405332468  1.956542915
 [16] -0.107281590 -0.001894840  0.640613414 -1.032774792  0.965245902
 [21] -0.357912250  0.002485484  0.701295400 -0.171824656  1.465704673
 [26] -0.633898396  1.307786348  1.864687639 -0.191669587  0.806117764
 [31] -0.101262835 -1.232923071 -1.963827869  0.381139717 -0.158454461
 [36]  0.021221010  1.380183563 -0.566173978 -0.230478897 -2.178047428
 [41] -0.774887601 -0.096257008  1.131602992 -0.222825802 -0.602400268
 [46]  0.604247902  0.023508565  0.338797395  0.645548334 -0.483463823
 [51] -0.711909157  0.594277845 -0.643442577 -2.791774224  0.355819050
 [56]  0.087811925  0.512819678  0.770772752 -1.038678742 -0.714575682
 [61] -0.803320353  0.134676592  0.244624083  0.172206427 -1.231741564
 [66] -0.043372821 -1.857854594 -1.920226071 -0.381124576 -0.524686734
 [71] -0.871513762 -1.198903072 -1.759679952  0.602976941 -0.529800158
 [76]  1.833615198 -3.590113042 -0.023921385  0.999834942 -0.703325112
 [81]  0.464187053 -1.545096301  0.841597457 -1.164721630  1.221233032
 [86] -0.492577985  0.261609671  2.700543181  0.249893454  0.715240412
 [91]  0.577171507  1.248998401  0.608583963  1.755810693  0.252202285
 [96]  0.296510528  0.126347873  1.176444979 -0.025979296  0.663611842
&gt; colMedians(tmp)
  [1]  0.480822524  0.946760455 -1.014262677 -0.537183776  1.296365092
  [6]  2.656949055  0.399357426 -1.177089519 -0.426648738  1.394093857
 [11] -1.239775392  1.463153653 -1.246732441 -0.405332468  1.956542915
 [16] -0.107281590 -0.001894840  0.640613414 -1.032774792  0.965245902
 [21] -0.357912250  0.002485484  0.701295400 -0.171824656  1.465704673
 [26] -0.633898396  1.307786348  1.864687639 -0.191669587  0.806117764
 [31] -0.101262835 -1.232923071 -1.963827869  0.381139717 -0.158454461
 [36]  0.021221010  1.380183563 -0.566173978 -0.230478897 -2.178047428
 [41] -0.774887601 -0.096257008  1.131602992 -0.222825802 -0.602400268
 [46]  0.604247902  0.023508565  0.338797395  0.645548334 -0.483463823
 [51] -0.711909157  0.594277845 -0.643442577 -2.791774224  0.355819050
 [56]  0.087811925  0.512819678  0.770772752 -1.038678742 -0.714575682
 [61] -0.803320353  0.134676592  0.244624083  0.172206427 -1.231741564
 [66] -0.043372821 -1.857854594 -1.920226071 -0.381124576 -0.524686734
 [71] -0.871513762 -1.198903072 -1.759679952  0.602976941 -0.529800158
 [76]  1.833615198 -3.590113042 -0.023921385  0.999834942 -0.703325112
 [81]  0.464187053 -1.545096301  0.841597457 -1.164721630  1.221233032
 [86] -0.492577985  0.261609671  2.700543181  0.249893454  0.715240412
 [91]  0.577171507  1.248998401  0.608583963  1.755810693  0.252202285
 [96]  0.296510528  0.126347873  1.176444979 -0.025979296  0.663611842
&gt; colRanges(tmp)
          [,1]      [,2]      [,3]       [,4]     [,5]     [,6]      [,7]
[1,] 0.4808225 0.9467605 -1.014263 -0.5371838 1.296365 2.656949 0.3993574
[2,] 0.4808225 0.9467605 -1.014263 -0.5371838 1.296365 2.656949 0.3993574
         [,8]       [,9]    [,10]     [,11]    [,12]     [,13]      [,14]
[1,] -1.17709 -0.4266487 1.394094 -1.239775 1.463154 -1.246732 -0.4053325
[2,] -1.17709 -0.4266487 1.394094 -1.239775 1.463154 -1.246732 -0.4053325
        [,15]      [,16]       [,17]     [,18]     [,19]     [,20]      [,21]
[1,] 1.956543 -0.1072816 -0.00189484 0.6406134 -1.032775 0.9652459 -0.3579122
[2,] 1.956543 -0.1072816 -0.00189484 0.6406134 -1.032775 0.9652459 -0.3579122
           [,22]     [,23]      [,24]    [,25]      [,26]    [,27]    [,28]
[1,] 0.002485484 0.7012954 -0.1718247 1.465705 -0.6338984 1.307786 1.864688
[2,] 0.002485484 0.7012954 -0.1718247 1.465705 -0.6338984 1.307786 1.864688
          [,29]     [,30]      [,31]     [,32]     [,33]     [,34]      [,35]
[1,] -0.1916696 0.8061178 -0.1012628 -1.232923 -1.963828 0.3811397 -0.1584545
[2,] -0.1916696 0.8061178 -0.1012628 -1.232923 -1.963828 0.3811397 -0.1584545
          [,36]    [,37]     [,38]      [,39]     [,40]      [,41]       [,42]
[1,] 0.02122101 1.380184 -0.566174 -0.2304789 -2.178047 -0.7748876 -0.09625701
[2,] 0.02122101 1.380184 -0.566174 -0.2304789 -2.178047 -0.7748876 -0.09625701
        [,43]      [,44]      [,45]     [,46]      [,47]     [,48]     [,49]
[1,] 1.131603 -0.2228258 -0.6024003 0.6042479 0.02350857 0.3387974 0.6455483
[2,] 1.131603 -0.2228258 -0.6024003 0.6042479 0.02350857 0.3387974 0.6455483
          [,50]      [,51]     [,52]      [,53]     [,54]    [,55]      [,56]
[1,] -0.4834638 -0.7119092 0.5942778 -0.6434426 -2.791774 0.355819 0.08781193
[2,] -0.4834638 -0.7119092 0.5942778 -0.6434426 -2.791774 0.355819 0.08781193
         [,57]     [,58]     [,59]      [,60]      [,61]     [,62]     [,63]
[1,] 0.5128197 0.7707728 -1.038679 -0.7145757 -0.8033204 0.1346766 0.2446241
[2,] 0.5128197 0.7707728 -1.038679 -0.7145757 -0.8033204 0.1346766 0.2446241
         [,64]     [,65]       [,66]     [,67]     [,68]      [,69]      [,70]
[1,] 0.1722064 -1.231742 -0.04337282 -1.857855 -1.920226 -0.3811246 -0.5246867
[2,] 0.1722064 -1.231742 -0.04337282 -1.857855 -1.920226 -0.3811246 -0.5246867
          [,71]     [,72]    [,73]     [,74]      [,75]    [,76]     [,77]
[1,] -0.8715138 -1.198903 -1.75968 0.6029769 -0.5298002 1.833615 -3.590113
[2,] -0.8715138 -1.198903 -1.75968 0.6029769 -0.5298002 1.833615 -3.590113
           [,78]     [,79]      [,80]     [,81]     [,82]     [,83]     [,84]
[1,] -0.02392138 0.9998349 -0.7033251 0.4641871 -1.545096 0.8415975 -1.164722
[2,] -0.02392138 0.9998349 -0.7033251 0.4641871 -1.545096 0.8415975 -1.164722
        [,85]     [,86]     [,87]    [,88]     [,89]     [,90]     [,91]
[1,] 1.221233 -0.492578 0.2616097 2.700543 0.2498935 0.7152404 0.5771715
[2,] 1.221233 -0.492578 0.2616097 2.700543 0.2498935 0.7152404 0.5771715
        [,92]    [,93]    [,94]     [,95]     [,96]     [,97]    [,98]
[1,] 1.248998 0.608584 1.755811 0.2522023 0.2965105 0.1263479 1.176445
[2,] 1.248998 0.608584 1.755811 0.2522023 0.2965105 0.1263479 1.176445
          [,99]    [,100]
[1,] -0.0259793 0.6636118
[2,] -0.0259793 0.6636118
&gt; 
&gt; 
&gt; Max(tmp2)
[1] 2.646052
&gt; Min(tmp2)
[1] -2.12235
&gt; mean(tmp2)
[1] 0.007726025
&gt; Sum(tmp2)
[1] 0.7726025
&gt; Var(tmp2)
[1] 0.9909714
&gt; 
&gt; rowMeans(tmp2)
  [1]  0.79172665  0.84919801 -0.80634808 -0.52204899  0.14324094 -2.12234951
  [7]  0.86258323 -0.29434003 -0.33257657  1.34696903 -0.67868373 -0.15152941
 [13]  0.44598443  0.64622753  2.45509658  0.78938607  2.21587464 -1.86808775
 [19] -0.99394749 -1.28355401  0.15143467  1.60962925 -0.80821130  0.48761890
 [25]  0.27501146 -0.26231312  0.82283315 -0.31476634 -0.38688039  0.24373939
 [31] -0.08451990 -0.28410643  0.02219005 -0.32421569  0.29402150  0.35181399
 [37]  0.41128322 -1.27381121 -1.61920696  0.49264201 -0.16674733 -1.97154025
 [43]  0.96786889  1.00496929  0.55561079 -0.80614626  0.47875187  1.12830488
 [49] -1.27709229 -1.31352260  0.31121736  0.71950107  0.59047207 -0.49408807
 [55] -0.33968300  0.04094980 -0.32715028 -1.00864011  0.94678094  0.12978842
 [61]  0.64621685  2.08266633  2.00205858  0.19088842 -0.51865725 -1.09909012
 [67] -1.89274741  1.33620822  0.50327685 -1.12411685 -0.18451669  1.05016823
 [73]  0.94427402 -0.92043939 -0.62845581  0.55856788  0.87894112  0.54497688
 [79] -0.30907492  0.48032241  0.09589600 -1.42677761 -1.31325053 -0.39955082
 [85] -0.59939689  0.71726895 -0.77961996  0.84994292 -1.89840110 -0.16743459
 [91] -0.68675592 -0.82139673  0.58994676  1.19577420 -0.26023061 -0.89533404
 [97] -1.03519182  0.77232311  2.64605200 -0.81934121
&gt; rowSums(tmp2)
  [1]  0.79172665  0.84919801 -0.80634808 -0.52204899  0.14324094 -2.12234951
  [7]  0.86258323 -0.29434003 -0.33257657  1.34696903 -0.67868373 -0.15152941
 [13]  0.44598443  0.64622753  2.45509658  0.78938607  2.21587464 -1.86808775
 [19] -0.99394749 -1.28355401  0.15143467  1.60962925 -0.80821130  0.48761890
 [25]  0.27501146 -0.26231312  0.82283315 -0.31476634 -0.38688039  0.24373939
 [31] -0.08451990 -0.28410643  0.02219005 -0.32421569  0.29402150  0.35181399
 [37]  0.41128322 -1.27381121 -1.61920696  0.49264201 -0.16674733 -1.97154025
 [43]  0.96786889  1.00496929  0.55561079 -0.80614626  0.47875187  1.12830488
 [49] -1.27709229 -1.31352260  0.31121736  0.71950107  0.59047207 -0.49408807
 [55] -0.33968300  0.04094980 -0.32715028 -1.00864011  0.94678094  0.12978842
 [61]  0.64621685  2.08266633  2.00205858  0.19088842 -0.51865725 -1.09909012
 [67] -1.89274741  1.33620822  0.50327685 -1.12411685 -0.18451669  1.05016823
 [73]  0.94427402 -0.92043939 -0.62845581  0.55856788  0.87894112  0.54497688
 [79] -0.30907492  0.48032241  0.09589600 -1.42677761 -1.31325053 -0.39955082
 [85] -0.59939689  0.71726895 -0.77961996  0.84994292 -1.89840110 -0.16743459
 [91] -0.68675592 -0.82139673  0.58994676  1.19577420 -0.26023061 -0.89533404
 [97] -1.03519182  0.77232311  2.64605200 -0.81934121
&gt; rowVars(tmp2)
  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [76] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
&gt; rowSd(tmp2)
  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [51] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
 [76] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
&gt; rowMax(tmp2)
  [1]  0.79172665  0.84919801 -0.80634808 -0.52204899  0.14324094 -2.12234951
  [7]  0.86258323 -0.29434003 -0.33257657  1.34696903 -0.67868373 -0.15152941
 [13]  0.44598443  0.64622753  2.45509658  0.78938607  2.21587464 -1.86808775
 [19] -0.99394749 -1.28355401  0.15143467  1.60962925 -0.80821130  0.48761890
 [25]  0.27501146 -0.26231312  0.82283315 -0.31476634 -0.38688039  0.24373939
 [31] -0.08451990 -0.28410643  0.02219005 -0.32421569  0.29402150  0.35181399
 [37]  0.41128322 -1.27381121 -1.61920696  0.49264201 -0.16674733 -1.97154025
 [43]  0.96786889  1.00496929  0.55561079 -0.80614626  0.47875187  1.12830488
 [49] -1.27709229 -1.31352260  0.31121736  0.71950107  0.59047207 -0.49408807
 [55] -0.33968300  0.04094980 -0.32715028 -1.00864011  0.94678094  0.12978842
 [61]  0.64621685  2.08266633  2.00205858  0.19088842 -0.51865725 -1.09909012
 [67] -1.89274741  1.33620822  0.50327685 -1.12411685 -0.18451669  1.05016823
 [73]  0.94427402 -0.92043939 -0.62845581  0.55856788  0.87894112  0.54497688
 [79] -0.30907492  0.48032241  0.09589600 -1.42677761 -1.31325053 -0.39955082
 [85] -0.59939689  0.71726895 -0.77961996  0.84994292 -1.89840110 -0.16743459
 [91] -0.68675592 -0.82139673  0.58994676  1.19577420 -0.26023061 -0.89533404
 [97] -1.03519182  0.77232311  2.64605200 -0.81934121
&gt; rowMin(tmp2)
  [1]  0.79172665  0.84919801 -0.80634808 -0.52204899  0.14324094 -2.12234951
  [7]  0.86258323 -0.29434003 -0.33257657  1.34696903 -0.67868373 -0.15152941
 [13]  0.44598443  0.64622753  2.45509658  0.78938607  2.21587464 -1.86808775
 [19] -0.99394749 -1.28355401  0.15143467  1.60962925 -0.80821130  0.48761890
 [25]  0.27501146 -0.26231312  0.82283315 -0.31476634 -0.38688039  0.24373939
 [31] -0.08451990 -0.28410643  0.02219005 -0.32421569  0.29402150  0.35181399
 [37]  0.41128322 -1.27381121 -1.61920696  0.49264201 -0.16674733 -1.97154025
 [43]  0.96786889  1.00496929  0.55561079 -0.80614626  0.47875187  1.12830488
 [49] -1.27709229 -1.31352260  0.31121736  0.71950107  0.59047207 -0.49408807
 [55] -0.33968300  0.04094980 -0.32715028 -1.00864011  0.94678094  0.12978842
 [61]  0.64621685  2.08266633  2.00205858  0.19088842 -0.51865725 -1.09909012
 [67] -1.89274741  1.33620822  0.50327685 -1.12411685 -0.18451669  1.05016823
 [73]  0.94427402 -0.92043939 -0.62845581  0.55856788  0.87894112  0.54497688
 [79] -0.30907492  0.48032241  0.09589600 -1.42677761 -1.31325053 -0.39955082
 [85] -0.59939689  0.71726895 -0.77961996  0.84994292 -1.89840110 -0.16743459
 [91] -0.68675592 -0.82139673  0.58994676  1.19577420 -0.26023061 -0.89533404
 [97] -1.03519182  0.77232311  2.64605200 -0.81934121
&gt; 
&gt; colMeans(tmp2)
[1] 0.007726025
&gt; colSums(tmp2)
[1] 0.7726025
&gt; colVars(tmp2)
[1] 0.9909714
&gt; colSd(tmp2)
[1] 0.9954755
&gt; colMax(tmp2)
[1] 2.646052
&gt; colMin(tmp2)
[1] -2.12235
&gt; colMedians(tmp2)
[1] 0.03156993
&gt; colRanges(tmp2)
          [,1]
[1,] -2.122350
[2,]  2.646052
&gt; 
&gt; dataset1 &lt;- matrix(dataset1,1,100)
&gt; 
&gt; agree.checks(tmp,dataset1)
&gt; 
&gt; dataset2 &lt;- matrix(dataset2,100,1)
&gt; agree.checks(tmp2,dataset2)
&gt;   
&gt; 
&gt; tmp &lt;- createBufferedMatrix(10,10)
&gt; 
&gt; tmp[1:10,1:10] &lt;- rnorm(100)
&gt; colApply(tmp,sum)
 [1] -0.13200621  0.65032168  0.08937399 -2.77913729  1.21999042 -3.55562617
 [7]  4.12025383 -3.24696920  1.63460636 -5.39200517
&gt; colApply(tmp,quantile)[,1]
            [,1]
[1,] -1.33130096
[2,] -0.65493578
[3,] -0.02473305
[4,]  0.26044982
[5,]  2.06149978
&gt; 
&gt; rowApply(tmp,sum)
 [1]  1.7058449 -2.6503264  4.3209304 -4.7226364 -5.1527035 -1.5451917
 [7] -0.7994287  1.5207786  5.9664859 -6.0349508
&gt; rowApply(tmp,rank)[1:10,]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]   10    2    3    5    1    8    7    4    6     7
 [2,]    6    4    6    9    8    7    1    8    8     8
 [3,]    1   10    2    3    9   10    8    7    1    10
 [4,]    7    3   10    6    7    2    4    1   10     1
 [5,]    2    8    1    7   10    3    5    9    9     6
 [6,]    4    7    7    2    4    4    6    6    2     2
 [7,]    9    6    5    8    6    9   10    5    4     5
 [8,]    3    1    8   10    5    6    3    2    7     4
 [9,]    5    9    4    1    3    5    9   10    5     9
[10,]    8    5    9    4    2    1    2    3    3     3
&gt; 
&gt; tmp &lt;- createBufferedMatrix(5,20)
&gt; 
&gt; tmp[1:5,1:20] &lt;- rnorm(100)
&gt; colApply(tmp,sum)
 [1] -3.07336504 -1.33700500  1.33985462 -5.47698602  0.46557282 -1.40549151
 [7] -4.44531139 -1.25500777 -0.06799579  3.36336288  0.51845242 -1.45787210
[13] -0.05378141 -1.42238502  3.44131904 -2.99341870  1.06174208  2.54034844
[19] -0.68035348 -1.52858798
&gt; colApply(tmp,quantile)[,1]
             [,1]
[1,] -1.462657749
[2,] -1.005865378
[3,] -0.420922638
[4,] -0.191450764
[5,]  0.007531493
&gt; 
&gt; rowApply(tmp,sum)
[1]  4.024102 -2.155627 -5.700539 -3.061662 -5.573182
&gt; rowApply(tmp,rank)[1:5,]
     [,1] [,2] [,3] [,4] [,5]
[1,]    6   11    6    3   11
[2,]    8    1    9   11   17
[3,]   14    9   16   15    8
[4,]    5    4   11    1    3
[5,]   12   14    3   12   19
&gt; 
&gt; 
&gt; as.matrix(tmp)
             [,1]        [,2]       [,3]       [,4]       [,5]      [,6]
[1,] -0.420922638 -0.09808045  0.7315163 -0.5463020  0.3965928 -1.040611
[2,]  0.007531493 -1.55356181 -0.2424976 -1.0198218  0.2722543  0.886918
[3,] -1.005865378 -0.61575410  0.6300133 -0.3324604 -1.6865528  1.051764
[4,] -1.462657749  0.26267844  0.7634244 -2.1319132  0.3509638 -1.053391
[5,] -0.191450764  0.66771292 -0.5426018 -1.4464885  1.1323148 -1.250171
           [,7]        [,8]       [,9]      [,10]      [,11]       [,12]
[1,]  1.4438880 -0.83653434  0.3058267  1.1394575  0.7632486 -1.13509677
[2,] -1.4870460 -0.02751254 -0.3155586  0.7171674 -0.4669845  1.16712135
[3,] -0.8590973 -1.93620686  0.1255264  1.3740587 -1.6129247  0.03403476
[4,] -2.0255958 -0.26439443 -0.7483816 -0.9538560  1.2690842 -1.10807891
[5,] -1.5174602  1.80964039  0.5645913  1.0865353  0.5660289 -0.41585252
          [,13]      [,14]      [,15]      [,16]      [,17]       [,18]
[1,]  0.1837114  1.0315736  1.9181190 -0.4151672 -0.5661748 -0.07452111
[2,] -0.7098189  0.2529038  0.2019281 -0.2516434  0.5207637  0.92315328
[3,] -0.5052257 -2.1880217  1.7434517 -1.4192013  0.4596336  1.37680908
[4,]  0.8211655 -0.7072779  0.9827031  0.4609661  1.8783773  0.71215831
[5,]  0.1563863  0.1884372 -1.4048828 -1.3683728 -1.2308577 -0.39725112
          [,19]      [,20]
[1,]  0.4914825  0.7520961
[2,]  0.4526056 -1.4835289
[3,] -0.8145083  0.4799881
[4,] -0.9505545  0.8429178
[5,]  0.1406212 -2.1200610
&gt; 
&gt; 
&gt; is.BufferedMatrix(tmp)
[1] TRUE
&gt; 
&gt; as.BufferedMatrix(as.matrix(tmp))
BufferedMatrix object
Matrix size:  5 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  1.9  Kilobytes.
Disk usage :  800  bytes.
&gt; 
&gt; 
&gt; 
&gt; subBufferedMatrix(tmp,1:5,1:5)
BufferedMatrix object
Matrix size:  5 5 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  653  bytes.
Disk usage :  200  bytes.
&gt; subBufferedMatrix(tmp,,5:8)
BufferedMatrix object
Matrix size:  5 4 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  566  bytes.
Disk usage :  160  bytes.
&gt; subBufferedMatrix(tmp,1:3,)
BufferedMatrix object
Matrix size:  3 20 
Buffer size:  1 1 
Directory:    /home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests 
Prefix:       BM 
Mode: Col mode
Read Only: FALSE
Memory usage :  1.9  Kilobytes.
Disk usage :  480  bytes.
&gt; 
&gt; 
&gt; rm(tmp)
&gt; 
&gt; 
&gt; ###
&gt; ### Testing colnames and rownames
&gt; ###
&gt; 
&gt; tmp &lt;- createBufferedMatrix(5,20)
&gt; tmp[1:5,1:20] &lt;- rnorm(100)
&gt; 
&gt; 
&gt; colnames(tmp)
NULL
&gt; rownames(tmp)
NULL
&gt; 
&gt; 
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; 
&gt; colnames(tmp)
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;
&gt; rownames(tmp)
[1] &quot;row1&quot; &quot;row2&quot; &quot;row3&quot; &quot;row4&quot; &quot;row5&quot;
&gt; 
&gt; 
&gt; tmp[&quot;row1&quot;,]
            col1      col2     col3     col4       col5       col6      col7
row1 -0.06330056 0.2297466 1.312167 1.323339 -0.7152343 -0.6169239 0.4277764
           col8       col9      col10      col11    col12     col13     col14
row1 -0.6857084 -0.1528766 -0.2732162 -0.9836183 1.519359 -3.008162 0.5058446
          col15      col16     col17     col18     col19      col20
row1 -0.1051419 -0.7118615 0.8655926 -1.805493 -1.558125 -0.4847364
&gt; tmp[,&quot;col10&quot;]
          col10
row1 -0.2732162
row2 -2.0204704
row3  1.4929895
row4 -1.5767658
row5 -0.6405903
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),]
            col1       col2      col3      col4       col5       col6      col7
row1 -0.06330056  0.2297466 1.3121668 1.3233388 -0.7152343 -0.6169239 0.4277764
row5  1.26443884 -0.2067480 0.2793593 0.5251716 -0.2479009  0.5979251 0.3813973
           col8       col9      col10       col11     col12      col13
row1 -0.6857084 -0.1528766 -0.2732162 -0.98361827 1.5193588 -3.0081622
row5 -0.9134922 -1.1172664 -0.6405903  0.04794496 0.3225654 -0.5869103
         col14      col15      col16     col17     col18      col19      col20
row1 0.5058446 -0.1051419 -0.7118615 0.8655926 -1.805493 -1.5581248 -0.4847364
row5 0.6486801 -0.6401375 -0.5710639 0.5199317 -3.139537 -0.3368412  0.5441404
&gt; tmp[,c(&quot;col6&quot;,&quot;col20&quot;)]
           col6      col20
row1 -0.6169239 -0.4847364
row2 -0.6803931 -0.3650655
row3  2.1655695  0.8638125
row4 -0.2772804  0.2781188
row5  0.5979251  0.5441404
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),c(&quot;col6&quot;,&quot;col20&quot;)]
           col6      col20
row1 -0.6169239 -0.4847364
row5  0.5979251  0.5441404
&gt; 
&gt; 
&gt; 
&gt; 
&gt; tmp[&quot;row1&quot;,] &lt;- rnorm(20,mean=10)
&gt; tmp[,&quot;col10&quot;] &lt;- rnorm(5,mean=30)
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),] &lt;- rnorm(40,mean=50)
&gt; tmp[,c(&quot;col6&quot;,&quot;col20&quot;)] &lt;- rnorm(10,mean=75)
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),c(&quot;col6&quot;,&quot;col20&quot;)]  &lt;- rnorm(4,mean=105)
&gt; 
&gt; tmp[&quot;row1&quot;,]
        col1     col2    col3    col4     col5     col6     col7     col8
row1 49.9993 49.67233 49.2835 50.0845 49.98017 104.0481 49.79125 49.21188
         col9   col10    col11 col12  col13    col14    col15    col16    col17
row1 49.40101 50.1299 48.59926  49.2 49.238 50.60197 50.80418 50.08897 49.20545
        col18    col19    col20
row1 47.92546 48.57614 104.5645
&gt; tmp[,&quot;col10&quot;]
        col10
row1 50.12990
row2 30.31521
row3 29.27803
row4 30.65581
row5 49.30446
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),]
         col1     col2     col3    col4     col5     col6     col7     col8
row1 49.99930 49.67233 49.28350 50.0845 49.98017 104.0481 49.79125 49.21188
row5 51.23937 49.17375 50.16656 50.2964 50.51740 105.2246 50.72643 50.95527
         col9    col10    col11    col12    col13    col14    col15    col16
row1 49.40101 50.12990 48.59926 49.20000 49.23800 50.60197 50.80418 50.08897
row5 50.75110 49.30446 50.32167 50.35644 48.32449 48.91195 50.17873 49.38727
        col17    col18    col19    col20
row1 49.20545 47.92546 48.57614 104.5645
row5 49.84517 50.15793 50.31005 104.8788
&gt; tmp[,c(&quot;col6&quot;,&quot;col20&quot;)]
          col6     col20
row1 104.04805 104.56453
row2  73.60644  74.43245
row3  76.05092  74.37417
row4  75.80055  74.70816
row5 105.22465 104.87882
&gt; tmp[c(&quot;row1&quot;,&quot;row5&quot;),c(&quot;col6&quot;,&quot;col20&quot;)]
         col6    col20
row1 104.0481 104.5645
row5 105.2246 104.8788
&gt; 
&gt; 
&gt; subBufferedMatrix(tmp,c(&quot;row1&quot;,&quot;row5&quot;),c(&quot;col6&quot;,&quot;col20&quot;))[1:2,1:2]
         col6    col20
row1 104.0481 104.5645
row5 105.2246 104.8788
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; tmp &lt;- createBufferedMatrix(5,20)
&gt; tmp[1:5,1:20] &lt;- rnorm(100)
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; 
&gt; tmp[,&quot;col13&quot;]
           col13
[1,] -0.77729568
[2,] -0.01883421
[3,]  1.69822923
[4,] -1.07885324
[5,]  0.51372503
&gt; tmp[,c(&quot;col17&quot;,&quot;col7&quot;)]
          col17       col7
[1,] -0.1258462 -0.8101753
[2,] -0.4190830  1.0057016
[3,] -1.3728032 -0.2815517
[4,] -0.9628774 -2.5695104
[5,]  2.2263241  0.1450416
&gt; 
&gt; subBufferedMatrix(tmp,,c(&quot;col6&quot;,&quot;col20&quot;))[,1:2]
           col6      col20
[1,] 0.37243114  0.7189065
[2,] 0.02227631  0.7992075
[3,] 1.23224177 -1.7744848
[4,] 0.46697406  0.2479435
[5,] 0.52308135 -0.7466887
&gt; subBufferedMatrix(tmp,1,c(&quot;col6&quot;))[,1]
          col1
[1,] 0.3724311
&gt; subBufferedMatrix(tmp,1:2,c(&quot;col6&quot;))[,1]
           col6
[1,] 0.37243114
[2,] 0.02227631
&gt; 
&gt; 
&gt; 
&gt; tmp &lt;- createBufferedMatrix(5,20)
&gt; tmp[1:5,1:20] &lt;- rnorm(100)
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; 
&gt; 
&gt; 
&gt; 
&gt; subBufferedMatrix(tmp,c(&quot;row3&quot;,&quot;row1&quot;),)[,1:20]
           [,1]      [,2]       [,3]       [,4]      [,5]        [,6]
row3  0.0907479 0.8653372  1.3184635 -0.4802871 0.2093129  1.52190348
row1 -3.0504571 0.3995271 -0.7918324 -0.7414090 0.4644722 -0.06137493
           [,7]       [,8]      [,9]      [,10]     [,11]      [,12]     [,13]
row3 -0.2468939 -0.6423759 0.2106731 -0.7783313 0.4014924  0.3016524 0.2257188
row1 -0.1974749 -1.8900782 0.7244106  0.7986235 1.8966175 -2.1355484 2.1143642
          [,14]      [,15]      [,16]      [,17]     [,18]     [,19]      [,20]
row3 -0.4460416  0.2978230 -1.5953046 -0.3260913 1.0546748 0.8378552  0.5291929
row1  0.1891963 -0.7699588  0.1744628  1.3889166 0.9490728 0.6621561 -2.3631739
&gt; subBufferedMatrix(tmp,c(&quot;row2&quot;),1:10)[,1:10]
         [,1]      [,2]      [,3]      [,4]     [,5]       [,6]     [,7]
row2 0.335938 -0.135057 0.2130207 -2.324184 2.370516 -0.1706116 0.556001
          [,8]       [,9]     [,10]
row2 0.2363459 -0.5407919 0.5915336
&gt; subBufferedMatrix(tmp,c(&quot;row5&quot;),1:20)[,1:20]
         [,1]    [,2]      [,3]       [,4]       [,5]      [,6]       [,7]
row5 1.858223 1.04254 0.4710391 -0.5825259 -0.4559176 0.4597867 0.02721687
           [,8]       [,9]     [,10]     [,11]   [,12]     [,13]      [,14]
row5 -0.8614088 -0.3414014 -1.429998 0.1607552 1.30188 0.5038304 -0.5548695
        [,15]      [,16]      [,17]    [,18]     [,19]     [,20]
row5 0.797823 -0.4004769 -0.2179849 1.213819 -1.180372 0.7939945
&gt; 
&gt; 
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; 
&gt; colnames(tmp)
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;
&gt; rownames(tmp)
[1] &quot;row1&quot; &quot;row2&quot; &quot;row3&quot; &quot;row4&quot; &quot;row5&quot;
&gt; 
&gt; 
&gt; colnames(tmp) &lt;- NULL
&gt; rownames(tmp) &lt;- NULL
&gt; 
&gt; colnames(tmp)
NULL
&gt; rownames(tmp)
NULL
&gt; 
&gt; 
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; 
&gt; dimnames(tmp)
[[1]]
[1] &quot;row1&quot; &quot;row2&quot; &quot;row3&quot; &quot;row4&quot; &quot;row5&quot;

[[2]]
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;

&gt; 
&gt; dimnames(tmp) &lt;- NULL
&gt; 
&gt; colnames(tmp) &lt;- colnames(tmp,do.NULL=FALSE)
&gt; dimnames(tmp)
[[1]]
NULL

[[2]]
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;

&gt; 
&gt; 
&gt; dimnames(tmp) &lt;- NULL
&gt; rownames(tmp) &lt;- rownames(tmp,do.NULL=FALSE)
&gt; dimnames(tmp)
[[1]]
[1] &quot;row1&quot; &quot;row2&quot; &quot;row3&quot; &quot;row4&quot; &quot;row5&quot;

[[2]]
NULL

&gt; 
&gt; dimnames(tmp) &lt;- list(NULL,c(colnames(tmp,do.NULL=FALSE)))
&gt; dimnames(tmp)
[[1]]
NULL

[[2]]
 [1] &quot;col1&quot;  &quot;col2&quot;  &quot;col3&quot;  &quot;col4&quot;  &quot;col5&quot;  &quot;col6&quot;  &quot;col7&quot;  &quot;col8&quot;  &quot;col9&quot; 
[10] &quot;col10&quot; &quot;col11&quot; &quot;col12&quot; &quot;col13&quot; &quot;col14&quot; &quot;col15&quot; &quot;col16&quot; &quot;col17&quot; &quot;col18&quot;
[19] &quot;col19&quot; &quot;col20&quot;

&gt; 
&gt; 
&gt; 
&gt; ###
&gt; ### Testing logical indexing
&gt; ###
&gt; ###
&gt; 
&gt; tmp &lt;- createBufferedMatrix(230,15)
&gt; tmp[1:230,1:15] &lt;- rnorm(230*15)
&gt; x &lt;-tmp[1:230,1:15]  
&gt; 
&gt; for (rep in 1:10){
+   which.cols &lt;- sample(c(TRUE,FALSE),15,replace=T)
+   which.rows &lt;- sample(c(TRUE,FALSE),230,replace=T)
+   
+   if (!all(tmp[which.rows,which.cols] == x[which.rows,which.cols])){
+     stop(&quot;No agreement when logical indexing\n&quot;)
+   }
+   
+   if (!all(subBufferedMatrix(tmp,,which.cols)[,1:sum(which.cols)] ==  x[,which.cols])){
+     stop(&quot;No agreement when logical indexing in subBufferedMatrix cols\n&quot;)
+   }
+   if (!all(subBufferedMatrix(tmp,which.rows,)[1:sum(which.rows),] ==  x[which.rows,])){
+     stop(&quot;No agreement when logical indexing in subBufferedMatrix rows\n&quot;)
+   }
+   
+   
+   if (!all(subBufferedMatrix(tmp,which.rows,which.cols)[1:sum(which.rows),1:sum(which.cols)]==  x[which.rows,which.cols])){
+     stop(&quot;No agreement when logical indexing in subBufferedMatrix rows and columns\n&quot;)
+   }
+ }
&gt; 
&gt; 
&gt; ##
&gt; ## Test the ReadOnlyMode
&gt; ##
&gt; 
&gt; ReadOnlyMode(tmp)
&lt;pointer: 0xaaaaf992d530&gt;
&gt; is.ReadOnlyMode(tmp)
[1] TRUE
&gt; 
&gt; filenames(tmp)
 [1] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f297a8eb8b8&quot;
 [2] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f295ca26cde&quot;
 [3] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f29639991ea&quot;
 [4] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f295f0c7dbb&quot;
 [5] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f29245871b4&quot;
 [6] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f294b317870&quot;
 [7] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f293b88fe32&quot;
 [8] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f293d9b005e&quot;
 [9] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f29105efdaf&quot;
[10] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f299f0d971&quot; 
[11] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f296d35b6d0&quot;
[12] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f291846c267&quot;
[13] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f293ab341a9&quot;
[14] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f297bf29629&quot;
[15] &quot;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests/BM196f29391dad21&quot;
&gt; 
&gt; 
&gt; ### testing coercion functions
&gt; ###
&gt; 
&gt; tmp &lt;- as(tmp,&quot;matrix&quot;)
&gt; tmp &lt;- as(tmp,&quot;BufferedMatrix&quot;)
&gt; 
&gt; 
&gt; 
&gt; ### testing whether can move storage from one location to another
&gt; 
&gt; MoveStorageDirectory(tmp,&quot;NewDirectory&quot;,full.path=FALSE)
&lt;pointer: 0xaaaafcbe57b0&gt;
&gt; MoveStorageDirectory(tmp,getwd(),full.path=TRUE)
&lt;pointer: 0xaaaafcbe57b0&gt;
Warning message:
In dir.create(new.directory) :
  &#x27;/home/biocbuild/bbs-3.17-bioc/meat/BufferedMatrix.Rcheck/tests&#x27; already exists
&gt; 
&gt; 
&gt; RowMode(tmp)
&lt;pointer: 0xaaaafcbe57b0&gt;
&gt; rowMedians(tmp)
  [1] -0.279901207 -0.095954902 -0.072599238 -0.081304949  0.307820050
  [6]  0.218501145  0.215560782 -0.015232329 -0.050021103  0.434540964
 [11] -0.284663293 -0.301728680  0.157177264  0.125658282  0.100854174
 [16] -0.114958074  0.341123537  0.330473714  0.165855041  0.104793751
 [21] -0.138764006  0.017952400  0.321532755 -0.124927665 -0.141210568
 [26] -0.178605326 -0.061825500  0.022263136 -0.373206097  0.335986596
 [31]  0.238827869  0.060027400 -0.021975661  0.051414814 -0.538961459
 [36] -0.464285396  0.183906162  0.405710678 -0.087886392 -0.040863441
 [41] -0.264233769  0.248961392 -0.159584042  0.045168131 -0.272278036
 [46] -0.198074403 -0.081419449 -0.243264336 -0.724906318 -0.316868791
 [51]  0.189232287  0.051824548 -0.021190053 -0.521346268 -0.582104154
 [56]  0.264516027  0.450641488 -0.136346108  0.078008551  0.294651621
 [61]  0.255154319 -0.150709941 -0.013127093 -0.289171271  0.219149918
 [66]  0.045851634  0.678288918  0.743103715  0.446399285  0.600783559
 [71] -0.087422039 -0.226264887  0.071190801  0.521161146  0.415920901
 [76]  0.296814913  0.260432751 -0.066190392  0.430670677  0.038510664
 [81]  0.015988685 -0.354340312 -0.428389728  0.205244331  0.698030922
 [86] -0.539074389  0.276626730  0.199784730  0.022563957 -0.641477486
 [91]  0.403973746 -0.133824172  0.727960703  0.402815300  0.315023503
 [96]  0.267382497 -0.842887967 -0.787372486  0.005513636  0.110400118
[101] -0.177361557 -0.254907388  0.313511601 -0.336913334  0.002317464
[106] -0.091535698  0.120436905 -0.197799047 -0.685493522 -0.898844824
[111] -0.011442925  0.605602642  0.319212676 -0.255223971  0.298347303
[116]  0.780002475  0.174640350  0.227425992  0.177258960 -0.195180231
[121]  0.316080522  0.264996981  0.060473027 -0.257917442 -0.316533922
[126]  0.459049289  0.235698410  0.191691269 -0.687643996  0.372640483
[131]  0.146622899  0.491481426 -0.447606475 -0.292651701  0.249808395
[136] -0.296312900 -0.189196688  0.363886622  0.129231267  0.086075725
[141]  0.147121627  0.240810190 -0.200506953  0.165929239 -0.204435895
[146]  0.200968745  0.162959728 -0.727230460 -0.577855940 -0.321630583
[151]  0.420656181 -0.107142167  0.086761181  0.163747377 -0.427527021
[156] -0.236118054  0.447622640  0.083012882 -0.365053883  0.025694822
[161] -0.618132815 -0.164320820 -0.088545946  0.122063641  0.118973604
[166]  0.077308773 -0.575175965 -0.211688385 -0.346334740  0.107120789
[171] -0.071198756 -0.977880000 -0.306639952  0.412307937  0.004094064
[176]  0.167476856 -0.380963013 -0.027783545  0.278068193 -0.088188383
[181]  0.423612015  0.063051722 -0.600981318  0.304736757  0.345276456
[186]  0.473336893 -0.464781470  0.038403083  0.231539745  0.233928802
[191] -0.180567912  0.456803697 -0.592971645 -0.145103597  0.137019492
[196] -0.143214980 -0.320463900 -0.237046839  0.413529754 -0.035461230
[201] -0.849988581  0.866427387 -0.001646444  0.188676139 -0.032860981
[206] -0.275067384 -0.325396802 -0.028948025  0.358461598 -0.102303030
[211]  0.136326787 -0.263000836  0.069772643  0.062924444  0.402080633
[216] -0.227531973 -0.136609063  0.100309755  0.498486968 -0.047371515
[221] -0.085389948 -0.112906161 -0.037865868  0.158778809 -0.405241705
[226] -0.427110298  0.184216647 -0.536925822  0.189085466 -0.341251871
&gt; 
&gt; proc.time()
   user  system elapsed 
  2.151   1.310   3.471 
</PRE>
</DIV><P><SPAN class="filename">BufferedMatrix.Rcheck/tests/rawCalltesting.Rout</SPAN></P>
<DIV class="kunpeng1 hscrollable">
<PRE style="padding: 3px;">

R Under development (unstable) (2023-01-14 r83615) -- &quot;Unsuffered Consequences&quot;
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#x27;license()&#x27; or &#x27;licence()&#x27; for distribution details.

R is a collaborative project with many contributors.
Type &#x27;contributors()&#x27; for more information and
&#x27;citation()&#x27; on how to cite R or R packages in publications.

Type &#x27;demo()&#x27; for some demos, &#x27;help()&#x27; for on-line help, or
&#x27;help.start()&#x27; for an HTML browser interface to help.
Type &#x27;q()&#x27; to quit R.

&gt; library(BufferedMatrix);library.dynam(&quot;BufferedMatrix&quot;,&quot;BufferedMatrix&quot;, .libPaths());

Attaching package: &#x27;BufferedMatrix&#x27;

The following objects are masked from &#x27;package:base&#x27;:

    colMeans, colSums, rowMeans, rowSums

&gt; 
&gt; prefix &lt;- &quot;dbmtest&quot;
&gt; directory &lt;- getwd()
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_Test_C&quot;,P)
RBufferedMatrix
Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Assigning Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xaaab16c408f0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xaaab16c408f0&gt;
&gt; .Call(&quot;R_bm_Test_C&quot;,P)
RBufferedMatrix
Checking dimensions
Rows: 5
Cols: 10
Buffer Rows: 1
Buffer Cols: 1

Assigning Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xaaab16c408f0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 10
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 1.000000 2.000000 3.000000 4.000000 0.000000 0.000000 0.000000 0.000000 0.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 0.000000 0.000000 0.000000 0.000000 0.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 0.000000 0.000000 0.000000 0.000000 0.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 0.000000 0.000000 0.000000 0.000000 0.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 0.000000 0.000000 0.000000 0.000000 0.000000 

&lt;pointer: 0xaaab16c408f0&gt;
&gt; rm(P)
&gt; 
&gt; #P &lt;- .Call(&quot;R_bm_Destroy&quot;,P)
&gt; #.Call(&quot;R_bm_Destroy&quot;,P)
&gt; #.Call(&quot;R_bm_Test_C&quot;,P)
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,5)
[1] TRUE
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 0
Buffer Rows: 1
Buffer Cols: 1

Printing Values






&lt;pointer: 0xaaab17401280&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab17401280&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 1
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 
0.000000 
0.000000 
0.000000 
0.000000 

&lt;pointer: 0xaaab17401280&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab17401280&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xaaab17401280&gt;
&gt; rm(P)
&gt; 
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,5)
[1] TRUE
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab16beedd0&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab16beedd0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xaaab16beedd0&gt;
&gt; 
&gt; .Call(&quot;R_bm_ResizeBuffer&quot;,P,5,5)
&lt;pointer: 0xaaab16beedd0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 5
Buffer Cols: 5

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xaaab16beedd0&gt;
&gt; 
&gt; .Call(&quot;R_bm_RowMode&quot;,P)
&lt;pointer: 0xaaab16beedd0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 5
Buffer Cols: 5

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xaaab16beedd0&gt;
&gt; 
&gt; .Call(&quot;R_bm_ColMode&quot;,P)
&lt;pointer: 0xaaab16beedd0&gt;
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 2
Buffer Rows: 5
Buffer Cols: 5

Printing Values
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 
0.000000 0.000000 

&lt;pointer: 0xaaab16beedd0&gt;
&gt; rm(P)
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,10)
[1] TRUE
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab1746c380&gt;
&gt; .Call(&quot;R_bm_SetPrefix&quot;,P,&quot;BufferedMatrixFile&quot;)
&lt;pointer: 0xaaab1746c380&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab1746c380&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab1746c380&gt;
&gt; dir(pattern=&quot;BufferedMatrixFile&quot;)
[1] &quot;BufferedMatrixFile196fb7607212b3&quot; &quot;BufferedMatrixFile196fb76550959d&quot;
&gt; rm(P)
&gt; dir(pattern=&quot;BufferedMatrixFile&quot;)
[1] &quot;BufferedMatrixFile196fb7607212b3&quot; &quot;BufferedMatrixFile196fb76550959d&quot;
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,10)
[1] TRUE
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab18da5990&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab18da5990&gt;
&gt; .Call(&quot;R_bm_ReadOnlyModeToggle&quot;,P)
&lt;pointer: 0xaaab18da5990&gt;
&gt; .Call(&quot;R_bm_isReadOnlyMode&quot;,P)
[1] TRUE
&gt; .Call(&quot;R_bm_ReadOnlyModeToggle&quot;,P)
&lt;pointer: 0xaaab18da5990&gt;
&gt; .Call(&quot;R_bm_isReadOnlyMode&quot;,P)
[1] FALSE
&gt; .Call(&quot;R_bm_isRowMode&quot;,P)
[1] FALSE
&gt; .Call(&quot;R_bm_RowMode&quot;,P)
&lt;pointer: 0xaaab18da5990&gt;
&gt; .Call(&quot;R_bm_isRowMode&quot;,P)
[1] TRUE
&gt; .Call(&quot;R_bm_ColMode&quot;,P)
&lt;pointer: 0xaaab18da5990&gt;
&gt; .Call(&quot;R_bm_isRowMode&quot;,P)
[1] FALSE
&gt; rm(P)
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_setRows&quot;,P,10)
[1] TRUE
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab1887bff0&gt;
&gt; .Call(&quot;R_bm_AddColumn&quot;,P)
&lt;pointer: 0xaaab1887bff0&gt;
&gt; 
&gt; .Call(&quot;R_bm_getSize&quot;,P)
[1] 10  2
&gt; .Call(&quot;R_bm_getBufferSize&quot;,P)
[1] 1 1
&gt; .Call(&quot;R_bm_ResizeBuffer&quot;,P,5,5)
&lt;pointer: 0xaaab1887bff0&gt;
&gt; 
&gt; .Call(&quot;R_bm_getBufferSize&quot;,P)
[1] 5 5
&gt; .Call(&quot;R_bm_ResizeBuffer&quot;,P,-1,5)
&lt;pointer: 0xaaab1887bff0&gt;
&gt; rm(P)
&gt; 
&gt; 
&gt; P &lt;- .Call(&quot;R_bm_Create&quot;,prefix,directory,1,1)
&gt; .Call(&quot;R_bm_Test_C&quot;,P)
RBufferedMatrix
Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Assigning Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 6.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xaaab18db1510&gt;
&gt; .Call(&quot;R_bm_getValue&quot;,P,3,3)
[1] 6
&gt; 
&gt; .Call(&quot;R_bm_getValue&quot;,P,100000,10000)
[1] NA
&gt; .Call(&quot;R_bm_setValue&quot;,P,3,3,12345.0)
[1] TRUE
&gt; .Call(&quot;R_bm_Test_C2&quot;,P)
Checking dimensions
Rows: 5
Cols: 5
Buffer Rows: 1
Buffer Cols: 1

Printing Values
0.000000 1.000000 2.000000 3.000000 4.000000 
1.000000 2.000000 3.000000 4.000000 5.000000 
2.000000 3.000000 4.000000 5.000000 6.000000 
3.000000 4.000000 5.000000 12345.000000 7.000000 
4.000000 5.000000 6.000000 7.000000 8.000000 

&lt;pointer: 0xaaab18db1510&gt;
&gt; rm(P)
&gt; 
&gt; proc.time()
   user  system elapsed 
  0.336   0.076   0.402 
</PRE>
</DIV><P><SPAN class="filename">BufferedMatrix.Rcheck/tests/Rcodetesting.Rout</SPAN></P>
<DIV class="kunpeng1 hscrollable">
<PRE style="padding: 3px;">

R Under development (unstable) (2023-01-14 r83615) -- &quot;Unsuffered Consequences&quot;
Copyright (C) 2023 The R Foundation for Statistical Computing
Platform: aarch64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#x27;license()&#x27; or &#x27;licence()&#x27; for distribution details.

R is a collaborative project with many contributors.
Type &#x27;contributors()&#x27; for more information and
&#x27;citation()&#x27; on how to cite R or R packages in publications.

Type &#x27;demo()&#x27; for some demos, &#x27;help()&#x27; for on-line help, or
&#x27;help.start()&#x27; for an HTML browser interface to help.
Type &#x27;q()&#x27; to quit R.

&gt; library(BufferedMatrix);library.dynam(&quot;BufferedMatrix&quot;,&quot;BufferedMatrix&quot;, .libPaths());

Attaching package: &#x27;BufferedMatrix&#x27;

The following objects are masked from &#x27;package:base&#x27;:

    colMeans, colSums, rowMeans, rowSums

&gt; 
&gt; Temp &lt;- createBufferedMatrix(100)
&gt; dim(Temp)
[1] 100   0
&gt; buffer.dim(Temp)
[1] 1 1
&gt; 
&gt; 
&gt; proc.time()
   user  system elapsed 
  0.347   0.054   0.385 
</PRE>
</DIV><HR>
<H3>Example timings</H3>
</BODY>
</HTML>
